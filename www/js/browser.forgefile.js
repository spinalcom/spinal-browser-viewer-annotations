(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=require("spinal-lib-issim"),a=i.TreeItem,l=module.exports={},c=function(e){function i(e){var t,r,a,l,c,u,s;n(this,i);var f=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(c=null!=e&&e.outputType?e.outputType:null!=e&&e.name?e.name:null!=e&&e.role?e.role:"no name",f.add_attr({name:c}),f._name.set(f.name),!e)return o(f);s={};for(a in e)if(e[a],e.hasOwnProperty(a)){if("name"===a)continue;if("children"===a)for(t=0,l=(u=e[a]).length;t<l;t++)r=u[t],f.add_child(new i(r));else s[a]=e[a]}return f.add_attr(s),f}return r(i,a),t(i,[{key:"display_suppl_context_actions",value:function(e){}},{key:"accept_child",value:function(e){return e instanceof i}}]),i}();l.ForgeFileDerivativesItem=c;var u=function(e){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Forge File";n(this,i);var t=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));t._name.set(e),t._viewable.set(!1);var r={name:t._name,filepath:new Path,state:new Choice(0,["Initial","Uploading","Uploading completed","Uploading to forge","Upload to forge completed","Translating","Translating completed","Export completed","Failed"]),urn:"",ask_token:!1,oauth:"",bucket_key:""};return t.add_attr(r),t}return r(i,a),t(i,[{key:"accept_child",value:function(e){return e instanceof c}}]),i}();l.ForgeFileItem=u;var s=function(e){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.add_attr({id:"",title:"",color:"",username:"",date:Date.now(),allObject:[]}),e}return r(t,Model),t}();l.NoteModel=s,e._createClass=t,e._classCallCheck=n,e._possibleConstructorReturn=o,e._inherits=r,e.issim=i,e.TreeItem=a,e._exports=l,e.ForgeFileDerivativesItem=c,e.ForgeFileItem=u,e.NoteModel=s}).call(window,window);

},{"spinal-lib-issim":2}],2:[function(require,module,exports){
(function (global){
(function(t){var e,A=module.exports={},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=function(e){function A(){A.__super__.constructor.call(this),this.add_attr({window_size:[0,0],location:{hash:"",host:"",hostname:"",href:"",pathname:"",port:"",protocol:"",search:""}}),A.inst.push(this),A.init||(A.init=!0,t.onresize=A.onresize,t.onhashchange=A.onhashchange),t.onresize(),t.onhashchange()}return n(A,e),A.inst=[],A.init=!1,A.onresize=function(){var e,n,i,o,r;for(r=[],e=0,i=(o=A.inst).length;e<i;e++)n=o[e],r.push(n.window_size.set([t.innerWidth,t.innerHeight]));return r},A.onhashchange=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=A.inst).length;t<n;t++)(e=i[t]).location.hash.set(location.hash),e.location.host.set(location.host),e.location.hostname.set(location.hostname),e.location.href.set(location.href),e.location.pathname.set(location.pathname),e.location.port.set(location.port),e.location.protocol.set(location.protocol),o.push(e.location.search.set(location.search));return o},A}(Model);var o;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;o=function(t){function e(t){null==t&&(t={panel_id:"id_0"}),e.__super__.constructor.call(this),this.add_attr({root:t}),this._assign_default_values(this.root)}return n(e,t),e._used_panel_id=[],e.prototype.make_info=function(t,e,A){var n,i;return n=[],i=this._make_graph_rec(n,this.root.get(),A),this._make_sizes(i,t,e),n},e.prototype.allow_destruction=function(t){return!t.immortal},e.prototype.find_item_with_panel_id=function(t,e){var A,n,i,o,r,s;if(null==e&&(e=this.root),null!=(r=e.panel_id)?r.equals(t):void 0)return e;if(null!=e.children)for(n=0,i=(s=e.children).length;n<i;n++)if(A=s[n],null!=(o=this.find_item_with_panel_id(t,A)))return o},e.prototype.find_parent_of_panel_id=function(t,e){var A,n,i,o,r,s;if(null==e&&(e=this.root),null!=e.children)for(n=0,i=(r=e.children).length;n<i;n++){if(null!=(s=(A=r[n]).panel_id)?s.equals(t):void 0)return e;if(null!=(o=this.find_parent_of_panel_id(t,A)))return o}},e.prototype.mk_split=function(t,e,A,n,i){var o,r,s,a;return null==i&&(i=this._find_new_panel_id([])),a=(s=(o=this.find_item_with_panel_id(A)).get()).strength||1,r=[s,{panel_id:i}],e||r.reverse(),r[0].strength=0+n,r[1].strength=1-n,o.set({sep_norm:t,strength:a,children:r,panel_id:this._find_new_panel_id([i])}),i},e.prototype.rm_panel=function(t){var e,A,n,i;return!!this.allow_destruction(t)&&(e=this.find_item_with_panel_id(t),2===(i=this.find_parent_of_panel_id(t)).children.length?(n=1*(i.children[0]===e),(A=i.children[n].get()).strength=i.strength.get(),i.set(A)):console.log("TODO"),!0)},e.prototype.panel_id_of_term_panels=function(){var t;return t=[],this._get_panel_id_of_term_panels(t,this.root),t},e.prototype.panel_ids=function(){var t;return t=[],this._get_panel_ids(t,this.root),t},e.prototype._make_graph_rec=function(t,e,A,n){var i,o,r,s,a,l,c,h,d;if(null==n&&(n=e),d={data:e,pan_mana:this,sep_norm:e.sep_norm||0,border_s:null!=e.border_s?e.border_s:A,min_size:e.min_size||[0,0],max_size:e.max_size||[1e5,1e5],selected:e.selected,immortal:e.immortal,strength:e.strength||1,panel_id:e.panel_id,children:[],parent:void 0,num_in_p:void 0,p_min:void 0,p_max:void 0,d_border:void 0,min_by:function(t){var e,A,n,i,o;for(n=this.min_size[t],A=0,i=(o=this.children).length;A<i;A++)e=o[A],n=Math.max(n,e.min_by(t));return n},max_by:function(t){var e,A,n,i,o;for(n=this.max_size[t],A=0,i=(o=this.children).length;A<i;A++)e=o[A],n=Math.min(n,e.max_by(t));return n},contains:function(t){return null!=t&&t[0]>=this.p_min[0]&&t[0]<this.p_max[0]&&t[1]>=this.p_min[1]&&t[1]<this.p_max[1]},can_be_destroyed:function(){var t,A,n;if(this.immortal)return!1;for(t=0,A=(n=this.children).length;t<A;t++)if(!n[t].can_be_destroyed())return!1;return!!this.pan_mana.allow_destruction(e)}},null!=(l=e.children)?l.length:void 0){for(a=o=0,c=e.children.length;0<=c?o<c:o>c;a=0<=c?++o:--o)i=this._make_graph_rec(t,e.children[a],A,n),d.children.push(i),i.parent=d,i.num_in_p=a;if(d.children.length)for(s=r=0,h=d.children.length-1;0<=h?r<h:r>h;s=0<=h?++r:--r)d.children[s].d_border=d.sep_norm}return t.push(d),d},e.prototype._make_sizes=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N;if(t.p_min=e,t.p_max=A,t.children.length){for(N=A[t.sep_norm]-e[t.sep_norm],p=s=0,g=t.children.length-1;0<=g?s<g:s>g;p=0<=g?++s:--s)N-=t.children[p].border_s;for(B=0,a=0,l=(v=t.children).length;a<l;a++)B+=v[a].strength;for(i=function(){var e,A,n,i;for(i=[],A=0,e=(n=t.children).length;A<e;A++)n[A],i.push(0);return i}(),E=function(){var e,A,n,i;for(i=[],A=0,e=(n=t.children).length;A<e;A++)n[A],i.push(0);return i}();;){for(r=!0,h=_=0,y=t.children.length;0<=y?_<y:_>y;h=0<=y?++_:--_)i[h]||(b=(n=t.children[h]).strength,null==t.sep_norm&&alert("sep_norm is not defined"),(o=Math.round(N*b/B))<(c=n.min_by(t.sep_norm))&&(o=c,N-=c,r=!1,i[h]=1,B-=b),o>(c=n.max_by(t.sep_norm))&&(o=c,N-=c,r=!1,i[h]=1,B-=b),E[h]=o);if(r)break}for(f=e[t.sep_norm],x=[],p=m=0,w=t.children.length;0<=w?m<w:m>w;p=0<=w?++m:--m)u=[e[0],e[1]],d=[A[0],A[1]],u[t.sep_norm]=f,d[t.sep_norm]=f+E[p],this._make_sizes(t.children[p],u,d),x.push(f+=E[p]+t.children[p].border_s);return x}},e.prototype._id_in_data_rec=function(t,e){var A,n,i,o,r;if(null!=(o=t.panel_id)?o.equals(e):void 0)return!0;if(null!=t.children)for(n=0,i=(r=t.children).length;n<i;n++)if(A=r[n],this._id_in_data_rec(A,e))return!0;return!1},e.prototype._find_new_panel_id=function(t){var A,n;for(null==t&&(t=[]),A=0;;){if(n="id_"+A,t.indexOf(n)<0&&e._used_panel_id.indexOf(n)<0&&!this._id_in_data_rec(this.root,n))return e._used_panel_id.push(n),n;A+=1}},e.prototype._assign_default_values=function(t){var e,A,n,i,o;if(null==t.panel_id&&t.add_attr({panel_id:new Str(this._find_new_panel_id([]))}),null==t.strength&&t.add_attr({strength:1}),null!=t.children){for(o=[],A=0,n=(i=t.children).length;A<n;A++)e=i[A],o.push(this._assign_default_values(e));return o}},e.prototype._get_panel_id_of_term_panels=function(t,e){var A,n,i,o,r,s;if(null!=(o=e.children)?o.length:void 0){for(s=[],n=0,i=(r=e.children).length;n<i;n++)A=r[n],s.push(this._get_panel_id_of_term_panels(t,A));return s}return t.push(e.panel_id.get())},e.prototype._get_panel_ids=function(t,e){var A,n,i,o,r,s;if(t.push(e.panel_id.get()),null!=(o=e.children)?o.length:void 0){for(s=[],n=0,i=(r=e.children).length;n<i;n++)A=r[n],s.push(this._get_panel_ids(t,A));return s}},e}(Model);var r;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;r=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({step:new Val,_up:new Bool,_down:new Bool,val:new Val})}return n(e,t),e}(Model);var s;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;s=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({color_stop:[]}),"b2w"===t&&(this.add_color([255,0,0,255],0),this.add_color([0,255,0,255],0),this.add_color([0,0,255,255],1))}return n(e,t),e.prototype.add_color=function(t,e){return null==t&&(t=[0,0,0,255]),null==e&&(e=0),this.color_stop.push({color:new a(t[0],t[1],t[2],t[3]),position:e})},e.prototype.remove_color=function(t){return this.color_stop.splice(t,1)},e.prototype.get_fragment_shader=function(t,e,A){var n,i,o,r,s;for(null==e&&(e=""),null==A&&(A=""),(i=function(){var t,e,A,i;for(i=[],t=0,e=(A=this.color_stop).length;t<e;t++)n=A[t],i.push([n.position.get(),n.color.r.get()/255,n.color.g.get()/255,n.color.b.get()/255,n.color.a.get()/255]);return i}.call(this)).sort(function(t,e){return t[0]-e[0]}),o="precision mediump float;",o+="varying float "+t+";",A.length&&(o+="varying vec3 "+A+";"),e.length&&(o+="uniform vec4 "+e+";"),o+="void main( void ) {",A.length?o+="    float cm = abs( "+A+"[ 2 ] );":o+="    float cm = 1.0;",n=r=1,s=i.length;1<=s?r<s:r>s;n=1<=s?++r:--r)e.length?o+="if ( "+t+" <= float( "+i[n-0][0]+" ) ) {\n vec4 c1 = vec4( "+e+".r * float( "+i[n-0][1]+" ), "+e+".g * float( "+i[n-0][2]+" ), "+e+".b * float( "+i[n-0][3]+" ), "+e+".a * float( "+i[n-0][4]+" ) );\n vec4 c0 = vec4( "+e+".r * float( "+i[n-1][1]+" ), "+e+".g * float( "+i[n-1][2]+" ), "+e+".b * float( "+i[n-1][3]+" ), "+e+".a * float( "+i[n-1][4]+" ) );\n gl_FragColor = c0 + ( c1 - c0 ) * ( "+t+" - float( "+i[n-1][0]+" ) ) / ( float( "+i[n-0][0]+" ) - float( "+i[n-1][0]+" ) );\n gl_FragColor.r *= cm; gl_FragColor.g *= cm; gl_FragColor.b *= cm;\n return;\n }\n":o+="if ( "+t+" <= float( "+i[n-0][0]+" ) ) {\n vec4 c0 = vec4( "+i[n-1][1]+", "+i[n-1][2]+", "+i[n-1][3]+", "+i[n-1][4]+" );\n vec4 c1 = vec4( "+i[n-0][1]+", "+i[n-0][2]+", "+i[n-0][3]+", "+i[n-0][4]+" );\n gl_FragColor = c0 + ( c1 - c0 ) * ( "+t+" - float( "+i[n-1][0]+" ) ) / ( float( "+i[n-0][0]+" ) - float( "+i[n-1][0]+" ) );\n gl_FragColor.r *= cm; gl_FragColor.g *= cm; gl_FragColor.b *= cm;\n return;\n }\n";return o+"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n }\n"},e.prototype.get_color_from_pos=function(t){var e,A,n,i,o,r,s;for(n=[],A=i=0,r=(s=this.color_stop).length;i<r;A=++i)if(s[A].position.get()>=t){if(0===A)return[this.color_stop[0].color.r.get(),this.color_stop[0].color.g.get(),this.color_stop[0].color.b.get(),this.color_stop[0].color.a.get()];n.push(A-1),n.push(A);break}return 0===n.length?(o=this.color_stop.length-1,[this.color_stop[o].color.r.get(),this.color_stop[o].color.g.get(),this.color_stop[o].color.b.get(),this.color_stop[o].color.a.get()]):(e=Math.abs(this.color_stop[n[1]].position.get()-this.color_stop[n[0]].position.get())/Math.abs(this.color_stop[n[0]].position.get()-t),[this.color_stop[n[0]].color.r.get()-Math.round(Math.abs(this.color_stop[n[1]].color.r.get()-this.color_stop[n[0]].color.r.get())/e),this.color_stop[n[0]].color.g.get()-Math.round(Math.abs(this.color_stop[n[1]].color.g.get()-this.color_stop[n[0]].color.g.get())/e),this.color_stop[n[0]].color.b.get()-Math.round(Math.abs(this.color_stop[n[1]].color.b.get()-this.color_stop[n[0]].color.b.get())/e),this.color_stop[n[0]].color.a.get()-Math.round(Math.abs(this.color_stop[n[1]].color.a.get()-this.color_stop[n[0]].color.a.get())/e)])},e}(Model);var a;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;a=function(t){function e(t,A,n,i){null==t&&(t=0),null==A&&(A=0),null==n&&(n=0),null==i&&(i=255),e.__super__.constructor.call(this),this.add_attr({r:new ConstrainedVal(t,{min:0,max:255,div:255}),g:new ConstrainedVal(A,{min:0,max:255,div:255}),b:new ConstrainedVal(n,{min:0,max:255,div:255}),a:new ConstrainedVal(i,{min:0,max:255,div:255})})}return n(e,t),e.prototype.to_hex=function(){return"#"+e._ts(this.r)+e._ts(this.g)+e._ts(this.b)},e.prototype.to_rgba=function(){return"rgba("+this.r.get()+", "+this.g.get()+", "+this.b.get()+", "+this.a.get()+")"},e.prototype.to_hsv=function(){return e.rgb_to_hsv(this.r.get(),this.g.get(),this.b.get())},e.prototype._set=function(t){return t instanceof e?(this.r.set(t.r),this.g.set(t.g),this.b.set(t.b),this.a.set(t.a)):"string"==typeof t&&"#"===t[0]?4===t.length?(this.r.set("0x"+t.slice(1,2)+t.slice(1,2)),this.g.set("0x"+t.slice(2,3)+t.slice(2,3)),this.b.set("0x"+t.slice(3,4)+t.slice(3,4)),this.a.set(255)):7===t.length?(this.r.set("0x"+t.slice(1,3)),this.g.set("0x"+t.slice(3,5)),this.b.set("0x"+t.slice(5,7)),this.a.set(255)):console.error("get color "+t):console.error("get color "+t)},e.rgb_to_hsv=function(t,e,A){var n,i,o,r,s;return t/=255,e/=255,A/=255,r=Math.min(t,e,A),n=(o=Math.max(t,e,A))-r,o?(s=n/o,n+=!n,i=t===o?(e-A)/n:e===o?2+(A-t)/n:4+(t-e)/n,(i*=60/360)<0&&(i+=1),[i,s,o]):[0,0,0]},e.hsv_to_rgb=function(t,e,A){var n,i,o,r;switch(n=(t*=6)-(i=Math.floor(t)),1&i||(n=1-n),o=Math.round(255*A*(1-e)),r=Math.round(255*A*(1-e*n)),A=Math.round(255*A),i){case 1:return[r,A,o];case 2:return[o,A,r];case 3:return[o,r,A];case 4:return[r,o,A];case 5:return[A,o,r];default:return[A,r,o]}},e._ts=function(t){var e;return 1===(e=t.get().toString(16)).length&&(e="0"+e),e},e}(Model);var l;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;l=function(t){function e(t,A,n){null==t&&(t=""),null==A&&(A="text"),null==n&&(n=void 0),e.__super__.constructor.call(this),this.add_attr({value:new Str(t),language:A,callback:n})}return n(e,t),e.prototype.get=function(){return this.value.get()},e.prototype.set=function(t){return this.value.set(t)},e.prototype.get_language=function(){return this.language.get()},e}(Model);var c;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;(c="undefined"!=typeof global&&null!==global?global:this).Button=function(t){function e(t,A,n,i){null==t&&(t="Submit"),null==A&&(A=t),null==n&&(n=!1),null==i&&(i=!1),e.__super__.constructor.call(this),this.add_attr({disabled:i,state:n,label:[t,A]})}return n(e,t),e.prototype.get=function(){return this.state.get()},e.prototype.txt=function(){return this.label[1*this.state.get()]},e.prototype.equals=function(t){return this.state.equals(t)},e.prototype._set=function(t){if(this.change_allowed(t))return this.state.set(t)},e.prototype.toggle=function(){return this.set(!this.get())},e.prototype.change_allowed=function(t){return 1},e}(Model);var h;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;h=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.static_length=function(){return 3},e.sub=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},e.add=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},e.mul=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]},e.div=function(t,e){return[t[0]/e[0],t[1]/e[1],t[2]/e[2]]},e.mus=function(t,e){return[t*e[0],t*e[1],t*e[2]]},e.dis=function(t,e){return[t[0]/e,t[1]/e,t[2]/e]},e.ads=function(t,e){return[t+e[0],t+e[1],t+e[2]]},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.cro=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.min=function(t){return[-t[0],-t[1],-t[2]]},e.len=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},e.nor=function(t){var A;return A=e.len(t)+1e-40,[t[0]/A,t[1]/A,t[2]/A]},e.dist=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))},e.equ=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.rot=function(t,A){var n,i,o,r,s,a;return n=e.len(A)+1e-40,r=A[0]/n,s=A[1]/n,a=A[2]/n,i=Math.cos(n),o=Math.sin(n),[(r*r+(1-r*r)*i)*t[0]+(r*s*(1-i)-a*o)*t[1]+(r*a*(1-i)+s*o)*t[2],(s*r*(1-i)+a*o)*t[0]+(s*s+(1-s*s)*i)*t[1]+(s*a*(1-i)-r*o)*t[2],(a*r*(1-i)-s*o)*t[0]+(a*s*(1-i)+r*o)*t[1]+(a*a+(1-a*a)*i)*t[2]]},e.sm=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.determinant=function(t){var A,n,i,o,r,s,a,l;if(1===(a=t.length))return t[0][0];if(2===a)return t[0][0]*t[1][1]-t[1][0]*t[0][1];for(A=0,o=r=0,l=a;0<=l?r<l:r>l;o=0<=l?++r:--r)s=function(){var e,A,r;for(r=[],n=e=1,A=a;1<=A?e<A:e>A;n=1<=A?++e:--e)r.push(function(){var e,A,r;for(r=[],i=e=0,A=a;0<=A?e<A:e>A;i=0<=A?++e:--e)i!==o&&r.push(t[n][i]);return r}());return r}(),A+=Math.pow(-1,o)*t[0][o]*e.determinant(s);return A},e.solve=function(t,A){var n,i,o,r,s,a,l,c,h,d,u,p,_,f;if(l=A.length,null!=t[0].length){for(i=e.determinant(t),t[0].length!==l&&console.log("pb with solve args"),a=function(){var t,e,A;for(A=[],o=t=0,e=l;0<=e?t<e:t>e;o=0<=e?++t:--t)A.push(function(){var t,e,A;for(A=[],r=t=0,e=l;0<=e?t<e:t>e;r=0<=e?++t:--t)A.push(0);return A}());return A}(),f=[],o=s=0,u=l;0<=u?s<u:s>u;o=0<=u?++s:--s){for(d=c=0,p=l;0<=p?c<p:c>p;d=0<=p?++c:--c)for(n=h=0,_=l;0<=_?h<_:h>_;n=0<=_?++h:--h)a[d][n]=n===o?A[d]:t[d][n];f.push(e.determinant(a)/i)}return f}return a=function(){var e,A,n;for(n=[],o=e=0,A=l;0<=A?e<A:e>A;o=0<=A?++e:--e)n.push(function(){var e,A,n;for(A=[],r=n=0,e=l;0<=e?n<e:n>e;r=0<=e?++n:--n)A.push(t[l*r+o]);return A}());return n}(),e.solve(a,A)},e.outprod=function(t,e){var A,n,i,o,r;for(A=new d,n=o=0;o<=2;n=++o)for(i=r=0;r<=2;i=++r)A[n][i]=t[n]*e[i];return A},e.sum=function(t){return t[0]+t[1]+t[2]},e}(Vec);var d,u;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;d=function(t){function e(){this[0]=new h,this[1]=new h,this[2]=new h,this[0]=[0,0,0],this[1]=[0,0,0],this[2]=[0,0,0]}return n(e,h),e.sub=function(t,e){return[[t[0][0]-e[0][0],t[0][1]-e[0][1],t[0][2]-e[0][2]],[t[1][0]-e[1][0],t[1][1]-e[1][1],t[1][2]-e[1][2]],[t[2][0]-e[2][0],t[2][1]-e[2][1],t[2][2]-e[2][2]]]},e.add=function(t,e){return[[t[0][0]+e[0][0],t[0][1]+e[0][1],t[0][2]+e[0][2]],[t[1][0]+e[1][0],t[1][1]+e[1][1],t[1][2]+e[1][2]],[t[2][0]+e[2][0],t[2][1]+e[2][1],t[2][2]+e[2][2]]]},e.mul=function(t,e){return[[t[0][0]*e[0][0],t[0][1]*e[0][1],t[0][2]*e[0][2]],[t[1][0]*e[1][0],t[1][1]*e[1][1],t[1][2]*e[1][2]],[t[2][0]*e[2][0],t[2][1]*e[2][1],t[2][2]*e[2][2]]]},e.dot=function(t,e){return 3===e[0].length?[[t[0][0]*e[0][0]+t[0][1]*e[1][0]+t[0][2]*e[2][0],t[0][0]*e[0][1]+t[0][1]*e[1][1]+t[0][2]*e[2][1],t[0][0]*e[0][2]+t[0][1]*e[1][2]+t[0][2]*e[2][2]],[t[1][0]*e[0][0]+t[1][1]*e[1][0]+t[1][2]*e[2][0],t[1][0]*e[0][1]+t[1][1]*e[1][1]+t[1][2]*e[2][1],t[1][0]*e[0][2]+t[1][1]*e[1][2]+t[1][2]*e[2][2]],[t[2][0]*e[0][0]+t[2][1]*e[1][0]+t[2][2]*e[2][0],t[2][0]*e[0][1]+t[2][1]*e[1][1]+t[2][2]*e[2][1],t[2][0]*e[0][2]+t[2][1]*e[1][2]+t[2][2]*e[2][2]]]:[t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2],t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2],t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2]]},e.tra=function(t){return[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]]},e.mus=function(t,e){return[[t*e[0][0],t*e[0][1],t*e[0][2]],[t*e[1][0],t*e[1][1],t*e[1][2]],[t*e[2][0],t*e[2][1],t*e[2][2]]]},e}(),u=function(){function t(t){this.model=t,this.max_patchs=3,this.patch_undo=[],this.patch_redo=[],this.snapshotok=!0}return t.prototype.snapshot=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u;if(null==t&&(t=!1),(this.snapshotok||t)&&(this.snapshotok=!1,e=this._date_last_snapshot(),this.model._date_last_modification>e&&(this.patch_redo=[],this.patch_undo.push({date:ModelProcessManager._counter,data:this.model.get_state(e)})),this.patch_undo.length>this.max_patchs)){for(a=this.patch_undo[0].data.split("\n"),l=this.patch_undo[1].data.split("\n"),a.shift()!==l.shift()&&console.log("weird"),c={},n=0,r=a.length;n<r;n++)(o=a[n]).length&&(c[(d=o.split(" "))[0]]={type:d[1],data:d[2]});for("",i=0,s=l.length;i<s;i++)(o=l[i]).length&&delete c[(d=o.split(" "))[0]];for(h in c)A=c[h],this.patch_undo[1].data+="\n"+h+" "+A.type+" "+A.data;this.patch_undo.shift()}return null!=this._timer_snap&&clearTimeout(this._timer_snap),this._timer_snap=setTimeout((u=this,function(){return u.snapshotok=!0}),250)},t.prototype.undo=function(t){var e,A;if(null==t&&(t=1),this.snapshot(!0),(t=Math.min(t,this.patch_undo.length-1))>0){for(e=0,A=t;0<=A?e<A:e>A;0<=A?++e:--e)this.patch_redo.push(this.patch_undo.pop());return this._set_state_undo_list()}},t.prototype.redo=function(t){var e,A,n;if(null==t&&(t=1),e=this._date_last_snapshot(),this.model._date_last_modification>e&&(this.patch_redo=[]),(t=Math.min(t,this.patch_redo.length))>0){for(A=0,n=t;0<=n?A<n:A>n;0<=n?++A:--A)this.patch_undo.push(this.patch_redo.pop());return this._set_state_undo_list()}},t.prototype._set_state_undo_list=function(){var t,e,A,n,i,o,r,s,a;for(r={},t=0,n=(s=this.patch_undo).length;t<n;t++)for((o=s[t].data.split("\n")).shift(),e=0,i=o.length;e<i;e++)(A=o[e]).length&&(r[(a=A.split(" "))[0]]={type:a[1],data:a[2],buff:void 0});if(this.model._set_state(r[this.model.model_id].data,r),this.patch_undo.length)return this.patch_undo[this.patch_undo.length-1].date=ModelProcessManager._counter+2},t.prototype._date_last_snapshot=function(){return this.patch_undo.length?this.patch_undo[this.patch_undo.length-1].date:-1},t}();var p;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;p=function(t){function e(t){null==t&&(t=new a(200,200,200,255)),e.__super__.constructor.call(this),this.add_attr({color:t})}return n(e,t),e.prototype.beg_ctx=function(t){if("2d"===t.ctx_type)return t.ctx.fillStyle=this.color.to_rgba(),t.ctx.strokeStyle=this.color.to_rgba()},e.prototype.end_ctx=function(t){},e.prototype.draw=function(t,e){return t.ctx.beginPath(),e(t),t.ctx.fill(),t.ctx.stroke()},e.prototype.draw_triangle=function(t,e,A,n,i){var o,r,s,a,l,c,h,d;return null==i&&(i=[.9,.9,.9]),d="precision mediump float;\n attribute vec3 pos;\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n }\n",r="precision mediump float;\n '           uniform vec4 col;\n void main( void ) {\n gl_FragColor = col;\n }",h=t.cm.gl_prog(d,r),l=(s=t.ctx).createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,l),o=new Float32Array([2*e[0]/t.w-1,1-2*e[1]/t.h,e[2],2*A[0]/t.w-1,1-2*A[1]/t.h,A[2],2*n[0]/t.w-1,1-2*n[1]/t.h,n[2]]),s.bufferData(s.ARRAY_BUFFER,o,s.STATIC_DRAW),s.useProgram(h),c=s.getAttribLocation(h,"pos"),s.enableVertexAttribArray(c),a=s.getUniformLocation(h,"col"),s.uniform4f(a,i[0],i[1],i[2],1),s.bindBuffer(s.ARRAY_BUFFER,l),s.vertexAttribPointer(c,3,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLE_STRIP,0,3),s.deleteBuffer(l),s.bindBuffer(s.ARRAY_BUFFER,null),s.disableVertexAttribArray(c)},e}(Model);var _;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;_=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({lines:new f(new a(255,255,255,255),1),selected_lines:new f(new a(200,200,100,255),1.5),points:new m(new a(255,255,255,255),4,new a(255,255,255,255),1),editable_points:new m(new a(0,255,0,255),4,new a(255,255,255,255),1),surfaces:new p(new a(150,150,150,255)),selected_points:new m(new a(255,0,0,255),4,new a(255,255,255,255),1),highlighted_points:new m(new a(0,0,0,0),5,new a(255,255,0,255),1),selected_elements:new f(new a(255,0,0,255),1),highlighted_elements:new f(new a(255,255,0,255),1.5),constrain_boundary_displacement:new f(new a(122,0,0,255),2),constrain_boundary_displacement_hover:new f(new a(122,0,0,255),3),constrain_boundary_strain:new f(new a(200,100,100,255),2),constrain_boundary_strain_hover:new f(new a(200,100,100,255),3),constrain_boundary_pressure:new f(new a(50,0,0,255),2),constrain_boundary_pressure_hover:new f(new a(50,0,0,255),3),free_boundary:new f(new a(0,122,0,255),2),free_boundary_hover:new f(new a(0,122,0,255),3),gradient_legend:new s,anim_delay:300,zoom_factor:5}),this.gradient_legend.add_color([255,255,255,255],0),this.gradient_legend.add_color([0,0,0,255],1)}return n(e,t),e}(Model);var f;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;f=function(t){function e(t,A){null==t&&(t=new a(255,255,255,255)),null==A&&(A=2),e.__super__.constructor.call(this),this.add_attr({color:t,width:A})}return n(e,t),e.prototype.beg_ctx=function(t){var e,A,n;return"2d"===t.ctx_type?(t.ctx.lineWidth=this.width.get(),t.ctx.strokeStyle=this.color.to_rgba()):(n="precision mediump float;\n attribute vec3 a_position;\n uniform vec4 u_color;\n uniform float w;\n uniform float h;\n void main( void ) {\n gl_Position = vec4( \n 2.0 * a_position[ 0 ] / w - 1.0,\n 1.0 - 2.0 * a_position[ 1 ] / h,\n a_position[ 2 ] - 1e-5,\n 1.0 );\n }\n",e="precision mediump float;\n uniform vec4 u_color;\n void main( void ) {\n gl_FragColor = u_color;\n }\n",A=t.ctx,this.ps=t.cm.gl_prog(n,e),A.useProgram(this.ps),this.ps.aposAttrib=A.getAttribLocation(this.ps,"a_position"),A.enableVertexAttribArray(this.ps.aposAttrib),this.ps.colorUniform=A.getUniformLocation(this.ps,"u_color"),this.ps.wUniform=A.getUniformLocation(this.ps,"w"),this.ps.hUniform=A.getUniformLocation(this.ps,"h"))},e.prototype.end_ctx=function(t){},e.prototype.draw_straight_proj=function(t,e,A){var n,i,o,r,s,a;return"2d"===t.ctx_type?(t.ctx.beginPath(),this.contour_straight_proj(t,e,A),t.ctx.stroke()):(n=t.ctx,a=new Float32Array([e[0],e[1],e[2],A[0],A[1],A[2]]),o=new Uint16Array([0,1]),s=(r=function(t,e){var A;return A=n.createBuffer(),n.bindBuffer(t,A),n.bufferData(t,e,n.STATIC_DRAW),A})(n.ARRAY_BUFFER,a),i=r(n.ELEMENT_ARRAY_BUFFER,o),n.vertexAttribPointer(this.ps.aposAttrib,3,n.FLOAT,!1,0,0),n.lineWidth(this.width.get()),n.uniform4f(this.ps.colorUniform,this.color.r.get()/255,this.color.g.get()/255,this.color.b.get()/255,this.color.a.get()/255),n.uniform1f(this.ps.wUniform,t.w),n.uniform1f(this.ps.hUniform,t.h),n.drawElements(n.LINES,2,n.UNSIGNED_SHORT,0),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.deleteBuffer(s),n.deleteBuffer(i))},e.prototype.contour_straight_proj=function(t,e,A,n){return null==n&&(n=!0),n&&t.ctx.moveTo(e[0],e[1]),t.ctx.lineTo(A[0],A[1])},e.prototype.draw_arc=function(t,e,A,n){return"2d"===t.ctx_type?(t.ctx.beginPath(),this.contour_arc(t,e,A,n),t.ctx.stroke()):this.contour_arc(t,e,A,n)},e.prototype.contour_arc=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y;for(null==i&&(i=!0),s=this._get_center_radius(e,A,n),_=[],d=[],r=h=m=1-i,g=u=Math.ceil(Math.abs(s.a[2]-s.a[0])/.1);m<=g?h<=g:h>=g;r=m<=g?++h:--h)o=s.a[0]+(s.a[2]-s.a[0])*r/u,f=s.R*Math.cos(o),v=s.R*Math.sin(o),p=t.re_2_sc.proj([s.C[0]+f*s.P01[0]+v*s.P02[0],s.C[1]+f*s.P01[1]+v*s.P02[1],s.C[2]+f*s.P01[2]+v*s.P02[2]]),"2d"===t.ctx_type?r?t.ctx.lineTo(p[0],p[1]):t.ctx.moveTo(p[0],p[1]):(_.push(p[0]),_.push(p[1]),_.push(p[2]),r&&(d.push(r-1),d.push(r-0)));if("2d"!==t.ctx_type)return a=t.ctx,y=new Float32Array(_),l=new Uint16Array(d),(c=function(t,e){var A;return A=a.createBuffer(),a.bindBuffer(t,A),a.bufferData(t,e,a.STATIC_DRAW),A})(a.ARRAY_BUFFER,y),c(a.ELEMENT_ARRAY_BUFFER,l),a.vertexAttribPointer(this.ps.aposAttrib,3,a.FLOAT,!1,0,0),a.lineWidth(this.width.get()),a.uniform4f(this.ps.colorUniform,this.color.r.get()/255,this.color.g.get()/255,this.color.b.get()/255,this.color.a.get()/255),a.uniform1f(this.ps.wUniform,t.w),a.uniform1f(this.ps.hUniform,t.h),a.drawElements(a.LINES,d.length,a.UNSIGNED_SHORT,0),a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)},e.prototype.draw_interpolated_arcs=function(t,e){return 3===e.length?this.draw_arc(t,e[0],e[1],e[2]):(t.ctx.beginPath(),this.contour_interpolated_arcs(t,e),t.ctx.stroke())},e.prototype.contour_interpolated_arcs=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w;if(null==A&&(A=!0),3===e.length)return this.contour_arc(t,e[0],e[1],e[2]);for(y=function(){var t,A,n;for(n=[],s=t=0,A=e.length-2;0<=A?t<A:t>A;s=0<=A?++t:--t)n.push(this._get_center_radius(e[s],e[s+1],e[s+2]));return n}.call(this),_=t.re_2_sc.proj(e[0]),A&&t.ctx.moveTo(_[0],_[1]),u=a=1;a<=30;u=++a)o=u/30,r=y[0].a[0]+(y[0].a[1]-y[0].a[0])*o,g=this._get_proj_arc(t,y[0],r),t.ctx.lineTo(g[0],g[1]);for(s=l=0,v=e.length-3;0<=v?l<v:l>v;s=0<=v?++l:--l)for(u=c=0;c<30;u=++c)o=u/30,n=y[s+0].a[1]+(y[s+0].a[2]-y[s+0].a[1])*o,i=y[s+1].a[0]+(y[s+1].a[1]-y[s+1].a[0])*o,f=this._get_proj_arc(t,y[s+0],n),m=this._get_proj_arc(t,y[s+1],i),g=h.add(h.mus(1-o,f),h.mus(o,m)),t.ctx.lineTo(g[0],g[1]);for(p=y.length-1,w=[],u=d=0;d<=30;u=++d)o=u/30,r=y[p].a[1]+(y[p].a[2]-y[p].a[1])*o,g=this._get_proj_arc(t,y[p],r),w.push(t.ctx.lineTo(g[0],g[1]));return w},e.prototype._get_center_radius=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f;return i=h.sub(e,t),o=h.sub(A,t),d=h.len(i),i=h.mus(1/d,i),u=h.dot(o,i),o=h.sub(o,h.mus(u,i)),_=h.len(o),o=h.mus(1/_,o),p=.5*d,f=(u*u+_*_-u*d)/(2*_),n=h.add(h.add(t,h.mus(p,i)),h.mus(f,o)),r=h.len(h.sub(t,n)),s=Math.atan2(0-f,0-p),a=Math.atan2(0-f,d-p),c=.5*(s+(l=Math.atan2(_-f,u-p))),Math.abs(a-c)>Math.abs(s-c)&&(l<s?l+=2*Math.PI:s+=2*Math.PI),c=.5*(s+l),Math.abs(a-c)>Math.abs(s-c)&&(a+=2*Math.PI),{xc:p,yx:f,C:n,R:r,a:[s,a,l],P01:i,P02:o}},e.prototype._get_proj_arc=function(t,e,A){var n,i;return n=e.R*Math.cos(A),i=e.R*Math.sin(A),t.re_2_sc.proj([e.C[0]+n*e.P01[0]+i*e.P02[0],e.C[1]+n*e.P01[1]+i*e.P02[1],e.C[2]+n*e.P01[2]+i*e.P02[2]])},e}(Model);var m;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;m=function(t){function e(t,A,n,i){null==t&&(t=new a(255,255,255,255)),null==A&&(A=5),null==n&&(n=new a(200,200,200,255)),null==i&&(i=1),e.__super__.constructor.call(this),this.add_attr({color:t,width:A,line_color:n,line_width:i})}return n(e,t),e.prototype.beg_ctx=function(t){var e;return(e=t.ctx_2d()).fillStyle=this.color.to_rgba(),e.lineWidth=this.line_width.get(),e.strokeStyle=this.line_color.to_rgba()},e.prototype.end_ctx=function(t){},e.prototype.draw_proj=function(t,e){var A;return(A=t.ctx_2d()).beginPath(),A.arc(e[0],e[1],this.width.get(),0,2*Math.PI,!0),A.fill(),A.stroke()},e}(Model);var g;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.draw=function(t){},e.prototype.update_min_max=function(t,e){},e.prototype.get_movable_entities=function(t,e,A){},e.prototype.z_index=function(){return 0},e.prototype.sub_canvas_items=function(){return[]},e}(Model);var v;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e}(Model);var y;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;y=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({data:t})}return n(e,g),e.prototype.get_sub_field=function(t){return this.data.get_sub_field(t)},e.prototype.draw=function(t,e){return this._udpate_parameters_if_necessary(),this.data.draw(t,this.drawing_parameters,e)},e.prototype.update_min_max=function(t,e){return this.data.update_min_max(t,e)},e.prototype.disp_only_in_model_editor=function(){return this.drawing_parameters},e.prototype.z_index=function(){return this.data.z_index()},e.prototype._udpate_parameters_if_necessary=function(){if(null==this.drawing_parameters)return this.data.get_drawing_parameters(this)},e}();var w;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;w=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.call(this),this.add_attr({indices:t})}return n(e,v),e.prototype.points_inside=function(t){var e,A,n,i,o,r;for(A=0,i=t.length;A<i;A++)for(e=t[A],n=0,o=(r=this.indices).length;n<o;n++)if(r[n].equals(e))return!0;return!1},e.prototype.get_point_numbers=function(){return this.indices.get()},e.prototype.update_indices=function(t,e){var A,n,i,o,r;if(null==t[this.model_id]){for(t[this.model_id]=!0,o=[],A=0,n=(i=this.indices).length;A<n;A++)r=i[A],o.push(r.set(e[r.get()]));return o}},e}();var x;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.base_type=function(){return Q},e.prototype.dim=function(){return 2},e.prototype._underlying_fs_type=function(){return"Lst"},e}(Lst);var b;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;b=function(t){function e(t,A){var n,i;e.__super__.constructor.call(this),this.add_attr({data:t.data,layout:{}}),n=t.data.selected_display_settings(),Ct([A,n._layout],(i=this,function(){var e,A,n,o,r,s,a,l,c,h,d;d={},a=t.layouts;for(s in a){l=a[s]._pan_vs_id;for(r in l)null!=(n=l[r]).cm&&(null==i.layout[r]&&i.layout.add_attr(r,{width:0,height:0}),i.layout[r].width.set(n.cm.canvas.width),i.layout[r].height.set(n.cm.canvas.height),d[r]=!0)}for(h=[],A=0,o=(c=function(){var t,e,A,n;for(n=[],t=0,e=(A=this.layout._attribute_names).length;t<e;t++)r=A[t],null==d[r]&&n.push(r);return n}.call(i)).length;A<o;A++)e=c[A],h.push(i.layout.rem_attr(e));return h}))}return n(e,t),e}(Model);var E;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;E=function(t){function e(t,A){null==A&&(A=[]),e.__super__.constructor.call(this,t,A),this.add_attr({wanted_dim:[2,3]})}return n(e,t),e.prototype.filter=function(t){return this.wanted_dim.contains(t.dim())},e}(Choice);var B;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;B=function(t){var e,A;function i(t){null==t&&(t=!1),i.__super__.constructor.call(this),this.add_attr({threeD:!0,O:[0,0,0],X:[1,0,0],Y:[0,1,0],C:[0,0,0],d:1,_O:[0,0,0],_d:1,a:new ConstrainedVal(20,{min:0,max:80})}),t&&this.add_attr({r:1})}return n(i,t),i.prototype.gl_mat=function(t,e){var A,n,i,o,r,s,a,l,c,d,u,p,_,f;return i=h.nor(this.X.get()),o=h.nor(h.sub(this.Y.get(),h.mus(h.dot(i,this.Y.get()),i))),r=h.nor(h.cro(o,i)),A=[h.dot(this.O.get(),i),h.dot(this.O.get(),o),h.dot(this.O.get(),r)],d=-(c=2/this.d.get()),s=Math.min(t,e)/t,a=Math.min(t,e)/e,n=this._O.get(),l=this._d.get(),p=2*Math.tan(3.14158*this.a.get()/360)/l,e=1/((_=h.dot(n,r)+l/2)-(f=h.dot(n,r)-l/2)),u=.5*(f+_)/(_-f),[s*c*i[0],a*c*o[0],e*r[0],p*r[0],s*c*i[1],a*c*o[1],e*r[1],p*r[1],s*c*i[2],a*c*o[2],e*r[2],p*r[2],s*d*A[0],a*d*A[1],-u,1-p*A[2]]},i.prototype.gl_attr=function(t,e){return"uniform mat4 "+e+"_mat;"},i.prototype.gl_attr_vec=function(t,e){return"uniform mat3 "+e+"_mat;"},i.prototype.gl_main=function(t,e){return"gl_Position = "+e+"_mat * gl_Position;"},i.prototype.gl_main_vec=function(t,e,A,n){return n+" = "+e+"_mat * "+A+";"},i.prototype.gl_exec=function(t,e,A){var n,i,o;return i=this.gl_mat(t.w,t.h),o=(n=t.ctx).getUniformLocation(A,e+"_mat"),n.uniformMatrix4fv(o,!1,new Float32Array(i))},i.prototype.gl_exec_vec=function(t,e,A){var n,i,o,r,s,a;return n=h.nor(this.X.get()),i=h.nor(h.sub(this.Y.get(),h.mus(h.dot(n,this.Y.get()),n))),o=h.nor(h.cro(n,i)),s=[n[0],i[0],o[0],n[1],i[1],o[1],n[2],i[2],o[2]],a=(r=t.ctx).getUniformLocation(A,e+"_mat"),r.uniformMatrix3fv(a,!1,new Float32Array(s))},i.prototype.focal_point=function(){var t,e;return e=h.nor(h.cro(this.X.get(),this.Y.get())),t=Math.tan(this.a.get()/2*3.141592653589793/180),[this.O[0].get()-.5*this.d.get()/t*e[0],this.O[1].get()-.5*this.d.get()/t*e[1],this.O[2].get()-.5*this.d.get()/t*e[2]]},i.prototype.pan=function(t,e,A,n,i){var o,r,s,a;for(null==i&&(i=!1),i&&(t/=10,e/=10),t*=(o=this.d.get()/Math.min(A,n))*(this.r||1),e*=o,a=[],r=s=0;s<=2;r=++s)a.push(this.O[r].set(this.O[r].get()-t*this.X[r].get()+e*this.Y[r].get()));return a},i.prototype.zoom=function(t,e,A,n,i){var o,r;return"number"==typeof A?zoom(t,e,[A,A],n,i):(o=this.sc_2_rw(n,i).pos(t,e),this.d.set(this.d.get()/A[1]),null!=this.r&&this.r.set(this.r.get()*A[1]/A[0]),r=this.re_2_sc(n,i).proj(o),this.pan(t-r[0],e-r[1],n,i))},i.prototype.rotate=function(t,e,A){var n;if(this.threeD.get())return n=this.s_to_w_vec([-t,-e,A]),this.X.set(h.rot(this.X.get(),n)),this.Y.set(h.rot(this.Y.get(),n)),this.O.set(h.add(this.C.get(),h.rot(h.sub(this.O.get(),this.C.get()),n)))},i.prototype.re_2_sc=function(t,A){return new e(this.gl_mat(t,A),t,A)},i.prototype.sc_2_rw=function(t,e){return new A(this.gl_mat(t,e),t,e)},i.prototype.equal=function(t){var e;return e=function(t,e,A){return null==A&&(A=.001),Math.abs(t[0]-e[0])<A&&Math.abs(t[1]-e[1])<A&&Math.abs(t[2]-e[2])<A},(null==this.r||null==t.r||t.r.get()===this.r.get())&&(t.w===this.w&&t.h===this.h&&e(t.O,this.O)&&e(t.X,this.X)&&e(t.Y,this.Y)&&Math.abs(t.a-this.a)<.001&&Math.abs(t.d-this.d)/this.d<.001)},i.prototype.s_to_w_vec=function(t){var e,A,n;return e=h.nor(this.X.get()),A=h.nor(this.Y.get()),n=h.nor(h.cro(e,A)),[t[0]*this.X[0]+t[1]*this.Y[0]+t[2]*n[0],t[0]*this.X[1]+t[1]*this.Y[1]+t[2]*n[1],t[0]*this.X[2]+t[1]*this.Y[2]+t[2]*n[2]]},i.prototype.get_X=function(){return h.nor(this.X.get())},i.prototype.get_Y=function(){return h.nor(this.Y.get())},i.prototype.get_Z=function(){return h.nor(h.cro(this.X.get(),this.Y.get()))},i.prototype.get_a=function(){return this.a.get()},i.prototype.get_screen_coord=function(t){var e,A,n,i,o,r,s,a,l,c,d;return l=t[0],c=t[1],d=t[2]||0,i=this.O.get(),o=this.X.get(),r=this.Y.get(),s=this.get_Z(),a=this.d,e=h.mus(a*l,o),A=h.mus(a*c,r),n=h.mus(a*d,s),h.add(i,h.add(e,h.add(A,n)))},A=function(){function t(t,e,A){this.mat=t,this.w=e,this.h=A}return t.prototype.dir=function(t,e){return h.nor(h.sub(h.solve(this.mat,[t,e,.5,1]),h.solve(this.mat,[t,e,-.5,1])))},t.prototype.pos=function(t,e,A){var n;return null==A&&(A=0),[(n=h.solve(this.mat,[2*t/this.w-1,1-2*e/this.h,A,1]))[0]/n[3],n[1]/n[3],n[2]/n[3]]},t}(),e=function(){function t(t,e,A){this.mat=t,this.w=e,this.h=A}return t.prototype.proj=function(t){var e;return e=[this.mat[0]*t[0]+this.mat[4]*t[1]+this.mat[8]*t[2]+this.mat[12],this.mat[1]*t[0]+this.mat[5]*t[1]+this.mat[9]*t[2]+this.mat[13],this.mat[2]*t[0]+this.mat[6]*t[1]+this.mat[10]*t[2]+this.mat[14],this.mat[3]*t[0]+this.mat[7]*t[1]+this.mat[11]*t[2]+this.mat[15]],[.5*this.w*(1+e[0]/e[3]),.5*this.h*(1-e[1]/e[3]),e[2]/e[3]]},t}(),i}(Model);var N;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;N=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({_O:new h([0,0,0]),_N:new h([0,0,1])})}return n(e,t),e.prototype.beg_click=function(t){},e.prototype.move=function(t,e,A,n){var i,o,r,s,a,l,c,d;for(d=h.dot(h.sub(this._O,A),this._N),o=h.dot(n,this._N),i=h.add(A,h.mus(d/o,n)),r=h.sub(i,e),c=[],s=0,a=t.length;s<a;s++)(l=t[s])instanceof Q&&c.push(l.pos.set(h.add(l.pos.get(),r)));return c},e}(Model);var C;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;C=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({_req_pos:new h,_req_dir:new h,_old_pos:new h,_old_dir:new h}),this.cos_for_move_req_old_dir=.7,this._beg_click=!1}return n(e,t),e.prototype.beg_click=function(t){return this._beg_click=!0},e.prototype.move=function(t,e,A,n){var i,o,r,s,a,l,c,d,u,p,_,f,m,g,v;for(this._beg_click&&(this._beg_click=!1,((a=this._old_dir.get())[0]||a[1]||a[2])&&Math.abs(h.dot(n,a))<this.cos_for_move_req_old_dir&&(this._req_pos.set(this._old_pos),this._req_dir.set(this._old_dir))),p=h.dot(h.sub(e.get(),A),n),m=this._req_pos.get(),((a=this._req_dir.get())[0]||a[1]||a[2])&&(i=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],o=n[0]*a[0]+n[1]*a[1]+n[2]*a[2],c=i*(r=a[0]*a[0]+a[1]*a[1]+a[2]*a[2])-o*o,g=n[0]*(A[0]-m[0])+n[1]*(A[1]-m[1])+n[2]*(A[2]-m[2]),v=a[0]*(A[0]-m[0])+a[1]*(A[1]-m[1])+a[2]*(A[2]-m[2]),p=(o*v-r*g)/c),l=function(){var t,i;for(i=[],s=t=0;t<=2;s=++t)i.push(A[s]+n[s]*p-e[s].get());return i}(),d=0,_=t.length;d<_;d++)if((f=t[d])instanceof Q)for(s=u=0;u<=2;s=++u)f.pos[s].set(f.pos[s].get()+l[s]);return this._old_pos.set(A),this._old_dir.set(n)},e}(Model);var P;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;P=function(t){function e(t,A){e.__super__.constructor.call(this,A),this.add_attr({name:t})}return n(e,y),e.prototype.toString=function(){return this.name.get()},e}();var k;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;k=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.call(this),this.add_attr({_theme:new _,_color_selection:!!t.color_selection||void 0}),this.add_attr({visualization:{display_style:new Choice(3,["Points","Wireframe","Surface","Surface with Edges"]),point_edition:!t.not_editable||void 0,element_color:this._theme.surfaces.color,line_color:this._theme.lines.color},points:new Lst,_elements:[],_selected_points:[],_pelected_points:[],_selected_elements:[],_pelected_elements:[]}),this.move_scheme=C,this._sub_elements=[],this._sub_date=-1,this.delete_selected_points_callback=[]}return n(e,g),e.prototype.add_point=function(t){var e;return null==t&&(t=[0,0,0]),e=new Q(t,new this.move_scheme),this.points.push(e),e},e.prototype.set_point=function(t,e){return null==e&&(e=[0,0,0]),this.points[t].pos[0].set(e[0]),this.points[t].pos[1].set(e[1]),this.points[t].pos[2].set(e[2])},e.prototype.get_point=function(t){return this.points[t].pos.get()},e.prototype.add_element=function(t){return this._elements.push(t)},e.prototype.bounding_coordinates=function(){var t,e,A,n,i,o,r,s,a;for(A=0,n=(a=this.points).length;A<n;A++)if((s=a[A])instanceof Q)if(t)for(o=s.pos,e=i=0;i<=2;e=++i)o[e].get()>t[e][0]?t[e][0]=o[e].get():o[e].get()<t[e][1]&&(t[e][1]=o[e].get());else t=[[(r=s.pos.get())[0],r[0]],[r[1],r[1]],[r[2],r[2]]];return t},e.prototype.nb_points=function(){return this.points.length},e.prototype.nb_elements=function(){var t,e,A,n,i;for(i=0,e=0,A=(n=this._elements).length;e<A;e++)"number"==typeof(t=n[e]).indices.size(1)&&(i+=t.indices.size(1));return i},e.prototype.real_change=function(){var t,e,A;for(t=0,e=(A=[this.points,this._elements]).length;t<e;t++)if(A[t].real_change())return!0;return!1},e.prototype.z_index=function(){return 1e3},e.prototype.clear=function(){return this.points.clear(),this._elements.clear()},e.prototype.add_theme_if_undef=function(){if(null==this._theme)return this.add_attr({_theme:new _})},e.prototype.draw_selected=function(t){return this._theme.lines.color.r.set(0),this._theme.lines.color.b.set(0),this.draw(t)},e.prototype.draw_unselected=function(t){return this._theme=new _,this.draw(t)},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,T,O,G,V,Y,X,H,W,K,j,J,q,Z,$,tt;if(this.add_theme_if_undef(),"gl"===t.ctx_type){for(o=0,a=(S=this._elements).length;o<a;o++)(e=S[o]).draw_gl(t,this,this.points);if(!1,C=function(){var e,n,i,o;for(i=this.points,o=[],A=n=0,e=i.length;n<e;A=++n)(N=i[A])instanceof Q&&o.push(t.re_2_sc.proj(N.pos.get()));return o}.call(this),(null!=(R=this.visualization.point_edition)?R.get():void 0)&&null!=t.sel_item[this.model_id]){for(this._theme.editable_points.beg_ctx(t),B=0,l=C.length;B<l;B++)N=C[B],this._theme.points.draw_proj(t,N);if(this._theme.editable_points.end_ctx(t),this._selected_points.length){for(this._theme.selected_points.beg_ctx(t),P=0,f=(D=this._selected_points).length;P<f;P++)(N=D[P])instanceof Q&&(E=t.re_2_sc.proj(N.pos.get()),this._theme.selected_points.draw_proj(t,E));this._theme.selected_points.end_ctx(t)}if(this._pelected_points.length){for(this._theme.highlighted_points.beg_ctx(t),k=0,m=(U=this._pelected_points).length;k<m;k++)(N=U[k])instanceof Q&&(E=t.re_2_sc.proj(N.pos.get()),this._theme.highlighted_points.draw_proj(t,E));this._theme.highlighted_points.end_ctx(t)}}else if(this.visualization.display_style.equals("Points")){for(this._theme.points.beg_ctx(t),W=0,g=C.length;W<g;W++)N=C[W],this._theme.points.draw_proj(t,N);this._theme.points.end_ctx(t)}for(this._update_sub_elements(),K=0,v=(T=this._sub_elements).length;K<v;K++)(e=T[K]).draw_gl(t,this,this.points,!0);if(this._selected_elements.length)for(j=0,y=(O=this._pelected_points).length;j<y;j++)(e=O[j]).draw_gl(t,this,this.points,!0,this._theme.selected_elements);if(this._pelected_elements.length)for(J=0,w=(G=this._pelected_elements).length;J<w;J++)(e=G[J]).draw_gl(t,this,this.points,!0,this._theme.highlighted_elements);return!0}if(null!=(V=this.points)?V.length:void 0){for(C=function(){var e,n,i,o;for(n=this.points,i=[],A=o=0,e=n.length;o<e;A=++o)N=n[A],i.push(t.re_2_sc.proj(N.pos.get()));return i}.call(this),q=0,x=(Y=this._elements).length;q<x;q++)(e=Y[q]).draw(t,this,C);if(!1,(null!=(X=this.visualization.point_edition)?X.get():void 0)&&null!=t.sel_item[this.model_id]){for(this._theme.editable_points.beg_ctx(t),Z=0,b=C.length;Z<b;Z++)N=C[Z],this._theme.points.draw_proj(t,N);if(this._theme.editable_points.end_ctx(t),this._selected_points.length){for(this._theme.selected_points.beg_ctx(t),$=0,c=(I=this._selected_points).length;$<c;$++)N=I[$],E=t.re_2_sc.proj(N.pos.get()),this._theme.selected_points.draw_proj(t,E);this._theme.selected_points.end_ctx(t)}if(this._pelected_points.length){for(this._theme.highlighted_points.beg_ctx(t),tt=0,h=(F=this._pelected_points).length;tt<h;tt++)N=F[tt],E=t.re_2_sc.proj(N.pos.get()),this._theme.highlighted_points.draw_proj(t,E);this._theme.highlighted_points.end_ctx(t)}}else if(this.visualization.display_style.equals("Points")){for(this._theme.points.beg_ctx(t),n=0,d=C.length;n<d;n++)N=C[n],this._theme.points.draw_proj(t,N);this._theme.points.end_ctx(t)}for(this._update_sub_elements(),i=0,u=(M=this._sub_elements).length;i<u;i++)(e=M[i]).draw(t,this,C,!0);if(this._selected_elements.length)for(r=0,p=(z=this._pelected_points).length;r<p;r++)(e=z[r]).draw(t,this,C,!0,this._theme.selected_elements);if(this._pelected_elements.length){for(H=[],s=0,_=(L=this._pelected_elements).length;s<_;s++)e=L[s],H.push(e.draw(t,this,C,!0,this._theme.highlighted_elements));return H}}},e.prototype.on_mouse_down=function(t,e,A,n,i,o){var r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C;if(null==o&&(o=!0),delete this._moving_point,(null!=(x=this.visualization.point_edition)?x.get():void 0)&&("LEFT"===n||"RIGHT"===n)&&o){if(v=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.points).length;e<A;e++)g=n[e],i.push(t.cam_info.re_2_sc.proj(g.pos.get()));return i}.call(this),(r=this._closest_point_closer_than(v,A,10))>=0)return e.ctrlKey?(this._ctrlKey=!0,this._selected_points.toggle_ref(this.points[r])&&(this._moving_point=this.points[r],this._moving_point.beg_click(A))):(this._ctrlKey=!1,this._selected_points.contains_ref(this.points[r])||(this._selected_points.clear(),this._selected_points.set([this.points[r]])),this._moving_point=this.points[r],this._moving_point.beg_click(A)),"RIGHT"!==n;for(this._selected_points.clear(),this._pelected_points.clear(),r={dist:4},c=0,h=(b=this._elements).length;c<h;c++)"function"==typeof(a=b[c]).closest_point_closer_than&&a.closest_point_closer_than(r,this,v,t.cam_info,A);for(m=0,d=(E=this._sub_elements).length;m<d;m++)"function"==typeof(a=E[m]).closest_point_closer_than&&a.closest_point_closer_than(r,this,v,t.cam_info,A);if(null!=r.disp){for(f=this.points.length,l=this.add_point(r.disp),this._selected_points.clear(),this._selected_points.set([l]),this._moving_point=l,this._moving_point.beg_click(A),C=[],s={},y=0,u=(B=this._elements).length;y<u;y++)if("function"==typeof(a=B[y]).cut_with_point&&a.cut_with_point(s,r,this,f,l),null!=s[a.model_id])for(w=0,p=(N=s[a.model_id]).length;w<p;w++)_=N[w],C.push(_);else C.push(a);this._elements.clear(),this._elements.set(C)}}return!1},e.prototype.on_mouse_up_wo_move=function(t,e,A,n,i){var o;if(null==i&&(i=!0),null!=this._moving_point&&!this._ctrlKey&&this._selected_points.length>1)return o=this._selected_points.back(),this._selected_points.clear(),this._selected_points.set([o]),!0},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g;if(null!=(_=this.visualization.point_edition)?_.get():void 0){if(null!=this._moving_point&&"LEFT"===n)return null!=(f=t.undo_manager)&&f.snapshot(),u=t.cam_info.sc_2_rw.pos(A[0],A[1]),r=t.cam_info.sc_2_rw.dir(A[0],A[1]),this._moving_point.move(this._selected_points,this._moving_point.pos,u,r),!0;if(p=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.points).length;e<A;e++)d=n[e],i.push(t.cam_info.re_2_sc.proj(d.pos.get()));return i}.call(this),(o=this._closest_point_closer_than(p,A,10))>=0)return this._pelected_points.clear(),this._pelected_points.set([this.points[o]]),!0;for(o={dist:4},a=0,l=(m=this._elements).length;a<l;a++)"function"==typeof(s=m[a]).closest_point_closer_than&&s.closest_point_closer_than(o,this,p,t.cam_info,A);for(h=0,c=(g=this._sub_elements).length;h<c;h++)"function"==typeof(s=g[h]).closest_point_closer_than&&s.closest_point_closer_than(o,this,p,t.cam_info,A);if(null!=o.disp)return this._pelected_points.clear(),this._pelected_points.set([new Q(o.disp)]),!0}return this._pelected_points.clear(),!1},e.prototype.update_min_max=function(t,e){var A,n,i,o,r,s,a;for(a=[],n=0,i=(s=this.points).length;n<i;n++)(o=s[n])instanceof Q&&(r=o.pos.get(),a.push(function(){var n,i;for(i=[],A=n=0;n<3;A=++n)t[A]=Math.min(t[A],r[A]),i.push(e[A]=Math.max(e[A],r[A]));return i}()));return a},e.prototype.make_curve_line_from_selected=function(){var t,e,A,n,i,o;if((e=this._get_indices_of_selected_points()).length){for(i=[],A=0,n=e.length;A<n;A++)o=e[A],i.push(function(){var e,A,n,i;for(i=[],A=0,e=(n=this._elements).length;A<e;A++)t=n[A],i.push(t.make_curve_line_from_selected(o));return i}.call(this));return i}},e.prototype.break_line_from_selected=function(){var t,e,A,n,i,o;if((e=this._get_indices_of_selected_points()).length){for(i=[],A=0,n=e.length;A<n;A++)o=e[A],i.push(function(){var e,A,n,i;for(i=[],A=0,e=(n=this._elements).length;A<e;A++)t=n[A],i.push(t.break_line_from_selected(o));return i}.call(this));return i}},e.prototype.delete_selected_point=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y;if((i=this._get_indices_of_selected_points()).length>0){for(v=[],n=r=p=i.length-1;p<=0?r<=0:r>=0;n=p<=0?++r:--r){for(y=i[n],h=this.points[y],(l=function(){var t,e,n;for(n=[],A=t=0,e=this.points.length;0<=e?t<e:t>e;A=0<=e?++t:--t)n.push(A);return n}.call(this))[y]=-1,o=c=_=y+1,f=this.points.length;_<=f?c<f:c>f;o=_<=f?++c:--c)l[o]-=1;for(d=0,s=(m=this._elements).length;d<s;d++)"function"==typeof(e=m[d]).rem_sub_element&&e.rem_sub_element(y);for(this._selected_points.remove_ref(h),this._pelected_points.remove_ref(h),this.points.splice(y,1),u=0,a=(g=this.delete_selected_points_callback).length;u<a;u++)(0,g[u])(this,i);t={},v.push(function(){var A,n,i,o;for(i=[],o=0,A=(n=this._elements).length;o<A;o++)e=n[o],i.push("function"==typeof e.update_indices?e.update_indices(t,l):void 0);return i}.call(this))}return v}},e.prototype._actualise_indices=function(t,e,A){var n,i,o,r,s;if(null==A&&(A=0),t.length&&0!==e&&A>=0&&A<=t.length-1){for(s=[],i=0,o=(r=t.slice(A,t.length)).length;i<o;i++)n=r[i],s.push(t[n].set(t[n].get()+e));return s}},e.prototype._get_indices_of_selected_points=function(){var t,e,A,n,i,o,r,s,a;for(t=[],e=A=0,n=(s=this.points).length;A<n;e=++A)for(r=s[e],o=0,i=(a=this._selected_points).length;o<i;o++)r===a[o]&&t.push(e);return t},e.prototype._update_sub_elements=function(){var t,e,A,n,i,o;if(this._sub_date<this._elements._date_last_modification){for(this._sub_date=this._elements._date_last_modification,A=function(){var t,A,n,i;for(i=[],t=0,A=(n=this._elements).length;t<A;t++)e=n[t],i.push(e);return i}.call(this),this._sub_elements=[],o=[];A.length;)i=this._sub_elements.length,"function"==typeof(t=A.pop()).add_sub_element&&t.add_sub_element(this._sub_elements),o.push(function(){var t,e,o,r;for(r=[],t=0,e=(o=this._sub_elements.slice(i)).length;t<e;t++)n=o[t],r.push(A.push(n));return r}.call(this));return o}},e.prototype._closest_point_closer_than=function(t,e,A){var n,i,o,r,s,a;for(n=-1,s=o=0,r=t.length;o<r;s=++o)a=t[s],A>(i=Math.sqrt(Math.pow(e[0]-a[0],2)+Math.pow(e[1]-a[1],2)))&&(A=i,n=s);return n},e}();var S;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;S=function(t){function e(t,A,n){var i,o;null==t&&(t=""),null==A&&(A=void 0),null==n&&(n=!0),e.__super__.constructor.call(this),this.add_attr({src:t,pos:[0,0,0],_histo:new Vec}),this.data={zmin:0,zmax:0,buff:void 0,rgba:void 0,begl:!0},o=this,i=function(){if(o._signal_change(),o.loaded=!0,o.data.rgba=o.data.buff,o.data.buff=new Image,o.data.buff.onload=i,0===o._histo.length&&o.fill_histogram(),n&&null!=A)return n=!1,A.fit(0)},this.loaded=!1,this.data.buff=new Image,this.data.buff.onload=i,this._get_src_data(),this.tex={},this._date_tex={}}return n(e,g),e.prototype.z_index=function(){return 1},e.prototype.draw=function(t){var A,n,i,o,r,s,a,l,c,d,u,p,_;return(this.src.has_been_modified()||(null!=(c=this._repr)?c.has_been_modified():void 0)||this.data.begl)&&(this.data.begl=!1,this._get_src_data()),null!=this.data.rgba&&(this.X=[1,0,0],this.Y=[0,1,0],this.Z=[0,0,1],this.O=[this.pos[0].get(),this.pos[1].get(),this.pos[2].get()],null!=t.shoot_cam&&(u=this.data.rgba.width,l=this.data.rgba.height,i=(d=t.shoot_cam.sc_2_rw(u,l)).dir(.5*u,.5*l),_=t.get_x_min(),p=t.get_x_max(),n=[.5*(_[0]+p[0]),.5*(_[1]+p[1]),.5*(_[2]+p[2])],a=Math.max(p[0]-_[0],p[1]-_[1],p[2]-_[2]),A=[n[0]+a*i[0],n[1]+a*i[1],n[2]+a*i[2]],o=function(t,e,A,n){var i;return i=h.dot(h.sub(n,t),A)/h.dot(A,e),[t[0]+e[0]*i,t[1]+e[1]*i,t[2]+e[2]*i]},this.O=o(d.pos(0,l),d.dir(0,l),i,A),r=o(d.pos(u,l),d.dir(u,l),i,A),s=o(d.pos(0,0),d.dir(0,0),i,A),this.X=h.mus(1/u,h.sub(r,this.O)),this.Y=h.mus(1/l,h.sub(s,this.O)),this.Z=h.nor(h.cro(this.X,this.Y))),this.data.zmin===this.data.zmax?(null!=this.loaded&&!0===this.loaded||(console.log(e,this.src.get()),console.log(this.loaded)),e._draw_persp_rec(t,this.data.rgba,this.data.zmin,this.data.zmax,this.O,this.X,this.Y,this.Z,this._date_tex,this.tex,this.src)):void 0)},e.prototype.update_min_max=function(t,e){if(null!=this.data.rgba)return t[0]=Math.min(t[0],this.pos[0].get()),t[1]=Math.min(t[1],this.pos[1].get()),t[2]=Math.min(t[2],this.pos[2].get()),e[0]=Math.max(e[0],this.data.rgba.width+this.pos[0].get()),e[1]=Math.max(e[1],this.data.rgba.height+this.pos[1].get()),e[2]=Math.max(e[2],this.pos[2].get())},e.prototype.fill_histogram=function(){},e.prototype.information=function(t){var e;if(null!=(null!=(e=this.data.rgba)?e.height:void 0))return null==this.cm&&(this.txt=Ee({parentNode:t}),Ee({parentNode:t})),this.txt.innerHTML=this.src+" <br> Height : "+this.data.rgba.height+"px <br> Width  : "+this.data.rgba.width+"px <br>"},e.prototype._get_src_data=function(){var t;return t=null!=this._repr?this._repr:this.src,"undefined"!=typeof Path&&null!==Path&&t instanceof Path?this.data.buff.src="/sceen/_?u="+t._server_id:t.get().length?this.data.buff.src=t.get():void 0},e._draw_persp_rec=function(t,A,n,i,o,r,s,a,l,c,d,u,p,_,f,m){var g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,Q,T,O,G,V,Y,X,H,W;return null==u&&(u=0),null==p&&(p=0),null==_&&(_=1),null==f&&(f=1),null==m&&(m=0),O=A.width,P=A.height,"gl"===t.ctx_type?(Q="attribute vec3 pos;\n attribute vec2 textureCoords;\n varying vec2 texcoords;\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n texcoords = textureCoords;\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main(t,"cam")+"\n gl_Position.z += 1e-5;\n }\n",N="precision mediump float;\n varying vec2 texcoords;\n uniform sampler2D uSampler;\n void main( void ) {\n gl_FragColor = texture2D( uSampler, texcoords );\n }\n",C=t.ctx,I=t.cm.gl_prog(Q,N),C.useProgram(I),I.aposAttrib=C.getAttribLocation(I,"pos"),C.enableVertexAttribArray(I.aposAttrib),I.atexAttrib=C.getAttribLocation(I,"textureCoords"),C.enableVertexAttribArray(I.atexAttrib),null==l[C.ctx_id]&&(l[C.ctx_id]=-1),l[C.ctx_id]<d._date_last_modification&&(l[C.ctx_id]=d._date_last_modification,null!=c[C.ctx_id]&&C.deleteTexture(c[C.ctx_id]),c[C.ctx_id]=C.createTexture(),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,c[C.ctx_id]),C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,!0),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,A),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE)),C.bindTexture(C.TEXTURE_2D,c[C.ctx_id]),I.samplerUniform=C.getUniformLocation(I,"uSampler"),C.uniform1i(I.samplerUniform,0),g=h.add(o,h.add(h.add(h.mus(O*u,r),h.mus(P*p,s)),h.mus(n,a))),v=h.add(o,h.add(h.add(h.mus(O*_,r),h.mus(P*f,s)),h.mus(n,a))),y=h.add(o,h.add(h.add(h.mus(O*_,r),h.mus(P*p,s)),h.mus(n,a))),b=h.add(o,h.add(h.add(h.mus(O*u,r),h.mus(P*f,s)),h.mus(n,a))),T=new Float32Array([g[0],g[1],g[2],v[0],v[1],v[2],y[0],y[1],y[2],b[0],b[1],b[2]]),D=new Float32Array([0,0,1,1,1,0,0,1]),S=new Uint16Array([0,2,3,1]),U=(R=function(t,e){var A;return A=C.createBuffer(),C.bindBuffer(t,A),C.bufferData(t,e,C.STATIC_DRAW),A})(C.ARRAY_BUFFER,T),k=R(C.ELEMENT_ARRAY_BUFFER,S),C.vertexAttribPointer(I.aposAttrib,3,C.FLOAT,!1,0,0),L=R(C.ARRAY_BUFFER,D),C.vertexAttribPointer(I.atexAttrib,2,C.FLOAT,!1,0,0),C.enableVertexAttribArray(I.atexAttrib),t.cam.gl_exec(t,"cam",I),C.drawElements(C.TRIANGLE_STRIP,4,C.UNSIGNED_SHORT,0),C.disableVertexAttribArray(I.aposAttrib),C.disableVertexAttribArray(I.atexAttrib),C.bindBuffer(C.ARRAY_BUFFER,null),C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,null),C.bindTexture(C.TEXTURE_2D,null),C.deleteBuffer(L),C.deleteBuffer(k),C.deleteBuffer(U)):(g=t.re_2_sc.proj(h.add(o,h.add(h.add(h.mus(O*u,r),h.mus(P*p,s)),h.mus(n,a)))),v=t.re_2_sc.proj(h.add(o,h.add(h.add(h.mus(O*_,r),h.mus(P*f,s)),h.mus(n,a)))),y=t.re_2_sc.proj(h.add(o,h.add(h.add(h.mus(O*_,r),h.mus(P*p,s)),h.mus(n,a)))),b=t.re_2_sc.proj(h.add(o,h.add(h.add(h.mus(O*u,r),h.mus(P*f,s)),h.mus(n,a)))),g[0]>=t.w&&v[0]>=t.w&&y[0]>=t.w&&b[0]>=t.w||(g[0]<0&&v[0]<0&&y[0]<0&&b[0]<0||(g[1]>=t.h&&v[1]>=t.h&&y[1]>=t.h&&b[1]>=t.h||(g[1]<0&&v[1]<0&&y[1]<0&&b[1]<0||(F=[y[0]+b[0]-g[0],y[1]+b[1]-g[1]],m<6&&Math.pow(F[0]-v[0],2)+Math.pow(F[1]-v[1],2)>1?(V=(x=1-(w=.51))*u+w*_,H=x*p+w*f,Y=w*u+x*_,W=w*p+x*f,e._draw_persp_rec(t,A,n,i,o,r,s,a,l,c,d,u,p,V,H,m+1),e._draw_persp_rec(t,A,n,i,o,r,s,a,l,c,d,Y,p,_,H,m+1),e._draw_persp_rec(t,A,n,i,o,r,s,a,l,c,d,u,W,V,f,m+1),e._draw_persp_rec(t,A,n,i,o,r,s,a,l,c,d,Y,W,_,f,m+1),!0):(M=Math.ceil(O*u),z=Math.ceil(P*(1-f)),E=Math.ceil(O*(_-u)),B=Math.ceil(P*(f-p)),E=Math.min(E,O-M),B=Math.min(B,P-z),G=[(y[0]-g[0])/E,(y[1]-g[1])/E],X=[(b[0]-g[0])/B,(b[1]-g[1])/B],t.ctx.save(),t.ctx.setTransform(G[0],G[1],X[0],X[1],b[0],b[1]),t.ctx.transform(1,0,0,-1,0,0),t.ctx.drawImage(A,M,z,E,B,0,0,E,B),t.ctx.restore()))))))},e}();n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;var R,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};R=function(t){function e(t){var A,n,i;null==t&&(t={}),e.__super__.constructor.call(this),this.add_attr({show_line:!0,line_color:new a(0,0,0),line_width:new ConstrainedVal(1,{min:0,max:20}),shadow:!0,show_marker:!0,marker:new Choice(0,["dot","square","cross","diamond","bar"]),marker_size:new ConstrainedVal(5,{min:0,max:40}),marker_color:new a(0,0,0),font_color:new a(0,0,0),font_size:new ConstrainedVal(12,{min:2,max:72}),show_grid:!0,grid_color:new a(200,200,200),x_axis:"",y_axis:"",legend_x_division:5,legend_y_division:3,sel_item_color:new a(255,255,0),movable_hl_infos:!0,points:new x,legend:new Lst,_pre_sele:new Lst});for(A in t)i=t[A],null!=(n=this[A])&&"function"==typeof n.set&&n.set(i);this.axis_width=1,this.origin=[0,0],this.O_point=[0,0],this.X_point=[0,0],this.Y_point=[0,0]}return n(e,g),e.prototype.z_index=function(){return 100},e.prototype.build_w2b_legend=function(){var t,e,A,n;for(n=[],e=A=0;A<=255;e=++A)t=(e<16?"0":"")+e.toString(16),n.push(this.legend[e]="#"+t+t+t);return n},e.prototype.draw=function(t){var e,A,n;return this.O_point=[t.padding/2,t.h-t.padding],this.X_point=[t.w-t.padding/2,t.h-t.padding],this.Y_point=[t.padding/2,-t.h+t.padding],t.ctx.lineCap="round",t.ctx.lineJoin="round",t.ctx.shadowOffsetX=0,t.ctx.shadowOffsetY=0,t.ctx.shadowBlur=0,t.ctx.shadowColor="transparent black",this.points.length&&(e=t.re_2_sc.proj([0,0,0]),n=function(){var e,n,i,o;for(o=[],e=0,n=(i=this.points).length;e<n;e++)A=i[e],o.push(t.re_2_sc.proj(A.pos.get()));return o}.call(this),!0===this.show_grid.get()&&this.draw_grid(t),!0===this.shadow.get()?this.add_shadow(t):this.remove_shadow(t),!0===this.show_line.get()&&this.draw_line(t,e,n),!0===this.show_marker.get()&&("bar"===this.marker.get()?this.draw_marker_bar(t,e,n):"cross"===this.marker.get()?this.draw_marker_cross(t,e,n):"square"===this.marker.get()?this.draw_marker_square(t,e,n):"diamond"===this.marker.get()?this.draw_marker_diamond(t,e,n):"dot"===this.marker.get()&&this.draw_marker_dot(t,e,n)),this.remove_shadow(t),!0===this.show_marker.get()&&(!0===this.movable_hl_infos.get()?this.draw_movable_highlight_values(t):this.draw_highlight_values(t))),this.hide_outside_values(t),this.draw_axis(t),this.draw_legend(t)},e.prototype.add_shadow=function(t){return t.ctx.shadowOffsetX=this.line_width.get(),t.ctx.shadowOffsetY=this.line_width.get(),t.ctx.shadowBlur=this.line_width.get(),t.ctx.shadowColor="#3a3a3a"},e.prototype.remove_shadow=function(t){return t.ctx.shadowOffsetX=0,t.ctx.shadowOffsetY=0,t.ctx.shadowBlur=0,t.ctx.shadowColor="transparent black"},e.prototype.hide_outside_values=function(t){return t.ctx.fillStyle="rgba( 255, 255, 255, 0.9 )",t.ctx.clearRect(0,0,.5*t.padding,t.h),t.ctx.clearRect(.5*t.padding,t.h-t.padding/2,t.w,.5*t.padding)},e.prototype.draw_movable_highlight_values=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;for(10,-8,10,-12,c=[],n=i=0,o=(a=this.points).length;i<o;n=++i)r=a[n],l=this.points[n],I.call(this._pre_sele,l)>=0?(A=r.pos.get(),t.ctx.beginPath(),s=t.re_2_sc.proj(A),h=A[0]+", "+A[1],t.ctx.font=2*this.font_size.get()+"px Arial",d=t.ctx.measureText(h).width+20,e=3*this.font_size.get(),t.ctx.fillStyle="rgba(255, 255, 255, 0.8)",t.ctx.fillRect(s[0]+10,s[1]+-12-.8*e,d,e),t.ctx.lineWidth=1,t.ctx.strokeStyle="rgba(0, 0, 0, 0.8)",t.ctx.strokeRect(s[0]+10,s[1]+-12-.8*e,d,e),t.ctx.textAlign="left",t.ctx.fillStyle=this.font_color.to_rgba(),c.push(t.ctx.fillText(h,s[0]+10+10,s[1]+-8+-12))):c.push(void 0);return c},e.prototype.draw_highlight_values=function(t){var e,A,n,i,o,r,s,a;for(10,a=[],A=n=0,i=(r=this.points).length;n<i;A=++n)o=r[A],s=this.points[A],I.call(this._pre_sele,s)>=0?(e=o.pos.get(),t.ctx.beginPath(),t.ctx.fillStyle=this.font_color.to_rgba(),t.ctx.textAlign="right",t.ctx.font=2*this.font_size.get()+"px Arial",a.push(t.ctx.fillText(e[0]+", "+e[1],t.w-10,20))):a.push(void 0);return a},e.prototype.draw_line=function(t,e,A){var n,i,o,r;for(t.ctx.beginPath(),t.ctx.strokeStyle=this.line_color.to_rgba(),this.line_width.get()<=1?t.ctx.lineWidth=1.000001:t.ctx.lineWidth=this.line_width.get(),n=i=0,o=A.length;i<o;n=++i)r=A[n],t.ctx.lineTo(r[0],r[1]);return t.ctx.stroke(),t.ctx.closePath()},e.prototype.draw_marker_dot=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx.fillStyle=this.sel_item_color.to_rgba():t.ctx.fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx.beginPath(),t.ctx.arc(r[0],r[1],.5*this.marker_size.get(),0,2*Math.PI,!0),t.ctx.fill();return t.ctx.closePath()},e.prototype.draw_marker_cross=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx.strokeStyle=this.sel_item_color.to_rgba():t.ctx.strokeStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx.beginPath(),t.ctx.moveTo(r[0]-.5*this.marker_size.get(),r[1]+.5*this.marker_size.get()),t.ctx.lineTo(r[0]+.5*this.marker_size.get(),r[1]-.5*this.marker_size.get()),t.ctx.moveTo(r[0]+.5*this.marker_size.get(),r[1]+.5*this.marker_size.get()),t.ctx.lineTo(r[0]-.5*this.marker_size.get(),r[1]-.5*this.marker_size.get()),t.ctx.stroke();return t.ctx.closePath()},e.prototype.draw_marker_square=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx.fillStyle=this.sel_item_color.to_rgba():t.ctx.fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx.beginPath(),t.ctx.fillRect(r[0]-.5*this.marker_size.get(),r[1]-.5*this.marker_size.get(),this.marker_size.get(),this.marker_size.get());return t.ctx.closePath()},e.prototype.draw_marker_diamond=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx.fillStyle=this.sel_item_color.to_rgba():t.ctx.fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx.beginPath(),t.ctx.moveTo(r[0],r[1]-this.marker_size.get()),t.ctx.lineTo(r[0]+.5*this.marker_size.get(),r[1]),t.ctx.lineTo(r[0],r[1]+this.marker_size.get()),t.ctx.lineTo(r[0]-.5*+this.marker_size.get(),r[1]),t.ctx.fill();return t.ctx.closePath()},e.prototype.draw_marker_bar=function(t,e,A){var n,i,o,r,s,a;for(i=o=0,r=A.length;o<r;i=++o)s=A[i],a=this.points[i],I.call(this._pre_sele,a)>=0?t.ctx.fillStyle=this.sel_item_color.to_rgba():t.ctx.fillStyle=this.legend[i]||this.marker_color.to_rgba(),n=e[1]-s[1],t.ctx.beginPath(),t.ctx.fillRect(s[0],s[1],this.marker_size.get(),n);return t.ctx.closePath()},e.prototype.draw_axis=function(t){var e,A,n;return A=[.5*t.padding,t.h-t.padding/2,0],n=t.w-t.padding,e=-t.h+A[1]+t.padding,t.ctx.beginPath(),t.ctx.lineWidth=this.axis_width,t.ctx.strokeStyle=this.font_color.to_rgba(),t.ctx.fillStyle=this.font_color.to_rgba(),t.ctx.font=this.font_size.get()+"px Arial",10,""!==this.x_axis.get()&&(t.ctx.textAlign="left",t.ctx.fillText(this.x_axis.get(),A[0]+n+10,A[1]+2)),t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(A[0]+n,A[1]),""!==this.y_axis.get()&&(t.ctx.textBaseline="bottom",t.ctx.textAlign="center",t.ctx.fillText(this.y_axis.get(),A[0]-2,e-10)),t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(A[0],e),t.ctx.stroke(),t.ctx.closePath(),t.ctx.textBaseline="middle"},e.prototype.draw_legend=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;for(10,2,3,1,c=[0+.5*t.padding,t.h-t.padding/2,0],w=t.w-t.padding/2,e=-t.h+c[1]+t.padding,t.ctx.beginPath(),t.ctx.fillStyle=this.font_color.to_rgba(),t.ctx.font=.8*this.font_size.get()+"px Arial",t.ctx.textAlign="center",t.ctx.textBaseline="top",y=[],d=[],A=n=0,u=this.legend_x_division.get();0<=u?n<=u:n>=u;A=0<=u?++n:--n)h=c[0]+(w-3-(c[0]-3))/this.legend_x_division.get()*A,v=t.sc_2_rw.pos(h,0)[0],y.push(v),d.push(h);for(s=(p=this.get_min_max_of_array(y))[0],r=p[1],A=i=0,_=this.legend_x_division.get();0<=_?i<=_:i>=_;A=0<=_?++i:--i)l=this.get_significative_number(y[A],[s,r]),t.ctx.fillText(l,d[A],c[1]+10);for(t.ctx.textBaseline="middle",t.ctx.textAlign="right",y=[],d=[],A=o=0,f=this.legend_y_division.get();0<=f?o<=f:o>=f;A=0<=f?++o:--o)h=c[1]+(e+1-(c[1]+1))/this.legend_y_division.get()*A,v=t.sc_2_rw.pos(0,h)[1],y.push(v),d.push(h);for(s=(m=this.get_min_max_of_array(y))[0],r=m[1],A=a=0,g=this.legend_y_division.get();0<=g?a<=g:a>=g;A=0<=g?++a:--a)l=this.get_significative_number(y[A],[s,r]),t.ctx.fillText(l,c[0]-2,d[A]+1);return t.ctx.fill(),t.ctx.closePath()},e.prototype.get_min_max_of_array=function(t){var e,A,n,i,o,r,s;for(s=t[0],A=0,i=t.length;A<i;A++)(e=t[A])<s&&(s=e);for(r=t[0],n=0,o=t.length;n<o;n++)(e=t[n])>r&&(r=e);return[s,r]},e.prototype.get_significative_number=function(t,e){var A,n,i,o,r,s,a,l,c,h;if(s=e[0],r=e[1],Math.abs(r-s)>1)(h=Math.round(t)).toString().length>4&&(h=h.toExponential());else if((a=Math.round(t).toString().length)<=4){for(h=t.toPrecision(a+2),n=i=0,o=(c=t.toString()).length;i<o;n=++i)if("0"!==(A=c[n])&&"."!==A&&"-"!==A){l=n;break}l>3&&(h=parseFloat(h).toExponential())}else h=t.toFixed(2);return h},e.prototype.draw_grid=function(t){var e,A,n,i,o,r,s,a,l;for(o=[0+.5*t.padding,t.h-t.padding/2,0],l=t.w-t.padding/2,e=-t.h+o[1]+t.padding,t.ctx.beginPath(),t.ctx.strokeStyle=this.grid_color.to_rgba(),A=n=1,s=this.legend_x_division.get();1<=s?n<s:n>s;A=1<=s?++n:--n)r=o[0]+(l-o[0])/this.legend_x_division.get()*A,t.ctx.moveTo(r,o[1]),t.ctx.lineTo(r,e),t.ctx.stroke();for(A=i=1,a=this.legend_y_division.get();1<=a?i<a:i>a;A=1<=a?++i:--i)r=o[1]+(e-o[1])/this.legend_y_division.get()*A,t.ctx.moveTo(o[0],r),t.ctx.lineTo(o[0]+t.w-t.padding,r);return t.ctx.stroke(),t.ctx.closePath()},e.prototype.update_min_max=function(t,e){var A,n,i,o,r,s,a;for(a=[],n=0,i=(s=this.points).length;n<i;n++)o=s[n],r=o.pos.get(),a.push(function(){var n,i;for(i=[],A=n=0;n<3;A=++n)t[A]=Math.min(t[A],r[A]),i.push(e[A]=Math.max(e[A],r[A]));return i}());return a},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f;if(p=[],_=A[0],f=A[1],this.points.length)for(a=l=0,c=(u=this.points).length;l<c;a=++l)h=u[a],r=_-(d=t.cam_info.re_2_sc.proj(h.pos.get()))[0],s=f-d[1],(o=Math.sqrt(r*r+s*s))<=2*this.marker_size.get()&&p.push({item:h,dist:o});return p.length?(p.sort(function(t,e){return e.dist-t.dist}),1===this._pre_sele.length&&this._pre_sele[0]===p[0].item||(this._pre_sele.clear(),this._pre_sele.push(p[0].item))):this._pre_sele.length&&this._pre_sele.clear(),!1},e}();var F;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;F=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({cur_points:new x,old_points:new x,lock:!0,_selected:new Lst,_pre_sele:new Lst})}return n(e,g),e.prototype.z_index=function(){return 1e3},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_;if(A=t.sel_item[this.model_id],this.cur_points.length&&A){for(_={},n=0,r=(h=this._selected).length;n<r;n++)_[h[n].model_id]=!0;for(e={},i=0,s=(d=this._pre_sele).length;i<s;i++)e[d[i].model_id]=!0;for(p=[],a=o=0,u=(c=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.cur_points).length;e<A;e++)l=n[e],i.push(t.re_2_sc.proj(l.pos.get()));return i}.call(this)).length;0<=u?o<u:o>u;a=0<=u?++o:--o)t.ctx.lineWidth=1,t.ctx.strokeStyle="#333311",t.ctx.fillStyle="#333311",l=c[a],null!=_[this.cur_points[a].model_id]?t.ctx.strokeStyle="#FF0000":t.ctx.strokeStyle="#FFFF00",t.ctx.beginPath(),t.ctx.arc(l[0],l[1],4,0,2*Math.PI,!0),t.ctx.closePath(),t.ctx.fill(),t.ctx.stroke(),null!=e[this.cur_points[a].model_id]?(t.ctx.fillStyle="#FFFF22",t.ctx.beginPath(),t.ctx.lineWidth=.8,t.ctx.arc(l[0],l[1],3,0,2*Math.PI,!0),t.ctx.fill(),p.push(t.ctx.closePath())):p.push(void 0);return p}},e.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a,l,c,h,d,u,p,_,f,m;if(o=e.sel_item[this.model_id],this.cur_points.length&&o&&(f=A[0],m=A[1],0===n)){for(_=[],a=l=0,c=(u=this.cur_points).length;l<c;a=++l)h=u[a],r=f-(d=e.re_2_sc.proj(h.pos.get()))[0],s=m-d[1],(i=Math.sqrt(r*r+s*s))<=10?(t.push({item:h,dist:i,type:"Transform"}),!1===(null!=(p=this.lock)?p.get():void 0)?_.push(t.push({item:this.old_points[a],dist:i,type:"Transform"})):_.push(void 0)):_.push(void 0);return _}},e.prototype.on_mouse_down=function(t,e,A,n){var i,o,r;if(delete this._movable_entity,"LEFT"===n||"RIGHT"===n)for(o=i=0;i<3;o=++i)if(r=[],this.get_movable_entities(r,t.cam_info,A,o),r.length)return r.sort(function(t,e){return e.dist-t.dist}),this._movable_entity=r[0].item,e.ctrlKey?(this._selected.toggle_ref(this._movable_entity),this._selected.contains_ref(this._movable_entity)||delete this._movable_entity):(this._selected.clear(),this._selected.push(this._movable_entity),this._movable_entity.beg_click(A)),"RIGHT"!==n;return!1},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g,v;if("LEFT"===n&&null!=this._movable_entity)return null!=(_=t.undo_manager)&&_.snapshot(),u=t.cam_info.sc_2_rw.pos(A[0],A[1]),r=t.cam_info.sc_2_rw.dir(A[0],A[1]),this._movable_entity.move(this._selected,this._movable_entity.pos,u,r),!0;if(m=[],g=A[0],v=A[1],this.cur_points.length)for(l=c=0,h=(f=this.cur_points).length;c<h;l=++c)d=f[l],s=g-(p=t.cam_info.re_2_sc.proj(d.pos.get()))[0],a=v-p[1],(o=Math.sqrt(s*s+a*a))<=10&&m.push({item:d,dist:o});return m.length?(m.sort(function(t,e){return e.dist-t.dist}),1===this._pre_sele.length&&this._pre_sele[0]===m[0].item||(this._pre_sele.clear(),this._pre_sele.push(m[0].item))):this._pre_sele.length&&this._pre_sele.clear(),!1},e}();var M;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};M=function(t){function e(t){var A,n,i;null==t&&(t={}),e.__super__.constructor.call(this),this.add_attr({show_line:!0,line_color:new a(0,0,0),line_width:new ConstrainedVal(1,{min:0,max:20}),shadow:!0,show_marker:!0,marker:new Choice(0,["dot","square","cross","diamond","bar"]),marker_size:new ConstrainedVal(5,{min:0,max:40}),marker_color:new a(0,0,0),font_color:new a(0,0,0),font_size:new ConstrainedVal(12,{min:2,max:72}),show_grid:!0,grid_color:new a(200,200,200),x_axis:"",y_axis:"",legend_x_division:5,legend_y_division:3,sel_item_color:new a(255,255,0),movable_hl_infos:!0,points:new x,legend:new Lst,_pre_sele:new Lst});for(A in t)i=t[A],null!=(n=this[A])&&"function"==typeof n.set&&n.set(i);this.axis_width=1,this.origin=[0,0],this.O_point=[0,0],this.X_point=[0,0],this.Y_point=[0,0]}return n(e,g),e.prototype.z_index=function(){return 100},e.prototype.build_w2b_legend=function(){var t,e,A,n;for(n=[],e=A=0;A<=255;e=++A)t=(e<16?"0":"")+e.toString(16),n.push(this.legend[e]="#"+t+t+t);return n},e.prototype.draw=function(t){var e,A,n;return this.O_point=[t.padding/2,t.h-t.padding],this.X_point=[t.w-t.padding/2,t.h-t.padding],this.Y_point=[t.padding/2,-t.h+t.padding],t.ctx_2d().lineCap="round",t.ctx_2d().lineJoin="round",t.ctx_2d().shadowOffsetX=0,t.ctx_2d().shadowOffsetY=0,t.ctx_2d().shadowBlur=0,t.ctx_2d().shadowColor="transparent black",this.points.length&&(e=t.re_2_sc.proj([0,0,0]),n=function(){var e,n,i,o;for(o=[],e=0,n=(i=this.points).length;e<n;e++)A=i[e],o.push(t.re_2_sc.proj(A.pos.get()));return o}.call(this),!0===this.show_grid.get()&&this.draw_grid(t),!0===this.shadow.get()?this.add_shadow(t):this.remove_shadow(t),!0===this.show_line.get()&&this.draw_line(t,e,n),!0===this.show_marker.get()&&("bar"===this.marker.get()?this.draw_marker_bar(t,e,n):"cross"===this.marker.get()?this.draw_marker_cross(t,e,n):"square"===this.marker.get()?this.draw_marker_square(t,e,n):"diamond"===this.marker.get()?this.draw_marker_diamond(t,e,n):"dot"===this.marker.get()&&this.draw_marker_dot(t,e,n)),this.remove_shadow(t),!0===this.show_marker.get()&&(!0===this.movable_hl_infos.get()?this.draw_movable_highlight_values(t):this.draw_highlight_values(t))),this.hide_outside_values(t),this.draw_axis(t),this.draw_legend(t)},e.prototype.add_shadow=function(t){return t.ctx_2d().shadowOffsetX=this.line_width.get(),t.ctx_2d().shadowOffsetY=this.line_width.get(),t.ctx_2d().shadowBlur=this.line_width.get(),t.ctx_2d().shadowColor="#3a3a3a"},e.prototype.remove_shadow=function(t){return t.ctx_2d().shadowOffsetX=0,t.ctx_2d().shadowOffsetY=0,t.ctx_2d().shadowBlur=0,t.ctx_2d().shadowColor="transparent black"},e.prototype.hide_outside_values=function(t){return t.ctx_2d().fillStyle="rgba( 255, 255, 255, 0.9 )",t.ctx_2d().clearRect(0,0,.5*t.padding,t.h),t.ctx_2d().clearRect(.5*t.padding,t.h-t.padding/2,t.w,.5*t.padding)},e.prototype.draw_movable_highlight_values=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;for(10,-8,10,-12,c=[],n=i=0,o=(a=this.points).length;i<o;n=++i)r=a[n],l=this.points[n],I.call(this._pre_sele,l)>=0?(A=r.pos.get(),t.ctx_2d().beginPath(),s=t.re_2_sc.proj(A),h=A[0]+", "+A[1],t.ctx_2d().font=2*this.font_size.get()+"px Arial",d=t.ctx_2d().measureText(h).width+20,e=3*this.font_size.get(),t.ctx_2d().fillStyle="rgba(255, 255, 255, 0.8)",t.ctx_2d().fillRect(s[0]+10,s[1]+-12-.8*e,d,e),t.ctx_2d().lineWidth=1,t.ctx_2d().strokeStyle="rgba(0, 0, 0, 0.8)",t.ctx_2d().strokeRect(s[0]+10,s[1]+-12-.8*e,d,e),t.ctx_2d().textAlign="left",t.ctx_2d().fillStyle=this.font_color.to_rgba(),c.push(t.ctx_2d().fillText(h,s[0]+10+10,s[1]+-8+-12))):c.push(void 0);return c},e.prototype.draw_highlight_values=function(t){var e,A,n,i,o,r,s,a;for(10,a=[],A=n=0,i=(r=this.points).length;n<i;A=++n)o=r[A],s=this.points[A],I.call(this._pre_sele,s)>=0?(e=o.pos.get(),t.ctx_2d().beginPath(),t.ctx_2d().fillStyle=this.font_color.to_rgba(),t.ctx_2d().textAlign="right",t.ctx_2d().font=2*this.font_size.get()+"px Arial",a.push(t.ctx_2d().fillText(e[0]+", "+e[1],t.w-10,20))):a.push(void 0);return a},e.prototype.draw_line=function(t,e,A){var n,i,o,r;for(t.ctx_2d().beginPath(),t.ctx_2d().strokeStyle=this.line_color.to_rgba(),this.line_width.get()<=1?t.ctx_2d().lineWidth=1.000001:t.ctx_2d().lineWidth=this.line_width.get(),n=i=0,o=A.length;i<o;n=++i)r=A[n],t.ctx_2d().lineTo(r[0],r[1]);return t.ctx_2d().stroke(),t.ctx_2d().closePath()},e.prototype.draw_marker_dot=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx_2d().fillStyle=this.sel_item_color.to_rgba():t.ctx_2d().fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx_2d().beginPath(),t.ctx_2d().arc(r[0],r[1],.5*this.marker_size.get(),0,2*Math.PI,!0),t.ctx_2d().fill();return t.ctx_2d().closePath()},e.prototype.draw_marker_cross=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx_2d().strokeStyle=this.sel_item_color.to_rgba():t.ctx_2d().strokeStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx_2d().beginPath(),t.ctx_2d().moveTo(r[0]-.5*this.marker_size.get(),r[1]+.5*this.marker_size.get()),t.ctx_2d().lineTo(r[0]+.5*this.marker_size.get(),r[1]-.5*this.marker_size.get()),t.ctx_2d().moveTo(r[0]+.5*this.marker_size.get(),r[1]+.5*this.marker_size.get()),t.ctx_2d().lineTo(r[0]-.5*this.marker_size.get(),r[1]-.5*this.marker_size.get()),t.ctx_2d().stroke();return t.ctx_2d().closePath()},e.prototype.draw_marker_square=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx_2d().fillStyle=this.sel_item_color.to_rgba():t.ctx_2d().fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx_2d().beginPath(),t.ctx_2d().fillRect(r[0]-.5*this.marker_size.get(),r[1]-.5*this.marker_size.get(),this.marker_size.get(),this.marker_size.get());return t.ctx_2d().closePath()},e.prototype.draw_marker_diamond=function(t,e,A){var n,i,o,r,s;for(n=i=0,o=A.length;i<o;n=++i)r=A[n],s=this.points[n],I.call(this._pre_sele,s)>=0?t.ctx_2d().fillStyle=this.sel_item_color.to_rgba():t.ctx_2d().fillStyle=this.legend[n]||this.marker_color.to_rgba(),t.ctx_2d().beginPath(),t.ctx_2d().moveTo(r[0],r[1]-this.marker_size.get()),t.ctx_2d().lineTo(r[0]+.5*this.marker_size.get(),r[1]),t.ctx_2d().lineTo(r[0],r[1]+this.marker_size.get()),t.ctx_2d().lineTo(r[0]-.5*+this.marker_size.get(),r[1]),t.ctx_2d().fill();return t.ctx_2d().closePath()},e.prototype.draw_marker_bar=function(t,e,A){var n,i,o,r,s,a;for(i=o=0,r=A.length;o<r;i=++o)s=A[i],a=this.points[i],I.call(this._pre_sele,a)>=0?t.ctx_2d().fillStyle=this.sel_item_color.to_rgba():t.ctx_2d().fillStyle=this.legend[i]||this.marker_color.to_rgba(),n=e[1]-s[1],t.ctx_2d().beginPath(),t.ctx_2d().fillRect(s[0],s[1],this.marker_size.get(),n);return t.ctx_2d().closePath()},e.prototype.draw_axis=function(t){var e,A,n;return A=[.5*t.padding,t.h-t.padding/2,0],n=t.w-t.padding,e=-t.h+A[1]+t.padding,t.ctx_2d().beginPath(),t.ctx_2d().lineWidth=this.axis_width,t.ctx_2d().strokeStyle=this.font_color.to_rgba(),t.ctx_2d().fillStyle=this.font_color.to_rgba(),t.ctx_2d().font=this.font_size.get()+"px Arial",10,""!==this.x_axis.get()&&(t.ctx_2d().textAlign="left",t.ctx_2d().fillText(this.x_axis.get(),A[0]+n+10,A[1]+2)),t.ctx_2d().moveTo(A[0],A[1]),t.ctx_2d().lineTo(A[0]+n,A[1]),""!==this.y_axis.get()&&(t.ctx_2d().textBaseline="bottom",t.ctx_2d().textAlign="center",t.ctx_2d().fillText(this.y_axis.get(),A[0]-2,e-10)),t.ctx_2d().moveTo(A[0],A[1]),t.ctx_2d().lineTo(A[0],e),t.ctx_2d().stroke(),t.ctx_2d().closePath(),t.ctx_2d().textBaseline="middle"},e.prototype.draw_legend=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;for(10,2,3,1,c=[0+.5*t.padding,t.h-t.padding/2,0],w=t.w-t.padding/2,e=-t.h+c[1]+t.padding,t.ctx_2d().beginPath(),t.ctx_2d().fillStyle=this.font_color.to_rgba(),t.ctx_2d().font=.8*this.font_size.get()+"px Arial",t.ctx_2d().textAlign="center",t.ctx_2d().textBaseline="top",y=[],d=[],A=n=0,u=this.legend_x_division.get();0<=u?n<=u:n>=u;A=0<=u?++n:--n)h=c[0]+(w-3-(c[0]-3))/this.legend_x_division.get()*A,v=t.sc_2_rw.pos(h,0)[0],y.push(v),d.push(h);for(s=(p=this.get_min_max_of_array(y))[0],r=p[1],A=i=0,_=this.legend_x_division.get();0<=_?i<=_:i>=_;A=0<=_?++i:--i)l=this.get_significative_number(y[A],[s,r]),t.ctx_2d().fillText(l,d[A],c[1]+10);for(t.ctx_2d().textBaseline="middle",t.ctx_2d().textAlign="right",y=[],d=[],A=o=0,f=this.legend_y_division.get();0<=f?o<=f:o>=f;A=0<=f?++o:--o)h=c[1]+(e+1-(c[1]+1))/this.legend_y_division.get()*A,v=t.sc_2_rw.pos(0,h)[1],y.push(v),d.push(h);for(s=(m=this.get_min_max_of_array(y))[0],r=m[1],A=a=0,g=this.legend_y_division.get();0<=g?a<=g:a>=g;A=0<=g?++a:--a)l=this.get_significative_number(y[A],[s,r]),t.ctx_2d().fillText(l,c[0]-2,d[A]+1);return t.ctx_2d().fill(),t.ctx_2d().closePath()},e.prototype.get_min_max_of_array=function(t){var e,A,n,i,o,r,s;for(s=t[0],A=0,i=t.length;A<i;A++)(e=t[A])<s&&(s=e);for(r=t[0],n=0,o=t.length;n<o;n++)(e=t[n])>r&&(r=e);return[s,r]},e.prototype.get_significative_number=function(t,e){var A,n,i,o,r,s,a,l,c,h;if(s=e[0],r=e[1],Math.abs(r-s)>1)(h=Math.round(t)).toString().length>4&&(h=h.toExponential());else if((a=Math.round(t).toString().length)<=4){for(h=t.toPrecision(a+2),n=i=0,o=(c=t.toString()).length;i<o;n=++i)if("0"!==(A=c[n])&&"."!==A&&"-"!==A){l=n;break}l>3&&(h=parseFloat(h).toExponential())}else h=t.toFixed(2);return h},e.prototype.draw_grid=function(t){var e,A,n,i,o,r,s,a,l;for(o=[0+.5*t.padding,t.h-t.padding/2,0],l=t.w-t.padding/2,e=-t.h+o[1]+t.padding,t.ctx_2d().beginPath(),t.ctx_2d().strokeStyle=this.grid_color.to_rgba(),A=n=1,s=this.legend_x_division.get();1<=s?n<s:n>s;A=1<=s?++n:--n)r=o[0]+(l-o[0])/this.legend_x_division.get()*A,t.ctx_2d().moveTo(r,o[1]),t.ctx_2d().lineTo(r,e),t.ctx_2d().stroke();for(A=i=1,a=this.legend_y_division.get();1<=a?i<a:i>a;A=1<=a?++i:--i)r=o[1]+(e-o[1])/this.legend_y_division.get()*A,t.ctx_2d().moveTo(o[0],r),t.ctx_2d().lineTo(o[0]+t.w-t.padding,r);return t.ctx_2d().stroke(),t.ctx_2d().closePath()},e.prototype.update_min_max=function(t,e){var A,n,i,o,r,s,a;for(a=[],n=0,i=(s=this.points).length;n<i;n++)o=s[n],r=o.pos.get(),a.push(function(){var n,i;for(i=[],A=n=0;n<3;A=++n)t[A]=Math.min(t[A],r[A]),i.push(e[A]=Math.max(e[A],r[A]));return i}());return a},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f;if(p=[],_=A[0],f=A[1],this.points.length)for(a=l=0,c=(u=this.points).length;l<c;a=++l)h=u[a],r=_-(d=t.cam_info.re_2_sc.proj(h.pos.get()))[0],s=f-d[1],(o=Math.sqrt(r*r+s*s))<=2*this.marker_size.get()&&p.push({item:h,dist:o});return p.length?(p.sort(function(t,e){return e.dist-t.dist}),1===this._pre_sele.length&&this._pre_sele[0]===p[0].item||(this._pre_sele.clear(),this._pre_sele.push(p[0].item))):this._pre_sele.length&&this._pre_sele.clear(),!1},e}();var z;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;z=function(t){function e(t,A){null==t&&(t=[0,0,0]),null==A&&(A={}),e.__super__.constructor.call(this),this.add_attr({name:"Point",point:new Q(t),radius:new ConstrainedVal(6,{min:1,max:20}),color:null!=A.color?A.color:new a(255,255,255,255),_edge_color:null!=A.edge_color?A.edge_color:new a(0,0,0,255)}),null!=A.radius&&this.radius.set(A.radius)}return n(e,g),e.prototype.z_index=function(){return 1e3},e.prototype.draw=function(t){var e,A;return"gl"===t.ctx_type?(e=new m(this.color,this.radius.get(),this._edge_color,1),A=t.re_2_sc.proj(this.point.pos.get()),e.beg_ctx(t),e.draw_proj(t,A),e.end_ctx(t)):(A=t.re_2_sc.proj(this.point.pos.get()),t.ctx.lineWidth=1,t.ctx.strokeStyle="#993311",t.ctx.fillStyle="#553311",t.ctx.strokeStyle="#FF0000",t.ctx.strokeStyle="#FFFF00",t.ctx.beginPath(),t.ctx.arc(A[0],A[1],this.radius.get(),0,2*Math.PI,!0),t.ctx.closePath(),t.ctx.fill(),t.ctx.stroke())},e}();var L;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;L=function(t){function e(t,A){var n,i,o;this.canvas_manager=t,null==A&&(A={}),e.__super__.constructor.call(this),this.add_attr({zoom_factor:[5,5,1],zoom_pos:[-1,-1,0]});for(n in A)o=A[n],null!=(i=this[n])&&"function"==typeof i.set&&i.set(o)}return n(e,g),e.prototype.z_index=function(){return 1e3},e.prototype.always_active=function(){return!0},e.prototype.on_mouse_move=function(t,e,A,n){return this.zoom_pos[0].set(A[0]),this.zoom_pos[1].set(A[1]),!1},e.prototype.on_mouse_wheel=function(t,e,A,n,i){var o;return o=Math.pow(1.2,i),this.zoom_factor[0].set(this.zoom_factor[0]*o),this.zoom_factor[1].set(this.zoom_factor[1]*o),!0},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h;e=this.zoom_pos[0].get(),A=this.zoom_pos[1].get(),c=this.zoom_factor[0].get(),h=this.zoom_factor[1].get(),s={};for(o in t)l=t[o],s[o]=l;for(s.re_2_sc={proj:function(n){var i;return i=t.re_2_sc.proj(n),[c*(i[0]-e)+e,h*(i[1]-A)+A,n[2]]}},t.ctx.save(),t.ctx.beginPath(),t.ctx.strokeStyle="rgba(170,170,200,0.8)",t.ctx.shadowBlur=5,t.ctx.shadowColor="lightBlue",t.ctx.lineWidth=4,t.ctx.arc(e,A,100,0,2*Math.PI,!0),t.ctx.stroke(),t.ctx.shadowBlur=0,t.ctx.shadowColor="transparent black",t.ctx.fillStyle="lightBlue",t.ctx.font="10px Arial",t.ctx.textBaseline="bottom",t.ctx.textAlign="left",t.ctx.fillText("X "+this.zoom_factor[0].get().toFixed(1),e+75,A-75),t.ctx.closePath(),t.ctx.clip(),n=0,r=(a=this.canvas_manager._flat).length;n<r;n++)(i=a[n])===this||i instanceof U||i.draw(s);return t.ctx.restore()},e}();var D;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;D=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.call(this),this.add_attr({_theme:new _,_color_selection:!!t.color_selection||void 0}),this.add_attr({visualization:{display_style:new Choice(3,["Points","Wireframe","Surface","Surface with Edges"]),point_edition:!t.not_editable||void 0,element_color:this._theme.surfaces.color,line_color:this._theme.lines.color},points:[],_elements:[],_selected_points:[],_pelected_points:[],_selected_elements:[],_pelected_elements:[],original_index:[]}),this.move_scheme=C,this._sub_elements=[],this._sub_date=-1,this.delete_selected_points_callback=[]}return n(e,g),e.prototype.add_point=function(t){var e;return null==t&&(t=[0,0,0]),this.points[0]||this.points.push(new TypedArray_Float64([3,0])),e=this.points[0].size(1)+1,this.points[0].resize([3,e]),this.points[0].set_val([0,e-1],t[0]),this.points[0].set_val([1,e-1],t[1]),this.points[0].set_val([2,e-1],t[2])},e.prototype.set_point=function(t,e){return null==e&&(e=[0,0,0]),this.points[0].set_val([0,t],e[0]),this.points[0].set_val([1,t],e[1]),this.points[0].set_val([2,t],e[2])},e.prototype.get_point=function(t){return[this.points[0].get([0,t]),this.points[0].get([1,t]),this.points[0].get([2,t])]},e.prototype.add_element=function(t){return this._elements.push(t)},e.prototype.bounding_coordinates=function(){var t,e,A,n,i,o,r;for(e=A=0,r=this.points[0].size(1);0<=r?A<r:A>r;e=0<=r?++A:--A)if(t)for(i=this.get_point(e),e=n=0;n<=2;e=++n)i[e]>t[e][0]?t[e][0]=i[e]:i[e]<t[e][1]&&(t[e][1]=i[e]);else t=[[(o=this.get_point(e))[0],o[0]],[o[1],o[1]],[o[2],o[2]]];return t},e.prototype.nb_points=function(){var t;return null!=(t=this.points[0])?t.size(1):void 0},e.prototype.nb_elements=function(){var t,e,A,n,i;for(i=0,e=0,A=(n=this._elements).length;e<A;e++)"number"==typeof(t=n[e]).indices.size(1)&&(i+=t.indices.size(1));return i},e.prototype.real_change=function(){var t,e,A;for(t=0,e=(A=[this.points,this._elements]).length;t<e;t++)if(A[t].real_change())return!0;return!1},e.prototype.z_index=function(){return 1e3},e.prototype.clear=function(){return this.points.clear(),this._elements.clear()},e.prototype.add_theme_if_undef=function(){if(null==this._theme)return this.add_attr({_theme:new _})},e.prototype.draw_selected=function(t){return this._theme.lines.color.r.set(0),this._theme.lines.color.b.set(0),this.draw(t)},e.prototype.draw_unselected=function(t){return this._theme=new _,this.draw(t)},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,T,O,G,V,Y,X,H,W,K,j,J,q,Z,$,tt;if(this.add_theme_if_undef(),"gl"===t.ctx_type){for(o=0,s=(S=this._elements).length;o<s;o++)(e=S[o]).draw_gl(t,this,this.points);if(!1,C=function(){var e,n,i,o;for(o=[],A=e=0,n=null!=(i=this.points[0])?i.size(1):void 0;0<=n?e<n:e>n;A=0<=n?++e:--e)o.push(t.re_2_sc.proj(this.get_point(A)));return o}.call(this),(null!=(R=this.visualization.point_edition)?R.get():void 0)&&null!=t.sel_item[this.model_id]){for(this._theme.editable_points.beg_ctx(t),b=0,a=C.length;b<a;b++)N=C[b],this._theme.points.draw_proj(t,N);if(this._theme.editable_points.end_ctx(t),this._selected_points.length){for(this._theme.selected_points.beg_ctx(t),B=0,_=(D=this._selected_points).length;B<_;B++)(N=D[B])instanceof Q&&(E=t.re_2_sc.proj(N.pos.get()),this._theme.selected_points.draw_proj(t,E));this._theme.selected_points.end_ctx(t)}if(this._pelected_points.length){for(this._theme.highlighted_points.beg_ctx(t),P=0,f=(U=this._pelected_points).length;P<f;P++)(N=U[P])instanceof Q&&(E=t.re_2_sc.proj(N.pos.get()),this._theme.highlighted_points.draw_proj(t,E));this._theme.highlighted_points.end_ctx(t)}}else if(this.visualization.display_style.equals("Points")){for(this._theme.points.beg_ctx(t),k=0,m=C.length;k<m;k++)N=C[k],this._theme.points.draw_proj(t,N);this._theme.points.end_ctx(t)}for(this._update_sub_elements(),W=0,g=(T=this._sub_elements).length;W<g;W++)(e=T[W]).draw_gl(t,this,this.points,!0);if(this._selected_elements.length)for(K=0,v=(O=this._pelected_points).length;K<v;K++)(e=O[K]).draw_gl(t,this,this.points,!0,this._theme.selected_elements);if(this._pelected_elements.length)for(j=0,y=(G=this._pelected_elements).length;j<y;j++)(e=G[j]).draw_gl(t,this,this.points,!0,this._theme.highlighted_elements);return!0}if(null!=(V=this.points)?V.length:void 0){for(C=function(){var e,n,i,o;for(n=this.points,i=[],A=o=0,e=n.length;o<e;A=++o)N=n[A],i.push(t.re_2_sc.proj(N.pos.get()));return i}.call(this),J=0,w=(Y=this._elements).length;J<w;J++)(e=Y[J]).draw(t,this,C);if(!1,(null!=(X=this.visualization.point_edition)?X.get():void 0)&&null!=t.sel_item[this.model_id]){for(this._theme.editable_points.beg_ctx(t),q=0,x=C.length;q<x;q++)N=C[q],this._theme.points.draw_proj(t,N);if(this._theme.editable_points.end_ctx(t),this._selected_points.length){for(this._theme.selected_points.beg_ctx(t),Z=0,l=(I=this._selected_points).length;Z<l;Z++)N=I[Z],E=t.re_2_sc.proj(N.pos.get()),this._theme.selected_points.draw_proj(t,E);this._theme.selected_points.end_ctx(t)}if(this._pelected_points.length){for(this._theme.highlighted_points.beg_ctx(t),$=0,c=(F=this._pelected_points).length;$<c;$++)N=F[$],E=t.re_2_sc.proj(N.pos.get()),this._theme.highlighted_points.draw_proj(t,E);this._theme.highlighted_points.end_ctx(t)}}else if(this.visualization.display_style.equals("Points")){for(this._theme.points.beg_ctx(t),tt=0,h=C.length;tt<h;tt++)N=C[tt],this._theme.points.draw_proj(t,N);this._theme.points.end_ctx(t)}for(this._update_sub_elements(),n=0,d=(M=this._sub_elements).length;n<d;n++)(e=M[n]).draw(t,this,C,!0);if(this._selected_elements.length)for(i=0,u=(z=this._pelected_points).length;i<u;i++)(e=z[i]).draw(t,this,C,!0,this._theme.selected_elements);if(this._pelected_elements.length){for(H=[],r=0,p=(L=this._pelected_elements).length;r<p;r++)e=L[r],H.push(e.draw(t,this,C,!0,this._theme.highlighted_elements));return H}}},e.prototype.on_mouse_down=function(t,e,A,n,i,o){var r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C;if(null==o&&(o=!0),delete this._moving_point,(null!=(x=this.visualization.point_edition)?x.get():void 0)&&("LEFT"===n||"RIGHT"===n)&&o){if(y=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.points).length;e<A;e++)v=n[e],i.push(t.cam_info.re_2_sc.proj(v.pos.get()));return i}.call(this),(r=this._closest_point_closer_than(y,A,10))>=0)return e.ctrlKey?(this._ctrlKey=!0,this._selected_points.toggle_ref(this.points[r])&&(this._moving_point=this.points[r],this._moving_point.beg_click(A))):(this._ctrlKey=!1,this._selected_points.contains_ref(this.points[r])||(this._selected_points.clear(),this._selected_points.set([this.points[r]])),this._moving_point=this.points[r],this._moving_point.beg_click(A)),"RIGHT"!==n;for(this._selected_points.clear(),this._pelected_points.clear(),r={dist:4},c=0,h=(b=this._elements).length;c<h;c++)"function"==typeof(a=b[c]).closest_point_closer_than&&a.closest_point_closer_than(r,this,y,t.cam_info,A);for(_=0,d=(E=this._sub_elements).length;_<d;_++)"function"==typeof(a=E[_]).closest_point_closer_than&&a.closest_point_closer_than(r,this,y,t.cam_info,A);if(null!=r.disp){for(m=this.points.length,l=this.add_point(r.disp),this._selected_points.clear(),this._selected_points.set([l]),this._moving_point=l,this._moving_point.beg_click(A),C=[],s={},g=0,u=(B=this._elements).length;g<u;g++)if("function"==typeof(a=B[g]).cut_with_point&&a.cut_with_point(s,r,this,m,l),null!=s[a.model_id])for(w=0,p=(N=s[a.model_id]).length;w<p;w++)f=N[w],C.push(f);else C.push(a);this._elements.clear(),this._elements.set(C)}}return!1},e.prototype.on_mouse_up_wo_move=function(t,e,A,n,i){var o;if(null==i&&(i=!0),null!=this._moving_point&&!this._ctrlKey&&this._selected_points.length>1)return o=this._selected_points.back(),this._selected_points.clear(),this._selected_points.set([o]),!0},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g;if(null!=(_=this.visualization.point_edition)?_.get():void 0){if(null!=this._moving_point&&"LEFT"===n)return null!=(f=t.undo_manager)&&f.snapshot(),u=t.cam_info.sc_2_rw.pos(A[0],A[1]),r=t.cam_info.sc_2_rw.dir(A[0],A[1]),this._moving_point.move(this._selected_points,this._moving_point.pos,u,r),!0;if(p=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.points).length;e<A;e++)d=n[e],i.push(t.cam_info.re_2_sc.proj(d.pos.get()));return i}.call(this),(o=this._closest_point_closer_than(p,A,10))>=0)return this._pelected_points.clear(),this._pelected_points.set([this.points[o]]),!0;for(o={dist:4},a=0,l=(m=this._elements).length;a<l;a++)"function"==typeof(s=m[a]).closest_point_closer_than&&s.closest_point_closer_than(o,this,p,t.cam_info,A);for(h=0,c=(g=this._sub_elements).length;h<c;h++)"function"==typeof(s=g[h]).closest_point_closer_than&&s.closest_point_closer_than(o,this,p,t.cam_info,A);if(null!=o.disp)return this._pelected_points.clear(),this._pelected_points.set([new Q(o.disp)]),!0}return this._pelected_points.clear(),!1},e.prototype.update_min_max=function(t,e){var A,n,i,o,r,s,a;for(a=[],n=i=0,r=null!=(s=this.points[0])?s.size(1):void 0;0<=r?i<r:i>r;n=0<=r?++i:--i)o=[this.points[0].get([0,n]),this.points[0].get([1,n]),this.points[0].get([2,n])],a.push(function(){var n,i;for(i=[],A=n=0;n<3;A=++n)t[A]=Math.min(t[A],o[A]),i.push(e[A]=Math.max(e[A],o[A]));return i}());return a},e.prototype.make_curve_line_from_selected=function(){var t,e,A,n,i,o;if((e=this._get_indices_of_selected_points()).length){for(i=[],A=0,n=e.length;A<n;A++)o=e[A],i.push(function(){var e,A,n,i;for(i=[],A=0,e=(n=this._elements).length;A<e;A++)t=n[A],i.push(t.make_curve_line_from_selected(o));return i}.call(this));return i}},e.prototype.break_line_from_selected=function(){var t,e,A,n,i,o;if((e=this._get_indices_of_selected_points()).length){for(i=[],A=0,n=e.length;A<n;A++)o=e[A],i.push(function(){var e,A,n,i;for(i=[],A=0,e=(n=this._elements).length;A<e;A++)t=n[A],i.push(t.break_line_from_selected(o));return i}.call(this));return i}},e.prototype.delete_selected_point=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y;if((i=this._get_indices_of_selected_points()).length>0){for(v=[],n=r=p=i.length-1;p<=0?r<=0:r>=0;n=p<=0?++r:--r){for(y=i[n],d=this.points[y],(c=function(){var t,e,n;for(n=[],A=t=0,e=this.points.length;0<=e?t<e:t>e;A=0<=e?++t:--t)n.push(A);return n}.call(this))[y]=-1,o=l=_=y+1,f=this.points.length;_<=f?l<f:l>f;o=_<=f?++l:--l)c[o]-=1;for(h=0,s=(m=this._elements).length;h<s;h++)"function"==typeof(e=m[h]).rem_sub_element&&e.rem_sub_element(y);for(this._selected_points.remove_ref(d),this._pelected_points.remove_ref(d),this.points.splice(y,1),u=0,a=(g=this.delete_selected_points_callback).length;u<a;u++)(0,g[u])(this,i);t={},v.push(function(){var A,n,i,o;for(o=[],n=0,A=(i=this._elements).length;n<A;n++)e=i[n],o.push("function"==typeof e.update_indices?e.update_indices(t,c):void 0);return o}.call(this))}return v}},e.prototype._actualise_indices=function(t,e,A){var n,i,o,r,s;if(null==A&&(A=0),t.length&&0!==e&&A>=0&&A<=t.length-1){for(s=[],i=0,o=(r=t.slice(A,t.length)).length;i<o;i++)n=r[i],s.push(t[n].set(t[n].get()+e));return s}},e.prototype._get_indices_of_selected_points=function(){var t,e,A,n,i,o,r,s,a;for(t=[],e=A=0,n=(s=this.points).length;A<n;e=++A)for(r=s[e],o=0,i=(a=this._selected_points).length;o<i;o++)r===a[o]&&t.push(e);return t},e.prototype._update_sub_elements=function(){var t,e,A,n,i,o;if(this._sub_date<this._elements._date_last_modification){for(this._sub_date=this._elements._date_last_modification,A=function(){var t,A,n,i;for(i=[],t=0,A=(n=this._elements).length;t<A;t++)e=n[t],i.push(e);return i}.call(this),this._sub_elements=[],o=[];A.length;)i=this._sub_elements.length,"function"==typeof(t=A.pop()).add_sub_element&&t.add_sub_element(this._sub_elements),o.push(function(){var t,e,o,r;for(r=[],t=0,e=(o=this._sub_elements.slice(i)).length;t<e;t++)n=o[t],r.push(A.push(n));return r}.call(this));return o}},e.prototype._closest_point_closer_than=function(t,e,A){var n,i,o,r,s,a;for(n=-1,s=o=0,r=t.length;o<r;s=++o)a=t[s],A>(i=Math.sqrt(Math.pow(e[0]-a[0],2)+Math.pow(e[1]-a[1],2)))&&(A=i,n=s);return n},e}();var U;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;U=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({p:new Choice(0,["lb","lt","rb","rt","mm"]),r:new ConstrainedVal(.05,{min:0,max:1}),d:1,l:new ConstrainedVal(2,{min:0,max:10,div:10})}),this.red=new a(255,0,0),this.green=new a(0,255,0),this.blue=new a(0,0,255),this.theme_x=new f(this.red),this.theme_y=new f(this.green),this.theme_z=new f(this.blue)}return n(e,g),e.prototype.z_index=function(){return 1e4},e.prototype.draw=function(t){var e,A,n,i,o;return e=(A=this._coords(t))[0],n=A[1],i=A[2],o=A[3],1e-5-1,e[2]=1e-5-1,n[2]=1e-5-1,i[2]=1e-5-1,o[2]=1e-5-1,this.theme_x.beg_ctx(t),this.theme_x.draw_straight_proj(t,e,n),this.theme_x.end_ctx(t),this.theme_y.beg_ctx(t),this.theme_y.draw_straight_proj(t,e,i),this.theme_y.end_ctx(t),this.theme_z.beg_ctx(t),this.theme_z.draw_straight_proj(t,e,o),this.theme_z.end_ctx(t),t.cm.fillText("X",n[0]+.5*(n[0]-e[0]),n[1]+.5*(n[1]-e[1]),"14px monospace","center",this.red.to_rgba()),t.cm.fillText("Y",i[0]+.5*(i[0]-e[0]),i[1]+.5*(i[1]-e[1]),"14px monospace","center",this.green.to_rgba()),t.cm.fillText("Z",o[0]+.5*(o[0]-e[0]),o[1]+.5*(o[1]-e[1]),"14px monospace","center",this.blue.to_rgba())},e.prototype._coords=function(t){var e,A,n,i,o,r,s,a,l,c,d,u,p,_;return((A=this.d.get())<0||!this.p.equals("mm"))&&(A=t.cam.d.get()/10),i=this.r.get()*(this._fixed()?A:t.cam.d.get()),d=1*t.mwh*this.r.get(),e=t.cam.O.get(),l=t.re_2_sc.proj(h.add(e,[0,0,0])),u=t.re_2_sc.proj(h.add(e,[i,0,0])),p=t.re_2_sc.proj(h.add(e,[0,i,0])),_=t.re_2_sc.proj(h.add(e,[0,0,i])),s=Math.min(l[0],u[0],p[0],_[0]),o=Math.max(l[0],u[0],p[0],_[0]),a=Math.min(l[1],u[1],p[1],_[1]),r=Math.max(l[1],u[1],p[1],_[1]),"l"!==(c=this.p.get())[0]&&"r"!==c[0]||(n="r"===c[0]?t.w-o-d:d-s,u[0]+=n,p[0]+=n,_[0]+=n,l[0]+=n),"b"!==c[1]&&"t"!==c[1]||(n="b"===c[1]?t.h-r-d:d-a,u[1]+=n,p[1]+=n,_[1]+=n,l[1]+=n),[l,u,p,_]},e.prototype._fixed=function(){return this.p.equals("mm")},e}();var Q;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Q=function(t){function e(t,A){null==A&&(A=new C),e.__super__.constructor.call(this),this.add_attr({pos:new h(t)}),this._mv=A}return n(e,g),e.prototype.disp_only_in_model_editor=function(){return this.pos},e.prototype.beg_click=function(t){return this._mv.beg_click(t)},e.prototype.move=function(t,e,A,n){return this._mv.move(t,e,A,n)},e.prototype.z_index=function(){return 100},e.prototype.size=function(t){return null==t&&(t=!1),[3]},e}();var T;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;T=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({gradient:new s}),this.gradient.add_color([48,48,48,255],0),this.gradient.add_color([48,48,48,255],1)}return n(e,g),e.prototype.z_index=function(){return 0},e.prototype.draws_a_background=function(){return!0},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;if("2d"===t.ctx_type){for(s=t.ctx.createLinearGradient(0,0,0,t.h),o=0,r=(c=this.gradient.color_stop).length;o<r;o++)A=c[o],s.addColorStop(A.position.get(),A.color.to_rgba());return t.ctx.fillStyle=s,t.ctx.fillRect(0,0,t.w,t.h)}return h="precision mediump float;\n varying float y;\n attribute vec3 pos;\n void main( void ) {\n y = 0.5 * ( pos.y + 1.0 );\n gl_Position = vec4( pos, 1.0 );\n }\n",n=this.gradient.get_fragment_shader("y"),l=t.cm.gl_prog(h,n),i=t.ctx,null==this._points&&(d=1-1e-6,e=new Float32Array([1,1,d,-1,1,d,1,-1,d,-1,-1,d]),this._points=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this._points),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW)),i.useProgram(l),a=i.getAttribLocation(l,"pos"),i.enableVertexAttribArray(a),i.bindBuffer(i.ARRAY_BUFFER,this._points),i.vertexAttribPointer(a,3,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)},e}();var O;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;O=function(t){function e(t,A){var n,i,o;null==A&&(A={}),e.__super__.constructor.call(this),this.add_attr({cam:t});for(n in A)o=A[n],null!=(i=this[n])&&"function"==typeof i.set&&i.set(o)}return n(e,g),e.prototype.z_index=function(){return 10},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,d;return s=(r=this.cam.d.get())*Math.tan(.017453292519943295*this.cam.get_a()/2),n=h.mus(s,this.cam.get_X()),i=h.mus(s,this.cam.get_Y()),o=h.mus(r,this.cam.get_Z()),e=this.cam.focal_point(),A=t.re_2_sc.proj(e),l=t.re_2_sc.proj([e[0]+o[0]-n[0]+i[0],e[1]+o[1]-n[1]+i[1],e[2]+o[2]-n[2]+i[2]]),d=t.re_2_sc.proj([e[0]+o[0]+n[0]+i[0],e[1]+o[1]+n[1]+i[1],e[2]+o[2]+n[2]+i[2]]),c=t.re_2_sc.proj([e[0]+o[0]+n[0]-i[0],e[1]+o[1]+n[1]-i[1],e[2]+o[2]+n[2]-i[2]]),a=t.re_2_sc.proj([e[0]+o[0]-n[0]-i[0],e[1]+o[1]-n[1]-i[1],e[2]+o[2]-n[2]-i[2]]),t.ctx.lineWidth=2,t.ctx.beginPath(),t.ctx.strokeStyle="lightBlue",t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(l[0],l[1]),t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(d[0],d[1]),t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(c[0],c[1]),t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(a[0],a[1]),t.ctx.moveTo(l[0],l[1]),t.ctx.lineTo(d[0],d[1]),t.ctx.lineTo(c[0],c[1]),t.ctx.lineTo(a[0],a[1]),t.ctx.lineTo(l[0],l[1]),t.ctx.stroke(),t.ctx.closePath(),10,t.ctx.beginPath(),t.ctx.fillStyle="navy",t.ctx.arc(A[0],A[1],5,0,2*Math.PI,!0),t.ctx.fill(),null!=this.cam&&null!=this.cam.model_id&&(t.ctx.fillStyle="white",t.ctx.font="10px Arial",t.ctx.fillText("Cam "+this.cam.model_id,A[0]+10,A[1]-10)),t.ctx.closePath()},e}();var G;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;G=function(t){function e(t,A,n){null==t&&(t="Big title"),null==A&&(A=!0),null==n&&(n=!0),e.__super__.constructor.call(this),this.add_attr({show_legend:A,color_map:new s,auto_fit:n,legend_size:new ConstrainedVal(.5,{min:.1,max:1,div:0}),_title:t,_width:12,_height:100,_min_val:0,_max_val:-1}),this.add_attr({max_val:new ConstOrNotModel(this.auto_fit,this._max_val,!1),min_val:new ConstOrNotModel(this.auto_fit,this._min_val,!1)}),this.color_map.add_color([0,0,0,255],0),this.color_map.add_color([255,0,0,255],.33),this.color_map.add_color([255,255,0,255],.66),this.color_map.add_color([255,255,255,255],1)}return n(e,g),e.prototype.z_index=function(){return 1e3},e.prototype.is_correct=function(){return this.max_val.get()>=this.min_val.get()},e.prototype.get_ratio=function(t){return t.h/(2*this._height.get())*this.legend_size.get()},e.prototype._draw_text_legend=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u;for(l=this.get_ratio(t),n=this._height.get()*l,u=this._width.get()*l,a=.5*t.h-.5*n,s=t.w-2*u,A=10*l,h=[],i=0,o=(c=this.color_map.color_stop).length;i<o;i++)r=(e=c[i]).position.get(),d=(this.max_val.get()-this.min_val.get())*(1-e.position.get())+this.min_val.get(),h.push(t.cm.fillText(d.toFixed(4),s-8,a+7+r*n,A+"pt Arial","right","White"));return h},e.prototype._draw_gradient=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;if("2d"===t.ctx_type){for(d=t.ctx.createLinearGradient(0,A,0,A+i),c=0,h=(_=this.color_map.color_stop).length;c<h;c++)s=_[c],d.addColorStop(s.position.get(),"rgba("+s.color.r.get()+", "+s.color.g.get()+", "+s.color.b.get()+", "+s.color.a.get()+")");return t.ctx.fillStyle=d,t.ctx.fillRect(e,A,n,i)}return l=t.ctx,f="precision mediump float;\n varying float y;\n uniform float my;\n attribute vec3 pos;\n void main( void ) {\n y = 0.5 * ( my * pos.y + 1.0 );\n gl_Position = vec4( pos, 1.0 );\n }\n",a=this.color_map.get_fragment_shader("y"),(p=t.cm.gl_prog(f,a)).myUniform=l.getUniformLocation(p,"my"),o=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,o),w=-1,g=2*e/t.w-1,y=1-2*A/t.h,m=2*(e+n)/t.w-1,v=1-2*(A+i)/t.h,r=new Float32Array([g,y,w,m,y,w,g,v,w,m,v,w]),l.bufferData(l.ARRAY_BUFFER,r,l.STATIC_DRAW),l.useProgram(p),l.uniform1f(p.myUniform,1*t.h/i),u=l.getAttribLocation(p,"pos"),l.enableVertexAttribArray(u),l.bindBuffer(l.ARRAY_BUFFER,o),l.vertexAttribPointer(u,3,l.FLOAT,!1,0,0),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.deleteBuffer(o),l.disableVertexAttribArray(u),l.bindBuffer(l.ARRAY_BUFFER,null)},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a;if(!0===this.show_legend.get()&&(i=this.get_ratio(t),e=this._height.get()*i,a=this._width.get()*i,n=.5*t.h-.5*e,A=t.w-2*a,this._draw_gradient(t,A,n,a,e),this._draw_text_legend(t),null!=(r=null!=(o=this._title)?o.toString():void 0)))return s=10*i,t.cm.fillText(r,A+.5*a,n+e+1.6*s,s+"pt Arial","center-limited","White")},e}();var V;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};V=function(t){function e(t,A){null==t&&(t=[0,0,0]),null==A&&(A=[0,0,-.2]),e.__super__.constructor.call(this),this.add_attr({pos:new Q(t),dir:new Q(A),opacity:new ConstrainedVal(50,{min:0,max:100,div:100}),_selected:new Lst,_pre_sele:new Lst}),this.b=[]}return n(e,g),e.prototype.z_index=function(){return 1},e.prototype.bounding_box=function(){var t,e,A,n,i,o,r;if(null!=this._bounding_box)return this._bounding_box;for(t=function(e,A,n){var i,o,r,s,a;if(null!=e.update_min_max)return e.update_min_max(A,n);if(null!=e.sub_canvas_items){for(s=[],i=0,o=(r=e.sub_canvas_items()).length;i<o;i++)a=r[i],s.push(t(a,A,n));return s}},r=[1e40,1e40,1e40],o=[-1e40,-1e40,-1e40],e=0,n=(i=this._parents[0]._children).length;e<n;e++)A=i[e],t(A,r,o);return 1e40===r[0]?[[-1,-1,-1],[1,1,1]]:(this._bounding_box=[r,o],this._bounding_box)},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;return r=t.re_2_sc.proj(this.pos.pos.get()),o=t.re_2_sc.proj(this.dir.pos.get()),this.b=this.bounding_box(),A=(this.b[1][0]-this.b[0][0])/2,e=(this.b[1][1]-this.b[0][1])/2,i=t.re_2_sc.proj([this.pos.pos[0].get()-A,this.pos.pos[1].get()+e,this.pos.pos[2].get()]),d=t.re_2_sc.proj([this.pos.pos[0].get()+A,this.pos.pos[1].get()+e,this.pos.pos[2].get()]),s=t.re_2_sc.proj([this.pos.pos[0].get()+A,this.pos.pos[1].get()-e,this.pos.pos[2].get()]),n=t.re_2_sc.proj([this.pos.pos[0].get()-A,this.pos.pos[1].get()-e,this.pos.pos[2].get()]),t.ctx.lineWidth=2,t.ctx.lineCap="square",t.ctx.beginPath(),t.ctx.strokeStyle="rgb( 70, 70, 70)",t.ctx.fillStyle="rgba( 200, 200, 200, 200)",t.ctx.moveTo(i[0],i[1]),t.ctx.lineTo(d[0],d[1]),t.ctx.lineTo(s[0],s[1]),t.ctx.lineTo(n[0],n[1]),t.ctx.lineTo(i[0],i[1]),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath(),t.ctx.beginPath(),t.ctx.strokeStyle="orange",t.ctx.moveTo(r[0],r[1]),t.ctx.lineTo(o[0],o[1]),t.ctx.fill(),t.ctx.stroke(),t.ctx.lineWidth=1,t.ctx.beginPath(),a=this.pos,I.call(this._pre_sele,a)>=0?t.ctx.strokeStyle="yellow":t.ctx.strokeStyle="#333311",l=this.pos,I.call(this._selected,l)>=0?t.ctx.fillStyle="red":t.ctx.fillStyle="#333311",t.ctx.arc(r[0],r[1],4,0,2*Math.PI,!0),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath(),t.ctx.beginPath(),c=this.dir,I.call(this._pre_sele,c)>=0?t.ctx.strokeStyle="yellow":t.ctx.strokeStyle="#333311",h=this.dir,I.call(this._selected,h)>=0?t.ctx.fillStyle="red":t.ctx.fillStyle="#333311",t.ctx.arc(o[0],o[1],4,0,2*Math.PI,!0),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath()},e.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a,l;if(a=A[0],l=A[1],0===n&&(o=a-(s=e.re_2_sc.proj(this.pos.pos.get()))[0],r=l-s[1],(i=Math.sqrt(o*o+r*r))<=10&&t.push({item:this.pos,dist:i,type:"CuttingPlan"}),o=a-(s=e.re_2_sc.proj(this.dir.pos.get()))[0],r=l-s[1],(i=Math.sqrt(o*o+r*r))<=10))return t.push({item:this.dir,dist:i,type:"CuttingPlan"})},e.prototype.on_mouse_down=function(t,e,A,n){var i,o,r;if(delete this._movable_entity,"LEFT"===n)for(o=i=0;i<3;o=++i)if(r=[],this.get_movable_entities(r,t.cam_info,A,o),r.length)return r.sort(function(t,e){return e.dist-t.dist}),this._movable_entity=r[0].item,this._may_need_snapshot=!0,e.ctrlKey?(this._selected.toggle_ref(this._movable_entity),this._selected.contains_ref(this._movable_entity)||delete this._movable_entity):(this._selected.clear(),this._selected.push(this._movable_entity),this._movable_entity.beg_click(A)),!0;return!1},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p;return"LEFT"===n&&null!=this._movable_entity?(this._may_need_snapshot&&(null!=(h=t.undo_manager)&&h.snapshot(),delete this._may_need_snapshot),l=t.cam_info.sc_2_rw.pos(A[0],A[1]),r=t.cam_info.sc_2_rw.dir(A[0],A[1]),this._movable_entity.move(this._selected,this._movable_entity.pos,l,r),!0):(d=[],u=A[0],p=A[1],null!=this.dir&&(s=u-(c=t.cam_info.re_2_sc.proj(this.dir.pos.get()))[0],a=p-c[1],(o=Math.sqrt(s*s+a*a))<=10&&d.push({item:this.dir,dist:o})),null!=this.pos&&(s=u-(c=t.cam_info.re_2_sc.proj(this.pos.pos.get()))[0],a=p-c[1],(o=Math.sqrt(s*s+a*a))<=10&&d.push({item:this.pos,dist:o})),d.length?(d.sort(function(t,e){return e.dist-t.dist}),1===this._pre_sele.length&&this._pre_sele[0]===d[0].item||(this._pre_sele.clear(),this._pre_sele.push(d[0].item))):this._pre_sele.length&&this._pre_sele.clear(),!1)},e}();var Y;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Y=function(t){function e(t,A,n){null==t&&(t=[0,0,0]),null==A&&(A=2),null==n&&(n=6),e.__super__.constructor.call(this),this.add_attr({point:new Q(t),density:A,radius:n,_selected:new Lst,_pre_sele:new Lst})}return n(e,g),e.prototype.z_index=function(){return 1e3},e.prototype.draw=function(t){var e,A,n,i,o,r,s,l,c,h,d,u,p,_,f,g,v,y,w,x;if("gl"===t.ctx_type){for(w={},i=0,l=(f=this._selected).length;i<l;i++)w[f[i].model_id]=!0;for(e={},o=0,c=(g=this._pre_sele).length;o<c;o++)e[g[o].model_id]=!0;if(p=new m(new a(255,255,255,255),this.radius.get(),new a(255,255,255,255),1),A=new m(new a(0,255,0,255),this.radius.get(),new a(255,255,255,255),1),x=new m(new a(255,0,0,255),this.radius.get(),new a(255,255,255,255),1),n=new m(new a(0,0,0,0),this.radius.get(),new a(255,0,0,255),1),_=t.re_2_sc.proj(this.point.pos.get()),A.beg_ctx(t),p.draw_proj(t,_),A.end_ctx(t),null!=w[this.point.model_id]&&(x.beg_ctx(t),u=t.re_2_sc.proj(this.point.pos.get()),x.draw_proj(t,u),x.end_ctx(t)),null!=e[this.model_id])return n.beg_ctx(t),u=t.re_2_sc.proj(this.point.pos.get()),n.draw_proj(t,u),n.end_ctx(t)}else{for(w={},r=0,h=(v=this._selected).length;r<h;r++)w[v[r].model_id]=!0;for(e={},s=0,d=(y=this._pre_sele).length;s<d;s++)e[y[s].model_id]=!0;if(_=t.re_2_sc.proj(this.point.pos.get()),t.ctx.lineWidth=1,t.ctx.strokeStyle="#993311",t.ctx.fillStyle="#553311",null!=w[this.point.model_id]?t.ctx.strokeStyle="#FF0000":t.ctx.strokeStyle="#FFFF00",t.ctx.beginPath(),t.ctx.arc(_[0],_[1],this.radius.get(),0,2*Math.PI,!0),t.ctx.closePath(),t.ctx.fill(),t.ctx.stroke(),null!=e[this.model_id])return t.ctx.fillStyle="#FFDD22",t.ctx.beginPath(),t.ctx.lineWidth=.8,t.ctx.arc(_[0],_[1],.5*this.radius.get(),0,2*Math.PI,!0),t.ctx.fill(),t.ctx.closePath()}},e.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a,l;if(a=A[0],l=A[1],0===n&&(o=a-(s=e.re_2_sc.proj(this.point.pos.get()))[0],r=l-s[1],(i=Math.sqrt(o*o+r*r))<=10))return t.push({item:this.point,dist:i,type:"PointMesher"})},e.prototype.on_mouse_down=function(t,e,A,n){var i,o,r;if(delete this._movable_entity,"LEFT"===n||"RIGHT"===n)for(o=i=0;i<3;o=++i){if(r=[],this.get_movable_entities(r,t.cam_info,A,o),r.length)return r.sort(function(t,e){return e.dist-t.dist}),this._movable_entity=r[0].item,e.ctrlKey?(this._selected.toggle_ref(this._movable_entity),this._selected.contains_ref(this._movable_entity)||delete this._movable_entity):(this._selected.clear(),this._selected.push(this._movable_entity),this._movable_entity.beg_click(A)),"RIGHT"!==n;this._selected.clear()}return!1},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p;return"LEFT"===n&&null!=this._movable_entity?(null!=(h=t.undo_manager)&&h.snapshot(),l=t.cam_info.sc_2_rw.pos(A[0],A[1]),r=t.cam_info.sc_2_rw.dir(A[0],A[1]),this._movable_entity.move(this._selected,this._movable_entity.pos,l,r),!0):(d=[],u=A[0],p=A[1],s=u-(c=t.cam_info.re_2_sc.proj(this.point.pos.get()))[0],a=p-c[1],(o=Math.sqrt(s*s+a*a))<=10&&d.push({item:this,dist:o}),d.length?(d.sort(function(t,e){return e.dist-t.dist}),1===this._pre_sele.length&&this._pre_sele[0]===d[0].item||(this._pre_sele.clear(),this._pre_sele.push(d[0].item))):this._pre_sele.length&&this._pre_sele.clear(),!1)},e}();var X;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;X=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({_mesh:t,_data:new TypedArray_Float64(null!=t&&"function"==typeof t.nb_points?t.nb_points():void 0)}),this._date_bufs={},this._data_buffer={}}return n(e,t),e.prototype.size=function(){return this._data._data.length},e.prototype.get_drawing_parameters=function(t){return t.add_attr({drawing_parameters:{_legend:new G(t.name)}}),t.drawing_parameters.add_attr({display_style:new Choice(1,["Wireframe","Surface","Surface with Edges"]),legend:t.drawing_parameters._legend})},e.prototype.get_sub_field=function(t){return this},e.prototype.update_min_max=function(t,e){return this._mesh.update_min_max(t,e)},e.prototype.toString=function(){return this.name.get()},e.prototype.draw=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f;if(null!=e){if(this.actualise_value_legend(e._legend),"gl"===t.ctx_type)for(c=-1,o=0,s=(p=this._mesh._elements).length;o<s;o++)null!=(n=p[o]).indices._data&&(this._update_gl_bufs(t,c+=1,n),l=c+"_"+t.ctx.ctx_id,f=null!=(null!=A?A.warp_by:void 0)&&(null!=A?A.warp_factor:void 0)?A.warp_by:void 0,"function"==typeof n.draw_nodal_field_gl&&n.draw_nodal_field_gl(t,this._mesh,this._mesh.points,this._data_buffer[l],e.display_style.get(),e._legend,f,A.warp_factor,l));else for(u=function(){var e,n,o,r,s,a,l,c,u,p,_,f;if(null!=(null!=A?A.warp_by:void 0)&&this._mesh.points.length===(null!=(s=A.warp_by._vector[0])&&null!=(a=s._data[0])&&null!=(l=a.field)&&null!=(c=l._data.size())?c[0]:void 0)){for(u=this._mesh.points,_=[],i=e=0,n=u.length;e<n;i=++e)d=u[i],_.push(t.re_2_sc.proj(h.add(d.pos.get(),h.mus(A.warp_factor,A.warp_by.get_val(t,i,3)))));return _}for(p=this._mesh.points,f=[],i=r=0,o=p.length;r<o;i=++r)d=p[i],f.push(t.re_2_sc.proj(d.pos.get()));return f}.call(this),r=0,a=(_=this._mesh._elements).length;r<a;r++)"function"==typeof(n=_[r]).draw_nodal_field&&n.draw_nodal_field(t,u,this._data,e.display_style.get(),e._legend);return e._legend.draw(t)}},e.prototype.sub_canvas_items=function(){return null!=this.drawing_parameters?[this.drawing_parameters._legend]:[]},e.prototype.z_index=function(){return 150},e.prototype.get_val=function(t,e){return this._data.get(e)},e.prototype.actualise_value_legend=function(t){var e,A;if(this._data.has_been_modified()||!t.is_correct())return A=this.get_min_data(),t.min_val.set(A),e=this.get_max_data(),t.max_val.set(e)},e.prototype.get_min_data=function(){return this._get_min(this._data.get())},e.prototype.get_max_data=function(){return this._get_max(this._data.get())},e.prototype._update_gl_bufs=function(t,e,A){var n,i,o,r,s,a,l;if(s=e+"_"+(n=t.ctx).ctx_id,null==this._date_bufs[s]&&(this._date_bufs[s]=-1),this._date_bufs[s]<this._data._date_last_modification||this._date_bufs[s]<this._mesh._date_last_modification){for(this._date_bufs[s]=Model._counter,null!=this._data_buffer[s]&&n.deleteBuffer(this._data_buffer[s]),this._data_buffer[s]=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this._data_buffer[s]),r=A._get_indices()._data.length,l=new Float32Array(r),i=o=0,a=r;0<=a?o<a:o>a;i=0<=a?++o:--o)l[i]=this._data._data[A._get_indices().get(i)];return n.bufferData(n.ARRAY_BUFFER,l,n.STATIC_DRAW)}},e.prototype._get_max=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])>n&&(n=o);return n},e.prototype._get_min=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])<n&&(n=o);return n},e}(Model);var H;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;H=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({_data:[]})}return n(e,t),e.prototype.get_drawing_parameters=function(t){if(this._data.length)return this._data[0].field.get_drawing_parameters(t)},e.prototype.get_sub_field=function(t){var e,A,n,i,o;for(n=e=0,A=(i=this._data).length;e<A;n=++e)if((o=i[n]).pos[0].axe_name.equals("time")&&o.pos[0].axe_value.get()>=t.time)return o.field;if(this._data.length)return this._data[this._data.length-1].field},e.prototype.get_val=function(t,e){var A;if(null!=(A=this.get_sub_field(t)))return A.get_val(t,e)},e.prototype.draw=function(t,e,A){var n,i,o;if((null!=e&&null!=(i=e._legend)&&null!=(o=i.auto_fit)?o.get():void 0)&&this.actualise_value_legend_all_fields(e._legend),null!=(n=this.get_sub_field(t)))return n.draw(t,e,A)},e.prototype.sub_canvas_items=function(t){return this._data.length?this._data[0].field.sub_canvas_items(t):[]},e.prototype.z_index=function(){return this._data.length?this._data[0].field.z_index():0},e.prototype.warp_gl_buff=function(t,e,A){return this.get_sub_field(t).warp_gl_buff(t,e,A)},e.prototype.actualise_value_legend_all_fields=function(t){var e,A,n,i,o,r,s,a;for(i=-Infinity,r=Infinity,A=0,n=(a=this._data).length;A<n;A++)o=(e=a[A].field).get_max_data(),(s=e.get_min_data())<r&&(r=s),o>i&&(i=o);return t.min_val.set(r),t.max_val.set(i)},e}(Model);var W;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;W=function(t){function e(t,A){var n,i;e.__super__.constructor.call(this),this.add_attr({name:t,src:""}),this.rgba=new Image,this.rgba.onload=(n=this,function(){return n._signal_change()}),this.src.bind((i=this,function(){if(i.src.length)return i.rgba.src=i.src.get()})),this._date_tex={},this.tex={}}return n(e,g),e.prototype.get_drawing_parameters=function(t){return t.add_attr({drawing_parameters:{_legend:new G("todo")}}),t.drawing_parameters.add_attr({color_map:t.drawing_parameters._legend.color_map})},e.prototype.get_min_data=function(){return 0},e.prototype.get_max_data=function(){return 255},e.prototype.toString=function(){return this.name.get()},e.prototype.draw=function(t){if(this.rgba.height)return S._draw_persp_rec(t,this.rgba,0,0,[0,this.rgba.height,.01],[1,0,0],[0,-1,0],[0,0,1],this._date_tex,this.tex,this.src)},e.prototype.z_index=function(){return 2e4},e}();var K;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;K=function(t){function e(t,A,n){null==t&&(t=""),null==A&&(A=new Lst),null==n&&(n={}),e.__super__.constructor.call(this),this.add_attr({_vector:A}),this._date_pts={},this._pts_buffer={}}return n(e,g),e.prototype.get_drawing_parameters=function(t){if(this._vector.length)return t.add_attr({drawing_parameters:{_legend:new G(t.name)}}),t.drawing_parameters.add_attr({display_style:new Choice(2,["Points","Wireframe","Surface","Surface with Edges","Arrow"]),legend:t.drawing_parameters._legend})},e.prototype.get=function(t,e){return null!=t?null!=e?this._vector[t].get(e):this._vector[t].get():this._vector.get()},e.prototype.get_val=function(t,e,A){var n,i,o,r;for(null==A&&(A=3),r=[],n=i=0,o=A;0<=o?i<o:i>o;n=0<=o?++i:--i)n<this._vector.length?r.push(this._vector[n].get_val(t,e)):r.push(0);return r},e.prototype.dim=function(){return this._vector?this._vector.length:0},e.prototype.field_length=function(t){if(null!=this._vector[0])return this._vector[0].get_sub_field(t)._data.size()},e.prototype.add_child=function(t){return this._vector.push(t)},e.prototype.rem_child=function(t){var e;if((e=this._vector.indexOf(t))>0)return this._vector.splice(e,1)},e.prototype.get_norm_value_at_index=function(t,e){var A;return A=this.get_val(t,e),Math.sqrt(A[0]*A[0]+A[1]*A[1])},e.prototype.actualise_value_legend=function(t,e,A){var n,i,o,r,s,a;if(null==A&&(A=!0),A){for(s=[],n=i=0,a=this.field_length(t);0<=a?i<a:i>a;n=0<=a?++i:--i)s[n]=this.get_norm_value_at_index(t,n);return o=this._get_max(s),r=this._get_min(s),e.min_val.set(r),e.max_val.set(o)}return this._vector[0].actualise_value_legend_all_fields(e)},e.prototype.z_index=function(){return 175},e.prototype.draw=function(t,e,A){var n,i,o,r;if(null!=e)return this.actualise_value_legend(t,e._legend,!0),this.dim()>=2&&(r=0,null!=(null!=A?A.warp_by:void 0)&&(r=A.warp_factor),null!=(null!=(n=(o=this._vector[0].get_sub_field(t))._mesh)?n.points:void 0)&&null!=(null!=(i=o._data)?i._data:void 0)&&this.draw_vectorial_field(t,e.display_style.get(),o._mesh.points,o._data._data,e._legend,r)),e._legend.draw(t)},e.prototype._update_gl_bufs=function(t,e,A){var n,i,o,r,s,a,l;if(s=e+"_"+(n=t.ctx).ctx_id,null==this._date_bufs[s]&&(this._date_bufs[s]=-1),this._date_bufs[s]<this._data._date_last_modification||this._date_bufs[s]<this._mesh._date_last_modification){for(this._date_bufs[s]=Model._counter,null!=this._data_buffer[s]&&n.deleteBuffer(this._data_buffer[s]),this._data_buffer[s]=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this._data_buffer[s]),r=A._get_indices()._data.length,l=new Float32Array(r),i=o=0,a=r;0<=a?o<a:o>a;i=0<=a?++o:--o)l[i]=this._data._data[A._get_indices().get(i)];return n.bufferData(n.ARRAY_BUFFER,l,n.STATIC_DRAW)}},e.prototype.draw_vectorial_field=function(t,e,A,n,i,o,r){var s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I;if(null==o&&(o=1),null==r&&(r=!0),"Arrow"===e){for(d="white",l=.3,c=.1,I=[],f=m=0,g=A.length;m<g;f=++m){for(C=A[f],p=new Lst,_=w=0,v=(R=this._vector).length;w<v;_=++w)u=R[_].get_sub_field(t)._data._data,p.push(u[f]*o);if(2===p.length&&p.push(0),k=t.re_2_sc.proj(C.pos.get()),S=t.re_2_sc.proj(h.add(C.pos.get(),p.get())),N=[k[1]-S[1],S[0]-k[0]],s=[(1-l)*S[0]+l*k[0]+c*N[0],(1-l)*S[1]+l*k[1]+c*N[1]],a=[(1-l)*S[0]+l*k[0]-c*N[0],(1-l)*S[1]+l*k[1]-c*N[1]],x=i.max_val.get(),b=i.min_val.get(),r){for(E=[],_=B=0,y=n.length;B<y;_=++B)n[_],E[_]=this.get_norm_value_at_index(t,_);P=(x-E[f])/(x-b)}else P=(x-n[f])/(x-b);d=i.color_map.get_color_from_pos(P),I.push(this._draw_arrow_colored(t,k,S,s,a,d))}return I}},e.prototype.warp_gl_buff=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u;if(o=t.ctx,null==this._date_pts[A]&&(this._date_pts[A]=-1),this._date_pts[A]<this._vector._date_last_modification){for(this._date_pts[A]=this._vector._date_last_modification,i=3,n=-1,h=new Float32Array(e._get_indices().size(0)*i*e._get_indices().size(1)),r=s=0,d=e._get_indices().size(1);0<=d?s<d:s>d;r=0<=d?++s:--s)for(c=a=0,u=e._get_indices().size(0);0<=u?a<u:a>u;c=0<=u?++a:--a)l=e._get_indices().get([c,r]),h[n+=1]=null!=this._vector[0]?this._vector[0].get_sub_field(t).get_val(t,l):0,h[n+=1]=null!=this._vector[1]?this._vector[1].get_sub_field(t).get_val(t,l):0,h[n+=1]=null!=this._vector[2]?this._vector[2].get_sub_field(t).get_val(t,l):0;null!=this._pts_buffer[A]&&o.deleteBuffer(this._pts_buffer[A]),this._pts_buffer[A]=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._pts_buffer[A]),o.bufferData(o.ARRAY_BUFFER,h,o.STATIC_DRAW)}return this._pts_buffer[A]},e.prototype._draw_arrow_colored=function(t,e,A,n,i,o){return t.ctx.beginPath(),t.ctx.lineWidth=1,t.ctx.strokeStyle="rgba( "+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+" ) ",t.ctx.moveTo(e[0],e[1]),t.ctx.lineTo(A[0],A[1]),t.ctx.stroke(),t.ctx.fillStyle="rgba( "+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+" ) ",t.ctx.lineWidth=.8,t.ctx.moveTo(A[0],A[1]),t.ctx.lineTo(n[0],n[1]),t.ctx.lineTo(i[0],i[1]),t.ctx.lineTo(A[0],A[1]),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath()},e.prototype._get_max=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])>n&&(n=o);return n},e.prototype._get_min=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])<n&&(n=o);return n},e}();var j;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;j=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({color_by:new Choice,warp_by:new Choice,warp_factor:0})}return n(e,g),e.prototype.update_min_max=function(t,e){var A,n,i,o,r,s;return null!=(A=this.color_by.lst[0])&&null!=(n=A.data._mesh)&&n.update_min_max(t,e),null!=(i=this.color_by.lst[0])&&null!=(o=i.data._data[0])&&null!=(r=o.field)&&null!=(s=r._mesh)?s.update_min_max(t,e):void 0},e.prototype.get_model_editor_parameters=function(t){return t.model_editor.color_by=Oe},e.prototype.draw=function(t){var e;if(null!=(e=this.color_by.item()))return e.draw(t,{warp_by:null!=this.warp_by.item()?this.warp_by.item().data:void 0,warp_factor:this.warp_factor.get()})},e.prototype.sub_canvas_items=function(t){var e;return null!=(e=this.color_by.item())?e.sub_canvas_items(t):[]},e.prototype.z_index=function(){return 150},e}();var J;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;J=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({_mesh:t,_data:new TypedArray_Float64(null!=t?t.nb_elements():void 0)}),this._date_bufs={},this._data_buffer={}}return n(e,t),e.prototype.get_drawing_parameters=function(t){return t.add_attr({drawing_parameters:{_legend:new G(t.name)}}),t.drawing_parameters.add_attr({display_style:new Choice(1,["Wireframe","Surface","Surface with Edges"]),legend:t.drawing_parameters._legend})},e.prototype.get_sub_field=function(t){return this},e.prototype.update_min_max=function(t,e){return this._mesh.update_min_max(t,e)},e.prototype.toString=function(){return this.name.get()},e.prototype.get=function(){return this._data.get()},e.prototype.sub_canvas_items=function(){return null!=this.drawing_parameters?[this.drawing_parameters._legend]:[]},e.prototype.z_index=function(){return 140},e.prototype.get_val=function(t,e){return this._data.get(e)},e.prototype.draw=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f,m;if(null!=e){if(this.actualise_value_legend(e._legend),"gl"===t.ctx_type)for(c=-1,d=0,o=0,r=(_=this._mesh._elements).length;o<r;o++)null!=(n=_[o]).indices._data&&(this._update_gl_bufs(t,c+=1,n,d),l=c+"_"+t.ctx.ctx_id,m=null!=(null!=A?A.warp_by:void 0)&&(null!=A?A.warp_factor:void 0)?A.warp_by:void 0,"function"==typeof n.draw_nodal_field_gl&&n.draw_nodal_field_gl(t,this._mesh,this._mesh.points,this._data_buffer[l],e.display_style.get(),e._legend,m,A.warp_factor,l),d+=n.indices.size(1));else for(p=function(){var e,n,o,r,s,a,l,c,d,p,_,f;if(null!=(null!=A?A.warp_by:void 0)&&this._mesh.points.length===(null!=(s=A.warp_by._vector[0])&&null!=(a=s._data[0])&&null!=(l=a.field)&&null!=(c=l._data.size())?c[0]:void 0)){for(d=this._mesh.points,_=[],i=o=0,e=d.length;o<e;i=++o)u=d[i],_.push(t.re_2_sc.proj(h.add(u.pos.get(),h.mus(A.warp_factor,A.warp_by.get_val(t,i,3)))));return _}for(p=this._mesh.points,f=[],i=r=0,n=p.length;r<n;i=++r)u=p[i],f.push(t.re_2_sc.proj(u.pos.get()));return f}.call(this),a=0,s=(f=this._mesh._elements).length;a<s;a++)"function"==typeof(n=f[a]).draw_elementary_triangle&&n.draw_elementary_triangle(t,p,this._data,e.display_style.get(),e._legend);return e._legend.draw(t)}},e.prototype.actualise_value_legend=function(t){var e,A;if(this._data.has_been_modified()||!t.is_correct())return A=this.get_min_data(),t.min_val.set(A),e=this.get_max_data(),t.max_val.set(e)},e.prototype.get_min_data=function(){return this._get_min(this._data.get())},e.prototype.get_max_data=function(){return this._get_max(this._data.get())},e.prototype._update_gl_bufs=function(t,e,A,n){var i,o,r,s,a,l,c,h,d,u;if(c=e+"_"+(o=t.ctx).ctx_id,null==this._date_bufs[c]&&(this._date_bufs[c]=-1),this._date_bufs[c]<this._data._date_last_modification||this._date_bufs[c]<this._mesh._date_last_modification){for(this._date_bufs[c]=Model._counter,null!=this._data_buffer[c]&&o.deleteBuffer(this._data_buffer[c]),this._data_buffer[c]=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._data_buffer[c]),i=-1,l=A.indices._data.length,u=new Float32Array(l),r=s=0,h=A.indices.size(1);0<=h?s<h:s>h;r=0<=h?++s:--s)for(a=0,d=A.indices.size(0);0<=d?a<d:a>d;0<=d?++a:--a)u[i+=1]=this._data._data[r+n];return o.bufferData(o.ARRAY_BUFFER,u,o.STATIC_DRAW)}},e.prototype._get_max=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])>n&&(n=o);return n},e.prototype._get_min=function(t){var e,A,n,i,o;for(t.length>0&&(n=t[0]),e=A=1,i=t.length;1<=i?A<i:A>i;e=1<=i?++A:--A)(o=t[e])<n&&(n=o);return n},e}(Model);var q;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;q=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.call(this,t),this.cut_with_point_callback=[]}return n(e,w),e.prototype.draw_gl=function(t,e,A,n,i){var o,r,s;return null==i&&(i=t.theme.lines),s=function(){var e,n,i;for(i=[],o=e=0,n=A.length;e<n;o=++e)r=A[o],i.push(t.re_2_sc.proj(r.pos.get()));return i}(),this.draw(t,e,s,n)},e.prototype.draw=function(t,e,A,n,i){var o,r,s,a,l;if(null==i&&(i=t.theme.lines),l="Wireframe"===(s=e.visualization.display_style.get())||"Surface with Edges"===s,i=e._theme.lines,l||!n){if(i.beg_ctx(t),this.indices.length)for(o=r=0,a=this.indices.length-1;0<=a?r<a:r>a;o=0<=a?++r:--r)i.draw_straight_proj(t,A[this.indices[o].get()],A[this.indices[o+1].get()]);return i.end_ctx(t)}},e.prototype.contour=function(t,e,A,n,i){var o,r,s,a,l,c,h;if(this.indices.length>=2){if(i){for(c=[],o=r=a=this.indices.length-2;a<=0?r<=0:r>=0;o=a<=0?++r:--r)c.push(e._theme.lines.contour_straight_proj(t,A[this.indices[o+1].get()],A[this.indices[o].get()],n&&0===o));return c}for(h=[],o=s=0,l=this.indices.length-1;0<=l?s<l:s>l;o=0<=l?++s:--s)h.push(e._theme.lines.contour_straight_proj(t,A[this.indices[o].get()],A[this.indices[o+1].get()],n&&0===o));return h}},e.prototype.closest_point_closer_than=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b;if(this.indices.length){for(b=[],p=_=0,x=this.indices.length-1;0<=x?_<x:_>x;p=0<=x?++_:--_)m=this.indices[p+0].get(),g=this.indices[p+1].get(),s=A[m],a=A[g],s[0]!==a[0]||s[1]!==a[1]?(h=a[0]-s[0],d=a[1]-s[1],u=a[2]-s[2],l=(v=i[0]-s[0])*h+(y=i[1]-s[1])*d,(f=h*h+d*d)&&l>=0&&l<=f?(w=l/f,v=s[0]+h*w,y=s[1]+d*w,s[2]+u*w,c=Math.sqrt(Math.pow(v-i[0],2)+Math.pow(y-i[1],2)),t.dist>=c?(o=e.points[m].pos.get(),r=e.points[g].pos.get(),t.dist=c,t.inst=this,t.indi=p,t.curv=w,b.push(t.disp=[o[0]*(1-w)+r[0]*w,o[1]*(1-w)+r[1]*w,o[2]*(1-w)+r[2]*w])):b.push(void 0)):b.push(void 0)):b.push(void 0);return b}},e.prototype.cut_with_point=function(t,A,n,i,o){var r,s,a,l,c;if(A.inst===this){for(null==t[this.model_id]&&(t[this.model_id]=[new e([this.indices[0].get(),i]),new e([i,this.indices[1].get()])]),c=[],s=0,a=(l=this.cut_with_point_callback).length;s<a;s++)r=l[s],c.push(r(n,this.indices,i));return c}},e}();var Z;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Z=function(t){function e(t){e.__super__.constructor.call(this,t)}return n(e,w),e.prototype.draw_gl=function(t,e,A,n,i){return null==i&&(i=t.theme.lines),this.draw(t,e,A,n,i)},e.prototype.draw=function(t,e,A,n,i){var o,r,s;if(null==i&&(i=t.theme.lines),"Wireframe"===(s=e.visualization.display_style.get())||"Surface with Edges"===s||!n)return i.beg_ctx(t),r=function(){var t,A,n,i;for(i=[],t=0,A=(n=this.indices).length;t<A;t++)o=n[t],i.push(e.points[o.get()].pos.get());return i}.call(this),t.theme.lines.draw_interpolated_arcs(t,r),i.end_ctx(t)},e.prototype.contour=function(t,e,A,n,i){var o,r;return r=function(){var t,A,n,r,s,a,l;if(i){for(a=[],o=t=r=this.indices.length-1;r<=0?t<=0:t>=0;o=r<=0?++t:--t)a.push(e.points[this.indices[o].get()].pos.get());return a}for(l=[],A=0,n=(s=this.indices).length;A<n;A++)o=s[A],l.push(e.points[o.get()].pos.get());return l}.call(this),t.theme.lines.contour_interpolated_arcs(t,r,n)},e.prototype.closest_point_closer_than=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b;if(this.indices.length){for(b=[],p=_=0,x=this.indices.length-1;0<=x?_<x:_>x;p=0<=x?++_:--_)m=this.indices[p+0].get(),g=this.indices[p+1].get(),s=A[m],a=A[g],s[0]!==a[0]||s[1]!==a[1]?(h=a[0]-s[0],d=a[1]-s[1],u=a[2]-s[2],l=(v=i[0]-s[0])*h+(y=i[1]-s[1])*d,(f=h*h+d*d)&&l>=0&&l<=f?(w=l/f,v=s[0]+h*w,y=s[1]+d*w,s[2]+u*w,c=Math.sqrt(Math.pow(v-i[0],2)+Math.pow(y-i[1],2)),t.dist>=c?(o=e.points[m].pos.get(),r=e.points[g].pos.get(),t.dist=c,t.inst=this,t.indi=p,t.curv=w,b.push(t.disp=[o[0]*(1-w)+r[0]*w,o[1]*(1-w)+r[1]*w,o[2]*(1-w)+r[2]*w])):b.push(void 0)):b.push(void 0)):b.push(void 0);return b}},e}();var tt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;tt=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({indices:new TypedArray_Int32([3,0])}),this._date_pts={},this._pts_buffer={},this._nor_buffer={},this._lns_buffer={}}return n(e,v),e.prototype.draw_gl=function(t,e,A,n){var i,o,r,s,a,l,c,h,d,u,p;if(this._get_indices()&&e.get_point(0)&&(this._update_bufs(t,e,A),r=t.ctx,"Points"!==(h=e.visualization.display_style.get())&&"Wireframe"!==h&&"Surface"!==h&&"Surface with Edges"!==h||(p="precision mediump float;\n attribute vec3 pos;\n attribute vec3 nor;\n varying vec3 norin;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",o="precision mediump float;\n uniform vec4 col;\n varying vec3 norin;\n void main( void ) {\n float g = abs( norin[ 2 ] );\n gl_FragColor = vec4( g * col[ 0 ], g * col[ 1 ], g * col[ 2 ], col[ 3 ] );\n }\n",c=t.cm.gl_prog(p,o),r.useProgram(c),l=r.getAttribLocation(c,"pos"),r.enableVertexAttribArray(l),r.bindBuffer(r.ARRAY_BUFFER,this._pts_buffer[r.ctx_id]),r.vertexAttribPointer(l,3,r.FLOAT,!1,0,0),a=r.getAttribLocation(c,"nor"),r.enableVertexAttribArray(a),r.bindBuffer(r.ARRAY_BUFFER,this._nor_buffer[r.ctx_id]),r.vertexAttribPointer(a,3,r.FLOAT,!1,0,0),i=r.getUniformLocation(c,"col"),s=e._theme.surfaces.color,this.line_color=e._theme.lines.color,r.uniform4f(i,s.r.get()/255,s.g.get()/255,s.b.get()/255,s.a.get()/255),t.cam.gl_exec(t,"cam",c),t.cam.gl_exec_vec(t,"can",c),"Surface"!==(d=e.visualization.display_style.get())&&"Surface with Edges"!==d||r.drawArrays(r.TRIANGLES,0,3*this.indices.size(1))),"Wireframe"!==(u=e.visualization.display_style.get())&&"Surface with Edges"!==u||this._draw_lines(t),"Points"===e.visualization.display_style.get()))return this._draw_points(t)},e.prototype.draw=function(t,e,A,n){var i,o,r,s,a,l,c,h,d,u,p;if(this._get_indices()){if("Surface"===(d=e.visualization.display_style.get())||"Surface with Edges"===d){for((l=function(){var t,e,n;for(n=[],i=t=0,e=this.indices.size(1);0<=e?t<e:t>e;i=0<=e?++t:--t)n.push([A[this.indices.get([0,i])],A[this.indices.get([1,i])],A[this.indices.get([2,i])]]);return n}.call(this)).sort(function(t,e){return e[0][2]+e[1][2]+e[2][2]-(t[0][2]+t[1][2]+t[2][2])}),t.theme.surfaces.beg_ctx(t),r=0,a=l.length;r<a;r++)h=l[r],t.theme.surfaces.draw(t,function(){return t.ctx.moveTo(h[0][0],h[0][1]),t.ctx.lineTo(h[1][0],h[1][1]),t.ctx.lineTo(h[2][0],h[2][1]),t.ctx.lineTo(h[0][0],h[0][1])});t.theme.surfaces.end_ctx(t)}if("Wireframe"===(u=e.visualization.display_style.get())||"Surface with Edges"===u){for(t.theme.lines.beg_ctx(t),i=s=0,p=this.indices.size(1);0<=p?s<p:s>p;i=0<=p?++s:--s)c=function(){var t,e;for(e=[],o=t=0;t<3;o=++t)e.push(A[this.indices.get([o,i])]);return e}.call(this),t.theme.lines.draw_straight_proj(t,c[0],c[1]),t.theme.lines.draw_straight_proj(t,c[1],c[2]),t.theme.lines.draw_straight_proj(t,c[2],c[0]);return t.theme.lines.end_ctx(t)}}},e.prototype.draw_nodal_field_gl=function(t,e,A,n,i,o,r,s,a){var l,c,h,d,u,p,_,f,m,g;if(null==s&&(s=1),this._get_indices()&&(g=null!=r?r.warp_gl_buff(t,this,a):void 0,this._update_bufs(t,e,A),h=t.ctx,"Surface"!==i&&"Surface with Edges"!==i||(f="precision mediump float;\n varying float y;\n varying vec3 norin;\n uniform float mit;\n uniform float mat;\n uniform float waf;\n attribute vec3 pos;\n attribute vec3 nor;\n attribute vec3 wab;\n attribute float tex;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n y = ( tex - mit ) / ( mat - mit );\n gl_Position = vec4( pos + waf * wab, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",c=o.color_map.get_fragment_shader("y","col","norin"),p=t.cm.gl_prog(f,c),h.useProgram(p),u=h.getAttribLocation(p,"pos"),h.enableVertexAttribArray(u),h.bindBuffer(h.ARRAY_BUFFER,this._pts_buffer[h.ctx_id]),h.vertexAttribPointer(u,3,h.FLOAT,!1,0,0),d=h.getAttribLocation(p,"nor"),h.enableVertexAttribArray(d),h.bindBuffer(h.ARRAY_BUFFER,this._nor_buffer[h.ctx_id]),h.vertexAttribPointer(d,3,h.FLOAT,!1,0,0),m=h.getAttribLocation(p,"wab"),h.enableVertexAttribArray(m),null!=g?h.bindBuffer(h.ARRAY_BUFFER,g):h.bindBuffer(h.ARRAY_BUFFER,this._nor_buffer[h.ctx_id]),h.vertexAttribPointer(m,3,h.FLOAT,!1,0,0),(_=h.getAttribLocation(p,"tex"))>=0&&(h.enableVertexAttribArray(_),h.bindBuffer(h.ARRAY_BUFFER,n),h.vertexAttribPointer(_,1,h.FLOAT,!1,0,0)),l=h.getUniformLocation(p,"col"),h.uniform4f(l,.7,.7,.7,1),h.uniform1f(h.getUniformLocation(p,"mit"),o._min_val.get()),h.uniform1f(h.getUniformLocation(p,"mat"),o._max_val.get()),h.uniform1f(h.getUniformLocation(p,"waf"),s),t.cam.gl_exec(t,"cam",p),t.cam.gl_exec_vec(t,"can",p),h.drawArrays(h.TRIANGLES,0,3*this.indices.size(1)),h.disableVertexAttribArray(u),h.disableVertexAttribArray(d),h.disableVertexAttribArray(m),h.disableVertexAttribArray(_)),"Wireframe"===i||"Surface with Edges"===i))return this._draw_lines(t)},e.prototype.draw_vectorial_field_gl=function(t,e,A,n,i,o,r,s,a){var l,c,h,d,u,p,_,f,m,g,v,y,w,x,b;if(null==s&&(s=1),this._get_indices()){if(b=null!=r?r.warp_gl_buff(t,this,a):void 0,d=t.ctx,null==this._date_pts[d.ctx_id]&&(this._date_pts[d.ctx_id]=-1),this._date_pts[d.ctx_id]<e._date_last_modification){for(this._date_pts[d.ctx_id]=e._date_last_modification,c=-1,g=new Float32Array(2*3*A.length),u=p=0,v=A.length;0<=v?p<v:p>v;u=0<=v?++p:--p)g[c+=1]=A[u].pos[0].get(),g[c+=1]=A[u].pos[1].get(),g[c+=1]=A[u].pos[2].get(),g[c+=1]=A[u].pos[0].get(),g[c+=1]=A[u].pos[1].get(),g[c+=1]=A[u].pos[2].get();null!=this._pts_buffer[d.ctx_id]&&(d.deleteBuffer(this._pts_buffer[d.ctx_id]),d.deleteBuffer(this._nor_buffer[d.ctx_id]),d.deleteBuffer(this._lns_buffer[d.ctx_id])),this._pts_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._pts_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,g,d.STATIC_DRAW),this._nor_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,_,d.STATIC_DRAW),this._lns_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._lns_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,lns,d.STATIC_DRAW)}if("Surface"!==i&&"Surface with Edges"!==i||(w="precision mediump float;\n varying float y;\n varying vec3 norin;\n uniform float mit;\n uniform float mat;\n uniform float waf;\n attribute vec3 pos;\n attribute vec3 nor;\n attribute vec3 wab;\n attribute float tex;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n y = ( tex - mit ) / ( mat - mit );\n gl_Position = vec4( pos + waf * wab, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",h=o.color_map.get_fragment_shader("y","col","norin"),m=t.cm.gl_prog(w,h),d.useProgram(m),f=d.getAttribLocation(m,"pos"),d.enableVertexAttribArray(f),d.bindBuffer(d.ARRAY_BUFFER,this._pts_buffer[d.ctx_id]),d.vertexAttribPointer(f,3,d.FLOAT,!1,0,0),_=d.getAttribLocation(m,"nor"),d.enableVertexAttribArray(_),d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.vertexAttribPointer(_,3,d.FLOAT,!1,0,0),x=d.getAttribLocation(m,"wab"),d.enableVertexAttribArray(x),null!=b?d.bindBuffer(d.ARRAY_BUFFER,b):d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.vertexAttribPointer(x,3,d.FLOAT,!1,0,0),(y=d.getAttribLocation(m,"tex"))>=0&&(d.enableVertexAttribArray(y),d.bindBuffer(d.ARRAY_BUFFER,n),d.vertexAttribPointer(y,1,d.FLOAT,!1,0,0)),l=d.getUniformLocation(m,"col"),d.uniform4f(l,.7,.7,.7,1),d.uniform1f(d.getUniformLocation(m,"mit"),o._min_val.get()),d.uniform1f(d.getUniformLocation(m,"mat"),o._max_val.get()),d.uniform1f(d.getUniformLocation(m,"waf"),s),t.cam.gl_exec(t,"cam",m),t.cam.gl_exec_vec(t,"can",m),d.drawArrays(d.TRIANGLES,0,3*this.indices.size(1)),d.disableVertexAttribArray(f),d.disableVertexAttribArray(_),d.disableVertexAttribArray(x),d.disableVertexAttribArray(y)),"Wireframe"===i||"Surface with Edges"===i)return this._draw_lines(t)}},e.prototype.draw_nodal_field=function(t,e,A,n,i){var o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U;if(this._get_indices()){for(c=1/((c=(x=i.max_val.get())-i.min_val.get())+(0===c)),(u=function(){var t,e,A;for(A=[],b=t=0,e=this.indices.size(1);0<=e?t<e:t>e;b=0<=e?++t:--t)A.push([this.indices.get([0,b]),this.indices.get([1,b]),this.indices.get([2,b])]);return A}.call(this)).sort(function(t,A){return e[A[0]][2]+e[A[1]][2]+e[A[2]][2]-(e[t[0]][2]+e[t[1]][2]+e[t[2]][2])}),k=[],p=0,f=u.length;p<f;p++){for(S=u[p],I=[A.get(S[0]),A.get(S[1]),A.get(S[2])],d=_=0,m=I.length;_<m;d=++_)R=I[d],I[d]=(x-R)*c;w=[[1,F=(P=function(){var t,A;for(A=[],d=t=0;t<3;d=++t)A.push(e[S[d]]);return A}())[0][0],L=P[0][1]],[1,M=P[1][0],D=P[1][1]],[1,z=P[2][0],U=P[2][1]]],l=h.determinant(w),l+=0===l,g=[[I[0],F,L],[I[1],M,D],[I[2],z,U]],o=h.determinant(g)/l,v=[[1,I[0],L],[1,I[1],D],[1,I[2],U]],s=h.determinant(v)/l,y=[[1,F,I[0]],[1,M,I[1]],[1,z,I[2]]],a=h.determinant(y)/l,s||a?Math.abs(s)>Math.abs(a)?(B=-o/s,N=0):(B=0,N=-o/a):(B=0,N=0),E=[B,N,0],r=1/function(t){return t+(Math.abs(t)<1e-16)}(s*s+a*a),C=h.add(E,h.mus(r,[s,a,0])),"Surface"!==n&&"Surface with Edges"!==n||this._draw_gradient_fill_triangle(t,E,C,P,i),"Surface with Edges"!==n&&"Edges"!==n||this._draw_edge_triangle(t,P),"Wireframe"===n?k.push(this._draw_gradient_stroke_triangle(t,E,C,P,i)):k.push(void 0)}return k}},e.prototype._draw_lines=function(t){var e,A,n,i,o,r;return r="precision mediump float;\n attribute vec3 pos;\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main(t,"cam")+"\n gl_Position -= 1e-5;\n }\n",A="precision mediump float;\n uniform vec4 col;\n void main( void ) {\n gl_FragColor = col;\n }\n",o=t.cm.gl_prog(r,A),(n=t.ctx).useProgram(o),i=n.getAttribLocation(o,"pos"),n.enableVertexAttribArray(i),n.bindBuffer(n.ARRAY_BUFFER,this._lns_buffer[n.ctx_id]),n.vertexAttribPointer(i,3,n.FLOAT,!1,0,0),e=n.getUniformLocation(o,"col"),null!=this.line_color?n.uniform4f(e,this.line_color.r.get()/255,this.line_color.g.get()/255,this.line_color.b.get()/255,this.line_color.a.get()/255):n.uniform4f(e,1,1,1,1),t.cam.gl_exec(t,"cam",o),n.lineWidth(2),n.drawArrays(n.LINES,0,6*this.indices.size(1))},e.prototype._draw_points=function(t){var e,A,n,i,o,r;return r="precision mediump float;\n attribute vec3 pos;\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main(t,"cam")+"\n gl_Position -= 1e-5;\n }\n",A="precision mediump float;\n uniform vec4 col;\n void main( void ) {\n gl_FragColor = col;\n }\n",o=t.cm.gl_prog(r,A),(n=t.ctx).useProgram(o),i=n.getAttribLocation(o,"pos"),n.enableVertexAttribArray(i),n.bindBuffer(n.ARRAY_BUFFER,this._lns_buffer[0]),n.vertexAttribPointer(i,3,n.FLOAT,!1,0,0),e=n.getUniformLocation(o,"col"),n.uniform4f(e,1,1,1,1),t.cam.gl_exec(t,"cam",o),n.lineWidth(2),n.drawArrays(n.POINTS,0,6*this.indices.size(1))},e.prototype._update_bufs=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,Q,T,O,G,V;if(this._get_indices()&&(s=t.ctx,null==this._date_pts[s.ctx_id]&&(this._date_pts[s.ctx_id]=-1),this._date_pts[s.ctx_id]<e._date_last_modification)){for(this._date_pts[s.ctx_id]=e._date_last_modification,r=3,o=-1,i=-1,n=-1,F=new Float32Array(3*r*this.indices.size(1)),P=new Float32Array(3*r*this.indices.size(1)),E=new Float32Array(6*r*this.indices.size(1)),a=l=0,L=this.indices.size(1);0<=L?l<L:l>L;a=0<=L?++l:--l)if(S=e.get_point(this.indices.get([0,a])),R=e.get_point(this.indices.get([1,a])),I=e.get_point(this.indices.get([2,a])),S&&R&&I){for(C=h.nor(h.cro(h.sub(R,S),h.sub(I,S))),c=0,d=S.length;c<d;c++)T=S[c],F[o+=1]=T;for(B=0,u=R.length;B<u;B++)T=R[B],F[o+=1]=T;for(N=0,f=I.length;N<f;N++)T=I[N],F[o+=1]=T;for(k=0,m=C.length;k<m;k++)T=C[k],P[i+=1]=T;for(M=0,g=C.length;M<g;M++)T=C[M],P[i+=1]=T;for(z=0,v=C.length;z<v;z++)T=C[z],P[i+=1]=T;for(D=0,y=S.length;D<y;D++)T=S[D],E[n+=1]=T;for(U=0,w=R.length;U<w;U++)T=R[U],E[n+=1]=T;for(Q=0,x=R.length;Q<x;Q++)T=R[Q],E[n+=1]=T;for(O=0,b=I.length;O<b;O++)T=I[O],E[n+=1]=T;for(G=0,p=I.length;G<p;G++)T=I[G],E[n+=1]=T;for(V=0,_=S.length;V<_;V++)T=S[V],E[n+=1]=T}return null!=this._pts_buffer[s.ctx_id]&&(s.deleteBuffer(this._pts_buffer[s.ctx_id]),s.deleteBuffer(this._nor_buffer[s.ctx_id]),s.deleteBuffer(this._lns_buffer[s.ctx_id])),this._pts_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._pts_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,F,s.STATIC_DRAW),this._nor_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._nor_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,P,s.STATIC_DRAW),this._lns_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._lns_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,E,s.STATIC_DRAW)}},e.prototype._draw_gradient_stroke_triangle=function(t,e,A,n,i){var o,r,s,a,l;for(t.ctx.beginPath(),a=t.ctx.createLinearGradient(e[0],e[1],A[0],A[1]),r=0,s=(l=i.color_map.color_stop).length;r<s;r++)o=l[r],a.addColorStop(o.position.get(),o.color.to_rgba());return t.ctx.strokeStyle=a,t.ctx.moveTo(n[0][0],n[0][1]),t.ctx.lineTo(n[1][0],n[1][1]),t.ctx.lineTo(n[2][0],n[2][1]),t.ctx.lineTo(n[0][0],n[0][1]),t.ctx.stroke()},e.prototype._draw_gradient_fill_triangle=function(t,e,A,n,i){var o,r,s,a,l;if(t.ctx.beginPath(),!(isNaN(e[0])||isNaN(e[1])||isNaN(A[0])||isNaN(A[1])||Math.abs(e[0])>1e40||Math.abs(e[1])>1e40||Math.abs(A[0])>1e40||Math.abs(A[1])>1e40)){for(a=t.ctx.createLinearGradient(e[0],e[1],A[0],A[1]),r=0,s=(l=i.color_map.color_stop).length;r<s;r++)o=l[r],a.addColorStop(o.position.get(),o.color.to_rgba());return t.ctx.strokeStyle=a,t.ctx.fillStyle=a,t.ctx.moveTo(n[0][0],n[0][1]),t.ctx.lineTo(n[1][0],n[1][1]),t.ctx.lineTo(n[2][0],n[2][1]),t.ctx.lineTo(n[0][0],n[0][1]),t.ctx.fill(),t.ctx.stroke()}},e.prototype.draw_elementary_triangle=function(t,e,A,n,i){var o,r,s,a,l,c,d,u,_,f,m,g,v,y,w,x,b,E,B,N;for(s=1/((s=(d=i.max_val.get())-(u=i.min_val.get()))+(0===s)),b=[],f=c=0,x=this.indices.size(1);0<=x?c<x:c>x;f=0<=x?++c:--c)E=[this.indices.get([0,f]),this.indices.get([1,f]),this.indices.get([2,f])],B=A.get(f),w=function(){var t,A;for(A=[],l=t=0;t<3;l=++t)A.push(e[E[l]]);return A}(),y=(d-B)/(d-u),r=i.color_map.get_color_from_pos(y),"2d"===t.ctx_type?("Wireframe"===n&&this._draw_elementary_stroke_triangle(t,w,r),"Surface"!==n&&"Surface with Edges"!==n||this._draw_elementary_fill_triangle(t,w,r),"Surface with Edges"===n||"Edges"===n?b.push(this._draw_edge_triangle(t,w)):b.push(void 0)):(null==this._sf&&(this._sf=new p),m=function(){var t,e,A,n;for(n=[],t=0,e=(A=w[0]).length;t<e;t++)N=A[t],n.push(N);return n}(),g=function(){var t,e,A,n;for(n=[],t=0,e=(A=w[1]).length;t<e;t++)N=A[t],n.push(N);return n}(),v=function(){var t,e,A,n;for(n=[],t=0,e=(A=w[2]).length;t<e;t++)N=A[t],n.push(N);return n}(),m[2]*=Math.max(t.w,t.h),g[2]*=Math.max(t.w,t.h),v[2]*=Math.max(t.w,t.h),_=h.nor(h.cro(h.sub(g,m),h.sub(v,m))),a=.5+.4*Math.abs(_[2]),b.push(this._sf.draw_triangle(t,w[0],w[1],w[2],function(){var t,e,A;for(A=[],t=0,e=r.length;t<e;t++)o=r[t],A.push(a*o/255);return A}())));return b},e.prototype._draw_elementary_stroke_triangle=function(t,e,A){return t.ctx.beginPath(),t.ctx.strokeStyle="rgba( "+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+" ) ",t.ctx.moveTo(e[0][0],e[0][1]),t.ctx.lineTo(e[1][0],e[1][1]),t.ctx.lineTo(e[2][0],e[2][1]),t.ctx.lineTo(e[0][0],e[0][1]),t.ctx.stroke(),t.ctx.closePath()},e.prototype._draw_elementary_fill_triangle=function(t,e,A){return t.ctx.beginPath(),t.ctx.fillStyle="rgba( "+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+" ) ",t.ctx.strokeStyle="rgba( "+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+" ) ",t.ctx.moveTo(e[0][0],e[0][1]),t.ctx.lineTo(e[1][0],e[1][1]),t.ctx.lineTo(e[2][0],e[2][1]),t.ctx.lineTo(e[0][0],e[0][1]),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath()},e.prototype._draw_edge_triangle=function(t,e){return t.theme.lines.beg_ctx(t),t.theme.lines.draw_straight_proj(t,e[0],e[1]),t.theme.lines.draw_straight_proj(t,e[1],e[2]),t.theme.lines.draw_straight_proj(t,e[2],e[0]),t.theme.lines.end_ctx(t)},e.prototype._get_indices=function(){return this.indices},e}();var et;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};et=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.call(this),this.add_attr({boundaries:t})}return n(e,v),e.prototype.draw=function(t,e,A,n){var i,o;if("Surface"===(i=e.visualization.display_style.get())||"Surface with Edges"===i)return t.theme.surfaces.beg_ctx(t),t.theme.surfaces.draw(t,(o=this,function(){var n,i,r,s,a,l;for(l=[],s=i=0,r=(a=o.boundaries).length;i<r;s=++i)n=a[s],l.push(n.e.contour(t,e,A,0===s,n.o<0));return l})),t.theme.surfaces.end_ctx(t)},e.prototype.draw_gl=function(t,e,A,n){var i,o,r;return r=function(){var e,n,r;for(r=[],i=e=0,n=A.length;e<n;i=++e)o=A[i],r.push(t.re_2_sc.proj(o.pos.get()));return r}(),this.draw(t,e,r,n)},e.prototype.update_indices=function(t,e){var A,n,i,o,r,s;for(s=[],i=0,o=(r=this.boundaries).length;i<o;i++)A=r[i],s.push("function"==typeof(n=A.e).update_indices?n.update_indices(t,e):void 0);return s},e.prototype.closest_point_closer_than=function(t,e,A,n,i){},e.prototype.cut_with_point=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m,g;for(g=[],u=a=0,c=(_=this.boundaries).length;a<c;u=++a)if("function"==typeof(r=(o=_[u]).e).cut_with_point&&r.cut_with_point(t,e,A,n,i),null!=t[o.e.model_id])if(o.o<0){if((s=t[o.e.model_id]).length)for(p=l=f=s.length-1;f<=0?l<=0:l>=0;p=f<=0?++l:--l)g.push({o:o.o,e:s[p]})}else for(d=0,h=(m=t[o.e.model_id]).length;d<h;d++)p=m[d],g.push({o:o.o,e:p});else g.push(o);return this.boundaries.clear(),this.boundaries.set(g)},e.prototype.add_sub_element=function(t){var e,A,n,i,o,r;for(r=[],A=0,n=(i=this.boundaries).length;A<n;A++)o=(e=i[A]).e,I.call(t,o)<0?r.push(t.push(e.e)):r.push(void 0);return r},e.prototype.rem_sub_element=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;if(null!=this.boundaries){for(c=[],h=[],i=o=0,r=(l=this.boundaries).length;o<r;i=++o)A=l[i],d=[],I.call(A.e.get_point_numbers(),t)>=0?(a=(d=A.e.get_point_numbers()).indexOf(t),2===d.length?(h.push(A.e.indices[1-a]),!1!==(s=this._link_elements(h))&&(c.push(s),h=[])):d.length>=3?(n=A.e.indices.slice(0,a),e=A.e.indices.slice(a+1,A.e.indices.length),0===a?h.push(e[0].get()):a===A.e.indices.length-1&&h.push(n[n.length-1].get()),!1!==(s=this._link_elements(h))&&(c.push(s),h=[]),d.length-1==2?c.push({o:1,e:new q(n.get().concat(e.get()))}):d.length-1>=3&&c.push({o:1,e:new Z(n.get().concat(e.get()))})):c.push(A)):c.push(A);return this.boundaries.clear(),this.boundaries.set(c)}},e.prototype.make_curve_line_from_selected=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v;if(null!=t&&null!=this.boundaries){for(m=[],v=[],n=0,o=(u=this.boundaries).length;n<o;n++)if(e=u[n],I.call(e.e.get_point_numbers(),t)>=0)if(h=e.e.get_point_numbers(),e.o<0){if(h.length)for(i=0,r=(p=h.slice(h.length-1,+(v.length>0)+1||9e9)).length;i<r;i++)c=p[i],v.push(c)}else if(v.length&&v[0]===h[h.length-1]){for(g=[],A=l=0,s=(_=h.slice(0,h.length-1)).length;l<s;A=++l)c=_[A],g.push(c);v=g.concat(v)}else for(d=0,a=(f=h.slice(v.length>0)).length;d<a;d++)c=f[d],v.push(c);else v.length>=3&&(m.push({o:1,e:new Z(v)}),v=[]),m.push(e);return v.length>=3&&(m.push({o:1,e:new Z(v)}),v=[]),this.boundaries.clear(),this.boundaries.set(m)}},e.prototype.break_line_from_selected=function(t){var e,A,n,i,o,r,s,a,l;if(null!=t&&null!=this.boundaries){for(l=[],a=[],n=0,o=(s=this.boundaries).length;n<o;n++)A=s[n],I.call(A.e.get_point_numbers(),t)>=0&&(l=A.e.get_point_numbers()).length>=3?-1!==(r=l.indexOf(t))&&(1===r&&a.push({o:1,e:new q(l.slice(0,r+1))}),r>=2&&a.push({o:1,e:new Z(l.slice(0,r+1))}),1===(e=(i=l.length-1)-r)&&a.push({o:1,e:new q(l.slice(r,i+1))}),e>=2&&a.push({o:1,e:new Z(l.slice(r,i+1))})):a.push(A);return this.boundaries.clear(),this.boundaries.set(a)}},e.prototype._link_elements=function(t){return 2===t.length&&{o:1,e:new q(t)}},e}();var At;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;At=function(t){function e(){var t;e.__super__.constructor.call(this),this.add_attr({indices:new TypedArray_Int32([4,0])}),this._date_pts={},this._pts_buffer={},this._nor_buffer={},this._lns_buffer={},this.bind((t=this,function(){if(t.indices.has_been_modified())return t.indices_tri=t._convert_quad_to_tri(t.indices)}))}return n(e,v),e.prototype._convert_quad_to_tri=function(t){var e,A,n,i,o,r,s,a;for(r=new TypedArray_Int32([3,2*t._size[1]]),e=s=0,a=t._data.length/4-1;0<=a?s<=a:s>=a;e=0<=a?++s:--s)A=t._data[4*e],n=t._data[4*e+1],i=t._data[4*e+2],o=t._data[4*e+3],r._data[6*e]=A,r._data[6*e+1]=n,r._data[6*e+2]=i,r._data[6*e+3]=A,r._data[6*e+4]=i,r._data[6*e+5]=o;return r},e.prototype._get_indices=function(){return this.indices_tri||(this.indices_tri=this._convert_quad_to_tri(this.indices)),this.indices_tri},e.prototype.draw_gl=function(t,e,A,n){var i,o,r,s,a,l,c,h,d,u,p;if(this._get_indices()&&(this._update_bufs(t,e,A),r=t.ctx,"Points"!==(h=e.visualization.display_style.get())&&"Wireframe"!==h&&"Surface"!==h&&"Surface with Edges"!==h||(p="precision mediump float;\n attribute vec3 pos;\n attribute vec3 nor;\n varying vec3 norin;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",o="precision mediump float;\n uniform vec4 col;\n varying vec3 norin;\n void main( void ) {\n float g = abs( norin[ 2 ] );\n gl_FragColor = vec4( g * col[ 0 ], g * col[ 1 ], g * col[ 2 ], col[ 3 ] );\n }\n",c=t.cm.gl_prog(p,o),r.useProgram(c),l=r.getAttribLocation(c,"pos"),r.enableVertexAttribArray(l),r.bindBuffer(r.ARRAY_BUFFER,this._pts_buffer[r.ctx_id]),r.vertexAttribPointer(l,3,r.FLOAT,!1,0,0),a=r.getAttribLocation(c,"nor"),r.enableVertexAttribArray(a),r.bindBuffer(r.ARRAY_BUFFER,this._nor_buffer[r.ctx_id]),r.vertexAttribPointer(a,3,r.FLOAT,!1,0,0),i=r.getUniformLocation(c,"col"),s=e._theme.surfaces.color,this.line_color=e._theme.lines.color,r.uniform4f(i,s.r.get()/255,s.g.get()/255,s.b.get()/255,s.a.get()/255),t.cam.gl_exec(t,"cam",c),t.cam.gl_exec_vec(t,"can",c),"Surface"!==(d=e.visualization.display_style.get())&&"Surface with Edges"!==d||r.drawArrays(r.TRIANGLES,0,3*this._get_indices().size(1))),"Wireframe"!==(u=e.visualization.display_style.get())&&"Surface with Edges"!==u||(this._update_bufs_lines(t,e,A),r=t.ctx,this._draw_lines(t)),"Points"===e.visualization.display_style.get()))return this._draw_points(t)},e.prototype.draw_nodal_field_gl=function(t,e,A,n,i,o,r,s,a){var l,c,h,d,u,p,_,f,m,g;if(null==s&&(s=1),this._get_indices()&&(g=null!=r?r.warp_gl_buff(t,this,a):void 0,this._update_bufs(t,e,A),h=t.ctx,"Surface"!==i&&"Surface with Edges"!==i||(f="precision mediump float;\n varying float y;\n varying vec3 norin;\n uniform float mit;\n uniform float mat;\n uniform float waf;\n attribute vec3 pos;\n attribute vec3 nor;\n attribute vec3 wab;\n attribute float tex;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n y = ( tex - mit ) / ( mat - mit );\n gl_Position = vec4( pos + waf * wab, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",c=o.color_map.get_fragment_shader("y","col","norin"),p=t.cm.gl_prog(f,c),h.useProgram(p),u=h.getAttribLocation(p,"pos"),h.enableVertexAttribArray(u),h.bindBuffer(h.ARRAY_BUFFER,this._pts_buffer[h.ctx_id]),h.vertexAttribPointer(u,3,h.FLOAT,!1,0,0),d=h.getAttribLocation(p,"nor"),h.enableVertexAttribArray(d),h.bindBuffer(h.ARRAY_BUFFER,this._nor_buffer[h.ctx_id]),h.vertexAttribPointer(d,3,h.FLOAT,!1,0,0),m=h.getAttribLocation(p,"wab"),h.enableVertexAttribArray(m),null!=g?h.bindBuffer(h.ARRAY_BUFFER,g):h.bindBuffer(h.ARRAY_BUFFER,this._nor_buffer[h.ctx_id]),h.vertexAttribPointer(m,3,h.FLOAT,!1,0,0),(_=h.getAttribLocation(p,"tex"))>=0&&(h.enableVertexAttribArray(_),h.bindBuffer(h.ARRAY_BUFFER,n),h.vertexAttribPointer(_,1,h.FLOAT,!1,0,0)),l=h.getUniformLocation(p,"col"),h.uniform4f(l,.7,.7,.7,1),h.uniform1f(h.getUniformLocation(p,"mit"),o._min_val.get()),h.uniform1f(h.getUniformLocation(p,"mat"),o._max_val.get()),h.uniform1f(h.getUniformLocation(p,"waf"),s),t.cam.gl_exec(t,"cam",p),t.cam.gl_exec_vec(t,"can",p),h.drawArrays(h.TRIANGLES,0,3*this._get_indices().size(1)),h.disableVertexAttribArray(u),h.disableVertexAttribArray(d),h.disableVertexAttribArray(m),h.disableVertexAttribArray(_)),"Wireframe"===i||"Surface with Edges"===i))return this._update_bufs_lines(t,e,A),h=t.ctx,this._draw_lines(t)},e.prototype.draw_vectorial_field_gl=function(t,e,A,n,i,o,r,s,a){var l,c,h,d,u,p,_,f,m,g,v,y,w,x,b;if(null==s&&(s=1),this._get_indices()){if(b=null!=r?r.warp_gl_buff(t,this,a):void 0,d=t.ctx,null==this._date_pts[d.ctx_id]&&(this._date_pts[d.ctx_id]=-1),this._date_pts[d.ctx_id]<e._date_last_modification){for(this._date_pts[d.ctx_id]=e._date_last_modification,c=-1,g=new Float32Array(2*3*A.length),u=p=0,v=A.length;0<=v?p<v:p>v;u=0<=v?++p:--p)g[c+=1]=A[u].pos[0].get(),g[c+=1]=A[u].pos[1].get(),g[c+=1]=A[u].pos[2].get(),g[c+=1]=A[u].pos[0].get(),g[c+=1]=A[u].pos[1].get(),g[c+=1]=A[u].pos[2].get();null!=this._pts_buffer[d.ctx_id]&&(d.deleteBuffer(this._pts_buffer[d.ctx_id]),d.deleteBuffer(this._nor_buffer[d.ctx_id]),d.deleteBuffer(this._lns_buffer[d.ctx_id])),this._pts_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._pts_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,g,d.STATIC_DRAW),this._nor_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,_,d.STATIC_DRAW),this._lns_buffer[d.ctx_id]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this._lns_buffer[d.ctx_id]),d.bufferData(d.ARRAY_BUFFER,lns,d.STATIC_DRAW)}if("Surface"!==i&&"Surface with Edges"!==i||(w="precision mediump float;\n varying float y;\n varying vec3 norin;\n uniform float mit;\n uniform float mat;\n uniform float waf;\n attribute vec3 pos;\n attribute vec3 nor;\n attribute vec3 wab;\n attribute float tex;\n "+t.cam.gl_attr_vec(t,"can")+"\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n y = ( tex - mit ) / ( mat - mit );\n gl_Position = vec4( pos + waf * wab, 1.0 );\n "+t.cam.gl_main_vec(t,"can","nor","norin")+"\n "+t.cam.gl_main(t,"cam")+"\n }\n",h=o.color_map.get_fragment_shader("y","col","norin"),m=t.cm.gl_prog(w,h),d.useProgram(m),f=d.getAttribLocation(m,"pos"),d.enableVertexAttribArray(f),d.bindBuffer(d.ARRAY_BUFFER,this._pts_buffer[d.ctx_id]),d.vertexAttribPointer(f,3,d.FLOAT,!1,0,0),_=d.getAttribLocation(m,"nor"),d.enableVertexAttribArray(_),d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.vertexAttribPointer(_,3,d.FLOAT,!1,0,0),x=d.getAttribLocation(m,"wab"),d.enableVertexAttribArray(x),null!=b?d.bindBuffer(d.ARRAY_BUFFER,b):d.bindBuffer(d.ARRAY_BUFFER,this._nor_buffer[d.ctx_id]),d.vertexAttribPointer(x,3,d.FLOAT,!1,0,0),(y=d.getAttribLocation(m,"tex"))>=0&&(d.enableVertexAttribArray(y),d.bindBuffer(d.ARRAY_BUFFER,n),d.vertexAttribPointer(y,1,d.FLOAT,!1,0,0)),l=d.getUniformLocation(m,"col"),d.uniform4f(l,.7,.7,.7,1),d.uniform1f(d.getUniformLocation(m,"mit"),o._min_val.get()),d.uniform1f(d.getUniformLocation(m,"mat"),o._max_val.get()),d.uniform1f(d.getUniformLocation(m,"waf"),s),t.cam.gl_exec(t,"cam",m),t.cam.gl_exec_vec(t,"can",m),d.drawArrays(d.TRIANGLES,0,3*this._get_indices().size(1)),d.disableVertexAttribArray(f),d.disableVertexAttribArray(_),d.disableVertexAttribArray(x),d.disableVertexAttribArray(y)),"Wireframe"===i||"Surface with Edges"===i)return this._update_bufs_lines(t,e,A),d=t.ctx,this._draw_lines(t)}},e.prototype._draw_lines=function(t){var e,A,n,i,o,r;return r="precision mediump float;\n attribute vec3 pos;\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main(t,"cam")+"\n gl_Position -= 1e-5;\n }\n",A="precision mediump float;\n uniform vec4 col;\n void main( void ) {\n gl_FragColor = col;\n }\n",o=t.cm.gl_prog(r,A),(n=t.ctx).useProgram(o),i=n.getAttribLocation(o,"pos"),n.enableVertexAttribArray(i),n.bindBuffer(n.ARRAY_BUFFER,this._lns_buffer[n.ctx_id]),n.vertexAttribPointer(i,3,n.FLOAT,!1,0,0),e=n.getUniformLocation(o,"col"),null!=this.line_color?n.uniform4f(e,this.line_color.r.get()/255,this.line_color.g.get()/255,this.line_color.b.get()/255,this.line_color.a.get()/255):n.uniform4f(e,1,1,1,1),t.cam.gl_exec(t,"cam",o),n.lineWidth(2),n.drawArrays(n.LINES,0,8*this.indices.size(1))},e.prototype._draw_points=function(t){var e,A,n,i,o,r;return r="precision mediump float;\n attribute vec3 pos;\n "+t.cam.gl_attr(t,"cam")+"\n void main( void ) {\n gl_Position = vec4( pos, 1.0 );\n "+t.cam.gl_main(t,"cam")+"\n gl_Position -= 1e-5;\n }\n",A="precision mediump float;\n uniform vec4 col;\n void main( void ) {\n gl_FragColor = col;\n }\n",o=t.cm.gl_prog(r,A),(n=t.ctx).useProgram(o),i=n.getAttribLocation(o,"pos"),n.enableVertexAttribArray(i),n.bindBuffer(n.ARRAY_BUFFER,this._lns_buffer[0]),n.vertexAttribPointer(i,3,n.FLOAT,!1,0,0),e=n.getUniformLocation(o,"col"),n.uniform4f(e,1,1,1,1),t.cam.gl_exec(t,"cam",o),n.lineWidth(2),n.drawArrays(n.POINTS,0,6*this._get_indices().size(1))},e.prototype._update_bufs=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,Q,T,O,G,V;if(null!=this._get_indices()&&(s=t.ctx,null==this._date_pts[s.ctx_id]&&(this._date_pts[s.ctx_id]=-1),this._date_pts[s.ctx_id]<e._date_last_modification)){for(this._date_pts[s.ctx_id]=e._date_last_modification,r=3,o=-1,i=-1,n=-1,z=new Float32Array(3*r*this._get_indices().size(1)),k=new Float32Array(3*r*this._get_indices().size(1)),B=new Float32Array(6*r*this._get_indices().size(1)),a=l=0,U=this._get_indices().size(1);0<=U?l<U:l>U;a=0<=U?++l:--l)if(I=e.get_point(this._get_indices().get([0,a])),F=e.get_point(this._get_indices().get([1,a])),M=e.get_point(this._get_indices().get([2,a])),I&&F&&M){for(P=h.nor(h.cro(h.sub(F,I),h.sub(M,I))),c=0,u=I.length;c<u;c++)G=I[c],z[o+=1]=G;for(d=0,p=F.length;d<p;d++)G=F[d],z[o+=1]=G;for(N=0,m=M.length;N<m;N++)G=M[N],z[o+=1]=G;for(C=0,g=P.length;C<g;C++)G=P[C],k[i+=1]=G;for(S=0,v=P.length;S<v;S++)G=P[S],k[i+=1]=G;for(R=0,y=P.length;R<y;R++)G=P[R],k[i+=1]=G;for(L=0,w=I.length;L<w;L++)G=I[L],B[n+=1]=G;for(D=0,x=F.length;D<x;D++)G=F[D],B[n+=1]=G;for(Q=0,b=F.length;Q<b;Q++)G=F[Q],B[n+=1]=G;for(T=0,E=M.length;T<E;T++)G=M[T],B[n+=1]=G;for(O=0,_=M.length;O<_;O++)G=M[O],B[n+=1]=G;for(V=0,f=I.length;V<f;V++)G=I[V],B[n+=1]=G}return null!=this._pts_buffer[s.ctx_id]&&(s.deleteBuffer(this._pts_buffer[s.ctx_id]),s.deleteBuffer(this._nor_buffer[s.ctx_id]),s.deleteBuffer(this._lns_buffer[s.ctx_id])),this._pts_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._pts_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,z,s.STATIC_DRAW),this._nor_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._nor_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,k,s.STATIC_DRAW),this._lns_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._lns_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,B,s.STATIC_DRAW)}},e.prototype._update_bufs_lines=function(t,e,A){var n,i,o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b,E,B,N,C,P,k,S,R,I,F,M,z,L,D,U,Q,T,O,G,V,Y,X,H,W,K,j,J;if(this._get_indices()){for(s=t.ctx,r=3,o=-1,i=-1,n=-1,Q=new Float32Array(4*r*this.indices.size(1)),I=new Float32Array(4*r*this.indices.size(1)),P=new Float32Array(8*r*this.indices.size(1)),a=l=0,G=this.indices.size(1);0<=G?l<G:l>G;a=0<=G?++l:--l)if(z=e.get_point(this.indices.get([0,a])),L=e.get_point(this.indices.get([1,a])),D=e.get_point(this.indices.get([2,a])),U=e.get_point(this.indices.get([3,a])),z&&L&&D&&U){for(R=h.nor(h.cro(h.sub(L,z),h.sub(D,z))),c=0,u=z.length;c<u;c++)H=z[c],Q[o+=1]=H;for(d=0,p=L.length;d<p;d++)H=L[d],Q[o+=1]=H;for(k=0,y=D.length;k<y;k++)H=D[k],Q[o+=1]=H;for(S=0,w=U.length;S<w;S++)H=U[S],Q[o+=1]=H;for(F=0,x=R.length;F<x;F++)H=R[F],I[i+=1]=H;for(M=0,b=R.length;M<b;M++)H=R[M],I[i+=1]=H;for(T=0,E=R.length;T<E;T++)H=R[T],I[i+=1]=H;for(O=0,B=z.length;O<B;O++)H=z[O],P[n+=1]=H;for(V=0,N=L.length;V<N;V++)H=L[V],P[n+=1]=H;for(Y=0,C=L.length;Y<C;Y++)H=L[Y],P[n+=1]=H;for(X=0,_=D.length;X<_;X++)H=D[X],P[n+=1]=H;for(W=0,f=D.length;W<f;W++)H=D[W],P[n+=1]=H;for(K=0,m=U.length;K<m;K++)H=U[K],P[n+=1]=H;for(j=0,g=U.length;j<g;j++)H=U[j],P[n+=1]=H;for(J=0,v=z.length;J<v;J++)H=z[J],P[n+=1]=H}return s.deleteBuffer(this._lns_buffer[s.ctx_id]),this._lns_buffer[s.ctx_id]=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this._lns_buffer[s.ctx_id]),s.bufferData(s.ARRAY_BUFFER,P,s.STATIC_DRAW)}},e}();var nt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;nt=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({indices:new TypedArray_Int32([8,0])})}return n(e,v),e.prototype.draw_gl=function(t,e,A,n){},e.prototype.draw=function(t,e,A,n){},e.prototype.draw_gl=function(t,e,A,n){},e.prototype._get_indices=function(){return this.indices},e}();var it;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};it=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.call(this),this.add_attr({boundaries:t})}return n(e,v),e.prototype.draw=function(t,e,A,n){},e.prototype.draw_gl=function(t,e,A,n){},e.prototype.update_indices=function(t,e){var A,n,i,o,r,s;for(s=[],i=0,o=(r=this.boundaries).length;i<o;i++)A=r[i],s.push("function"==typeof(n=A.e).update_indices?n.update_indices(t,e):void 0);return s},e.prototype.closest_point_closer_than=function(t,e,A,n,i){},e.prototype.add_sub_element=function(t){var e,A,n,i,o,r;for(r=[],A=0,n=(i=this.boundaries).length;A<n;A++)o=(e=i[A]).e,I.call(t,o)<0?r.push(t.push(e.e)):r.push(void 0);return r},e}();var ot;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ot=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({indices:new TypedArray_Int32([4,0])})}return n(e,v),e.prototype.draw_gl=function(t,e,A,n){},e.prototype.draw=function(t,e,A,n){},e.prototype.draw_gl=function(t,e,A,n){},e.prototype._get_indices=function(){return this.indices},e}();var rt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;rt=function(t){function e(){e.__super__.constructor.call(this),this.name="",this.visible=!0,this.actions=[],this.powered_with="",this.company="",this.publication_link="",this.tutorial_link="",this.group="",this.key_words=[]}return n(e,t),e.prototype.select_item=function(t,e,A){var n;return A?n=t.get_root_path_in_selected(A):(n=[]).push(t.selected_session()),n.push(e),this.unselect_all_item(t),t.selected_tree_items.push(n)},e.prototype.unselect_all_item=function(t){return t.selected_tree_items.clear()},e.prototype.watch_item=function(t,e){return t.watch_item(e)},e.prototype.get_animation_module=function(t){var e,A,n,i;for(A=0,n=(i=t.data.modules).length;A<n;A++)if((e=i[A])instanceof Qt)return e},e.prototype.get_display_settings_item=function(t){var e,A,n,i;for(A=0,n=(i=t.data.tree_items[0]._children).length;A<n;A++)if((e=i[A])instanceof re)return e},e.prototype.add_item_depending_selected_tree=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u;if(r=t.get_selected_tree_items(),!1===(n=!1))for(s=0,l=r.length;s<l;s++)i=r[s],o=new e,("function"==typeof i.accept_child?i.accept_child(o):void 0)&&!1===n&&(h=o,i.add_child(h),this.select_item(t,h,i),this.watch_item(t,h),n=!0);if(!1===n)for(a=0,c=(u=t.selected_tree_items).length;a<c;a++)d=(r=u[a])[r.length-2],o=new e,d instanceof e&&(h=d,n=!0);return!1===n&&(h=new e,t.selected_session().add_child(h),this.select_item(t,h),this.watch_item(t,h)),null!=A&&A(h),h},e.prototype.child_in_selected=function(t,e,A,n){var i,o,r,s,a,l,c,h;for(i=new e,h=[],a=0,l=A.length;a<l;a++)s=A[a],i.accept_child(s)?(t.data.selected_tree_items[0][t.data.selected_tree_items[0].length-2].rem_child(s),n.add_child(s),r=s.model_id,h.push(function(){var e,A,n,i;for(i=[],e=0,A=(n=t.data.panel_id_list()).length;e<A;e++)c=n[e],i.push(function(){var e,A,n,i;for(n=t.data.visible_tree_items[c],i=[],o=e=0,A=n.length;e<A;o=++e){if(n[o].model_id===r){t.data.visible_tree_items[c].splice(o,1);break}i.push(void 0)}return i}());return i}())):h.push(void 0);return h},e}(Model);var st;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;st=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({email:Cookies.set("email"),firstName:"",lastName:"",created_at:new Date,modify_at:new Date})}return n(e,t),e}(Model);var at;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;at=function(t){function e(t){null==t&&(t=""),e.__super__.constructor.call(this),this.add_attr({name:t,list_messages:new Lst,text:"",list_users:new Lst})}return n(e,t),e.prototype.add_message=function(){var t;return t=new lt(this.text),this.list_messages.push(t)},e}(Model);var lt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;lt=function(t){function e(t){null==t&&(t=""),e.__super__.constructor.call(this),this.add_attr({date:"",user:Cookies.set("email"),text:""}),this.date.set((new Date).toString().split(" ").splice(1,3).join(" ")),this.text.set(t)}return n(e,t),e}(Model);var ct;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ct=function(t){function e(t,A){null==t&&(t=""),e.__super__.constructor.call(this),this.add_attr({name:t,admin_users:new Lst,list_users:new Lst,list_logs:new Lst,list_applications:new Lst,created_at:new Date,modify_at:new Date,directory:new Directory}),null!=A&&this.admin_users.push(A.account),null!=A&&this.list_users.push(A.account)}return n(e,t),e}(Model);var ht,dt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ht=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({config:t,list_desk_items:new Lst,selected_list_desk_items:new Lst}),this.list_desk_items.push(new ge("Files","OrganisationFiles")),this.list_desk_items.push(new ge("Applications","Applications")),this.list_desk_items.push(new ge("Admin","Admin")),this.list_desk_items.push(new ge("Users","Users")),this.list_desk_items.push(new ge("Logs","Logs")),this.selected_list_desk_items.push(this.list_desk_items[0]),this.layout=new o({sep_norm:0,children:[{panel_id:"DeskListView",immortal:!0},{panel_id:"DeskNavigatorView",strength:3}]})}return n(e,t),e}(Model),dt=function(){function t(){}return t.period_ms=2,t._curan={},t._timer=void 0,t.linear=function(t){return t},t.easing=function(t){return Math.pow(t,.33)},t.set=function(e,A,n,i){var o,r,s,a,l,c,h,d;if(null==n&&(n=300),null==i&&(i=t.linear),A=ModelProcessManager.conv(A),c=e.size(),d=A.size(),c.length){if(1===c.length&&1===d.length&&c[0]===d[0]){for(h=[],r=s=0,a=e.length;s<a;r=++s)l=e[r],h.push(t.set(l,A[r],n,i));return h}return e.set(A)}return o=(new Date).getTime(),t._curan[e.model_id]={mod:e,old:e.get(),val:A,beg:o,end:o+n,crv:i},n<=0?t._timeout_func():null==t._timer?t._timer=setTimeout(t._timeout_func,t.period_ms):void 0},t._timeout_func=function(){var e,A,n,i,o,r,s,a,l;e=(new Date).getTime(),l=[],a=!1,s=t._curan;for(n in s)(r=(e-(o=s[n]).beg)/(o.end-o.beg))>=1?(o.mod.set(o.val),l.push(n)):(o.mod.set(o.old+(o.val-o.old)*o.crv(r)),a=!0);for(A=0,i=l.length;A<i;A++)n=l[A],delete t._curan[n];return t._timer=a?setTimeout(t._timeout_func,t.period_ms):void 0},t}();var ut;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ut=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({_ico:"",_name:"",_children:[],_output:[],_viewable:0,_allow_vmod:!0,_name_class:"",_context_modules:new Lst,_context_actions:new Lst})}return n(e,t),e.prototype.add_context_modules=function(t){return this._context_modules.push(t)},e.prototype.add_context_actions=function(t){return this._context_actions.push(t)},e.prototype.display_suppl_context_actions=function(t){},e.prototype.display_context_actions=function(){var t;return(t=new Lst).push(new Bt),this.display_suppl_context_actions(t),t},e.prototype.add_child=function(t){return this._children.push(t)},e.prototype.rem_child=function(t){var A,n,i;if(!(t instanceof e))return this._children.splice(t,1);for(n=A=0,i=this._children.length;0<=i?A<i:A>i;n=0<=i?++A:--A)if(this._children[n]===t)return void this._children.splice(n,1)},e.prototype.detect_child=function(t){var e,A,n,i;for(A=0,n=(i=this._children).length;A<n;A++)if(t(e=i[A]))return e},e.prototype.add_output=function(t){return this._output.push(t)},e.prototype.rem_output=function(t){var A,n,i;if(!(t instanceof e))return this._output.splice(t,1);for(n=A=0,i=this._output.length;0<=i?A<i:A>i;n=0<=i?++A:--A)if(this._output[n]===t)return void this._output.splice(n,1)},e.prototype.draw=function(t){var e,A,n,i,o;if(null!=this.sub_canvas_items){for(i=[],e=0,A=(n=this.sub_canvas_items()).length;e<A;e++)o=n[e],i.push(o.draw(t));return i}},e.prototype.anim_min_max=function(){},e.prototype.z_index=function(){return 0},e.prototype.to_string=function(){return this._name.get()},e}(Model),A.TreeItem=ut;var pt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;pt=function(t){function e(){e.__super__.constructor.call(this),this.name="",this.visible=!0,this.actions=[]}return n(e,t),e.prototype.select_item=function(t,e,A){var n;return A?n=t.get_root_path_in_selected(A):(n=[]).push(t.selected_session()),n.push(e),this.unselect_all_item(t),t.selected_tree_items.push(n)},e.prototype.unselect_all_item=function(t){return t.selected_tree_items.clear()},e.prototype.watch_item=function(t,e){return t.watch_item(e)},e.prototype.get_animation_module=function(t){var e,A,n,i;for(A=0,n=(i=t.data.modules).length;A<n;A++)if((e=i[A])instanceof Qt)return e},e.prototype.get_display_settings_item=function(t){var e,A,n,i;for(A=0,n=(i=t.data.tree_items[0]._children).length;A<n;A++)if((e=i[A])instanceof re)return e},e.prototype.add_item_depending_selected_tree=function(t,e){var A,n,i,o,r,s,a,l,c,h,d;if(o=t.get_selected_tree_items(),!1===(A=!1))for(r=0,a=o.length;r<a;r++)n=o[r],i=new e,("function"==typeof n.accept_child?n.accept_child(i):void 0)&&!1===A&&(c=i,n.add_child(c),this.select_item(t,c,n),this.watch_item(t,c),A=!0);if(!1===A)for(s=0,l=(d=t.selected_tree_items).length;s<l;s++)h=(o=d[s])[o.length-2],i=new e,h instanceof e&&(c=h,A=!0);return!1===A&&(c=new e,t.selected_session().add_child(c),this.select_item(t,c),this.watch_item(t,c)),c},e.prototype.child_in_selected=function(t,e,A,n){var i,o,r,s,a,l,c,h;for(i=new e,h=[],a=0,l=A.length;a<l;a++)s=A[a],i.accept_child(s)?(t.data.selected_tree_items[0][t.data.selected_tree_items[0].length-2].rem_child(s),n.add_child(s),r=s.model_id,h.push(function(){var e,A,n,i;for(i=[],e=0,A=(n=t.data.panel_id_list()).length;e<A;e++)c=n[e],i.push(function(){var e,A,n,i;for(n=t.data.visible_tree_items[c],i=[],o=e=0,A=n.length;e<A;o=++e){if(n[o].model_id===r){t.data.visible_tree_items[c].splice(o,1);break}i.push(void 0)}return i}());return i}())):h.push(void 0);return h},e}(Model);var _t;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;_t=function(t){function e(){var t;e.__super__.constructor.call(this),this.add_attr({_collection_size:0,_incr_id_collection_child:0}),this.bind((t=this,function(){if(t._collection_size.has_been_modified())return t.change_collection()}))}return n(e,ut),e.prototype.display_suppl_context_actions=function(t){},e.prototype.display_context_actions=function(){var t;return(t=new Lst).push(new Bt),t.push({txt:"add",ico:"data:image/png;base64,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",fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,o=(i=e.data.selected_tree_items).length;A<o;A++)n=(r=i[A])[r.length-1],s.push(n._collection_size.set(n._collection_size.get()+1));return s}}),t.push({txt:"remove",ico:"data:image/png;base64,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",fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,o=(i=e.data.selected_tree_items).length;A<o;A++)(n=(r=i[A])[r.length-1])._collection_size.get()>0?s.push(n._collection_size.set(n._collection_size.get()-1)):s.push(void 0);return s}}),this.display_suppl_context_actions(t),t},e.prototype.ask_for_id_collection_child=function(){var t;return t=parseInt(this._incr_id_collection_child),this._incr_id_collection_child.set(parseInt(this._incr_id_collection_child)+1),t},e.prototype.remove_collection_item=function(){var t;return t=this._children.length-this._collection_size,this._children.splice(this._collection_size,t)},e.prototype.add_collection_item=function(){var t,e;return e="child_"+(t=this.ask_for_id_collection_child()).toString(),this.add_child(new BoundaryConditionItem(e,t,this._dim))},e.prototype.change_collection=function(){var t,e,A,n;if(0,this._children.length>this._collection_size)return this.remove_collection_item();for(n=[],t=e=this._children.length,A=this._collection_size;e<=A?t<A:t>A;e<=A?++t:--t)n.push(this.add_collection_item());return n},e}();var ft;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ft=function(t){function e(){var t;e.__super__.constructor.call(this),this.add_attr({_computation_req_date:1,_computation_rep_date:0,_computation_mode:0,_ready_state:!0,_computation_state:!1,_pending_state:!1,_processing_state:!1,_finish_state:!1,_stop_state:!1,_sc_nb_proc:1,_messages:[],auto_compute:!1}),this.bind((t=this,function(){if(t.auto_compute.has_been_modified()?t._computation_mode.set(2*t.auto_compute.get()):t._computation_mode.has_been_modified()&&t.auto_compute.set(t._computation_mode.get()),t.real_change()){if(t._computation_req_date.has_been_modified())return;if(t._computation_rep_date.has_been_modified())return;return t._computation_req_date.add(1)}}))}return n(e,ut),e.prototype.cosmetic_attribute=function(t){return"_ready_state"===t||"_pending_state"===t||"_processing_state"===t||"_finish_state"===t||"_computation_req_date"===t||"_computation_rep_date"===t||"_computation_mode"===t||"_computation_state"===t||"_stop_state"===t||"_messages"===t||"auto_compute"===t},e.prototype.nothing_to_do=function(){return this._computation_req_date.get()===this._computation_rep_date.get()},e.prototype.manual_mode=function(){return this._computation_mode.get()},e.prototype.do_it=function(){return e._do_it_rec(this)},e._do_it_rec=function(t){var A,n,i,o,r;for(t instanceof e&&(t._computation_state.set(!0),t._stop_state.set(!1)),r=[],n=0,i=(o=t._children).length;n<i;n++)A=o[n],r.push(e._do_it_rec(A));return r},e.prototype.stop_it=function(){return e._stop_it_rec(this)},e._stop_it_rec=function(t){var A,n,i,o,r;for(t instanceof e&&(t._computation_state.set(!1),t._computation_mode.set(!1),t._finish_state.set(!0),t._stop_state.set(!0)),r=[],n=0,i=(o=t._children).length;n<i;n++)A=o[n],r.push(e._stop_it_rec(A));return r},e}();var mt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;mt=function(t){function e(){var t;e.__super__.constructor.call(this),this.add_attr({_req_date:1,_rep_date:0,_messages:[]}),this.bind((t=this,function(){if(t.has_been_directly_modified()){if(t._req_date.has_been_modified())return;if(t._rep_date.has_been_modified())return;return t._req_date.add(1)}}))}return n(e,ut),e.prototype.cosmetic_attribute=function(t){return"_rep_date"===t||"_messages"===t},e.prototype.nothing_to_do=function(){return this._req_date.get()===this._rep_date.get()},e}();var gt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};gt=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({tree_items:new Lst,selected_tree_items:new Lst,visible_tree_items:new Model,closed_tree_items:new Lst,selected_canvas_pan:new Lst,last_canvas_pan:new Str,applications:new Lst,base_modules:new Lst,modules:new Lst,focus:-1,time:new ConstrainedVal(0,{min:0,max:100})})}return n(e,t),e.prototype.watch_item=function(t){var e,A,n,i,o;for(o=[],e=0,A=(i=this.panel_id_list()).length;e<A;e++)n=i[e],null==this.visible_tree_items[n]&&this.visible_tree_items.add_attr(n,[]),this.visible_tree_items[n].contains_ref(t)?o.push(void 0):o.push(this.visible_tree_items[n].push(t));return o},e.prototype.unwatch_item=function(t){var e,A,n,i,o;for(o=[],e=0,A=(i=this.panel_id_list()).length;e<A;e++)n=i[e],null==this.visible_tree_items[n]&&this.visible_tree_items.add_attr(n,[]),this.visible_tree_items[n].contains_ref(t)?o.push(void 0):o.push(this.visible_tree_items[n].remove(t));return o},e.prototype.watch_item_in_p=function(t,e){if(null==this.visible_tree_items[e]&&this.visible_tree_items.add_attr(e,[]),!this.visible_tree_items[e].contains_ref(t))return this.visible_tree_items[e].push(t)},e.prototype.unwatch_item_in_p=function(t,e){if(null==this.visible_tree_items[e]&&this.visible_tree_items.add_attr(e,[]),!this.visible_tree_items[e].contains_ref(t))return this.visible_tree_items[e].remove(t)},e.prototype.close_item=function(t){return this.closed_tree_items.push(t)},e.prototype.open_item=function(t){var e,A,n,i,o,r;for(r=[],e=n=0,i=(o=this.closed_tree_items).length;n<i;e=++n)A=o[e],t.equals(A)?r.push(this.closed_tree_items.splice(e,1)):r.push(void 0);return r},e.prototype.display_framework=function(){return new re({sep_norm:0,children:[{panel_id:"ContextBar",immortal:!0,min_size:[60,0],max_size:[65,1e5]},{sep_norm:0,children:[{sep_norm:1,children:[{panel_id:"TreeView",immortal:!0},{strength:2,panel_id:"EditView",immortal:!0}]},{panel_id:"MainView",strength:3}]}]})},e.prototype.display_standard_framework=function(){return new re({sep_norm:0,children:[{panel_id:"ContextBar",immortal:!0,min_size:[60,0],max_size:[65,1e5]},{sep_norm:0,children:[{panel_id:"TreeView",immortal:!0},{panel_id:"EditView",strength:3}]}]})},e.prototype.new_session=function(t){var e,A;return null==t&&(t="Session"),A=new ce(t,this),this.add_session(A),e=this.display_framework(),A._children.push(e),A},e.prototype.new_standard_session=function(t){var e,A;return null==t&&(t="Session"),A=new ce(t,this),this.add_session(A),e=this.display_standard_framework(),A._children.push(e),A},e.prototype.add_session=function(t){return this.tree_items.push(t)},e.prototype.selected_session=function(){var t,e,A,n;for(t=0,e=(A=this.tree_items).length;t<e;t++)if(n=A[t],this.has_a_selected_child(n))return n;return this.tree_items[0]},e.prototype.selected_display_settings=function(){return this.selected_session()._children.detect(function(t){return t instanceof re})},e.prototype.panel_id_list=function(){return this.selected_display_settings()._layout.panel_id_of_term_panels().filter(function(t){return"EditView"!==t&&"TreeView"!==t&&"ContextBar"!==t&&"IcoBar"!==t})},e.prototype.rm_selected_panels=function(){var t,e,A,n,i,o;for(t=this.selected_display_settings(),o=[],e=0,A=(i=this.selected_canvas_pan).length;e<A;e++)n=i[e],o.push(t._layout.rm_panel(n));return o},e.prototype.update_associated_layout_data=function(t){var e,A,n,i,o,r,s,a,l;for(r=t._layout.panel_id_of_term_panels(),e=0,i=(s=function(){var t,e,A,i;for(i=[],t=0,e=(A=this.visible_tree_items._attribute_names).length;t<e;t++)n=A[t],I.call(r,n)<0&&i.push(n);return i}.call(this)).length;e<i;e++)n=s[e],this.visible_tree_items.rem_attr(n);for(A=0,o=(a=function(){var t,e,A,i;for(i=[],t=0,e=(A=this.selected_canvas_pan).length;t<e;t++)n=A[t],I.call(r,n)<0&&i.push(n);return i}.call(this)).length;A<o;A++)n=a[A],this.selected_canvas_pan.remove(n);if(this.selected_canvas_pan.length||this.selected_canvas_pan.push(r[r.length-1]),l=this.last_canvas_pan,I.call(r,l)<0)return this.last_canvas_pan.set(r[r.length-1])},e.prototype.get_current_cam=function(){var t,e,A,n;for(A=this.last_canvas_pan.get(),t=e=0,n=this.selected_display_settings()._children.length;0<=n?e<n:e>n;t=0<=n?++e:--e)if(this.selected_display_settings()._children[t]._panel_id.get()===A)return this.selected_display_settings()._children[t].cam},e.prototype.has_a_selected_child=function(t){var e,A,n,i;if(I.call(this.selected_tree_items,t)>=0)return!0;for(A=0,n=(i=t._children).length;A<n;A++)if(e=i[A],this.has_a_selected_child(e))return!0;return!1},e.prototype.get_child_of_type=function(t,e){var A,n;return A=[],n={},this._get_child_of_type_rec(A,n,t,e),A},e.prototype.get_selected_tree_items=function(){var t,e,A,n,i;for(t=new Lst,e=0,A=(i=this.selected_tree_items).length;e<A;e++)n=i[e],t.push(n[n.length-1]);return t},e.prototype.get_root_path_in_selected=function(t){var e,A,n,i,o,r;for(e=0,n=(r=this.selected_tree_items).length;e<n;e++)for(A=0,i=(o=r[e]).length;A<i;A++)if(o[A].model_id===t.model_id)return o},e.prototype.get_root_path=function(t){var e,A,n,i,o,r,s;for(r=[],i=[],e=0,A=(o=this.tree_items).length;e<A;e++)return s=o[e],i.push(s),t.equals(s)?r.push(i.slice(0)):(n=s,this.get_root_path_rec(i,t,n,r)),r},e.prototype.get_root_path_rec=function(t,e,A,n){var i,o,r,s,a,l,c,h;for(o=0,s=(l=A._children).length;o<s;o++)if(i=l[o],e.equals(i))return t.push(i),n.push(t.slice(0)),t.pop(),t;for(h=[],r=0,a=(c=A._children).length;r<a;r++)i=c[r],t.push(i),this.get_root_path_rec(t,e,i,n),h.push(t.pop());return h},e.prototype.delete_from_tree=function(t,e){var A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v;if(null==e&&(e=!0),n=!1,t._children.length)for(i=o=p=t._children.length-1;p<=0?o<=0:o>=0;i=p<=0?++o:--o)for((A=t._children[i])._children.length>0&&this.delete_from_tree(A,!1),n=!0,t.rem_child(A),this.closed_tree_items.remove(A),r=0,a=(_=this.panel_id_list()).length;r<a;r++)u=_[r],this.visible_tree_items[u].remove(A);if(t._output.length)for(i=s=f=t._output.length-1;f<=0?s<=0:s>=0;i=f<=0?++s:--s)for((A=t._output[i])._output.length>0&&this.delete_from_tree(A,!1),n=!0,t.rem_child(A),this.closed_tree_items.remove(A),h=0,l=(m=this.panel_id_list()).length;h<l;h++)u=m[h],this.visible_tree_items[u].remove(A);if(!n||e){for(this._get_parent(t).rem_child(t),this.closed_tree_items.remove(t),v=[],d=0,c=(g=this.panel_id_list()).length;d<c;d++)u=g[d],v.push(this.visible_tree_items[u].remove(t));return v}},e.prototype._get_parent=function(t){var e,A,n;if((A=(n=t._parents)[0].length<=2?n[0][0]:n[0][n[0].length-2])===t)for(e=1;A===t&&e<50;)n[e].length>1&&(A=n[e][n[e].length-2]),e++;return A},e.prototype._get_child_of_type_rec=function(t,e,A,n){var i,o,r,s,a;if(null==e[A.model_id]&&(e[A.model_id]=!0,A instanceof n&&t.push(A),null!=A._children)){for(a=[],o=0,r=(s=A._children).length;o<r;o++)i=s[o],a.push(this._get_child_of_type_rec(t,e,i,n));return a}},e}(Model);var vt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;vt=function(t){function e(){var t,A;e.__super__.constructor.call(this),this.name="Test apps",this.powered_with="SC",t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)},this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"test collection item",ina:t,fun:(A=this,function(t,e){return e.undo_manager.snapshot(),A.add_item_depending_selected_tree(e.data,ne,function(t){return t.time=e.data.time,t._app_data=e.data})})})}return n(e,rt),e}();var yt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;yt=function(t){function e(){var t,A;e.__super__.constructor.call(this),this.name="TreeItem Parametric",this.powered_with="SpinalCom",this.description="Insert a new TreeItem Parametric in the session.",t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.view_id:void 0)},this.actions.push({txt:"TreeItem Parametric",ina:t,fun:(A=this,function(t,e){return e.undo_manager.snapshot(),A.add_item_depending_selected_tree(e.data,$t,function(t){var e;return(e=prompt("Enter the name of the TreeItem:"))?t._name.set(e):t._name.set("Item")})})})}return n(e,rt),e}();var wt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;wt=function(t){function e(){var t,A;e.__super__.constructor.call(this),this.name="Sketcher",this.powered_with="SC",t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)},this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Web Sketcher",ina:t,fun:(A=this,function(t,e){return e.undo_manager.snapshot(),A.add_item_depending_selected_tree(e.data,se)})})}return n(e,rt),e}();var xt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;xt=function(t){function e(){var t;e.__super__.constructor.call(this),this.name="Add a grid",this.powered_with="SC",this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Grid",fun:(t=this,function(e,A){return A.undo_manager.snapshot(),t.add_item_depending_selected_tree(A.data,ue)})})}return n(e,rt),e}();var bt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;bt=function(t){function e(){var t;e.__super__.constructor.call(this),this.name="Util",this.actions.push({ico:"data:image/png;base64,",txt:"deep_copy",siz:1,fun:(t=this,function(e,A){return A.undo_manager.snapshot(),t.add_item_depending_selected_tree(A.data,DeepCopyItem)})})}return n(e,rt),e}();var Et;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Et=function(t){function e(){var t;e.__super__.constructor.call(this),this.name="Add a note",this.powered_with="SC",this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Note",fun:(t=this,function(e,A){return A.undo_manager.snapshot(),t.add_item_depending_selected_tree(A.data,Wt)})})}return n(e,rt),e}();var Bt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Bt=function(t){function e(){var t,A;e.__super__.constructor.call(this),this.name="Save",t={fa:"fa-floppy-o",siz:1,txt:"Save",sub:{prf:"list",act:[]},key:["M"]},this.actions.push(t),t.sub.act.push({txt:"Save",key:[""],fa:"fa-floppy-o",loc:!0,fun:function(t,e){var A,n,i,o,r,s,a,l,c;for(c=[],i=0,s=(r=e.data.selected_tree_items).length;i<s;i++)l=r[i],o=l[l.length-1],console.log("saving : ",o),"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?(n=FileSystem.get_inst(),a=prompt("Item name",o.to_string()+new Date),A=FileSystem._home_dir,A+="/__files__",c.push(n.load_or_make_dir(A,function(t,e){return t.add_file(a,o,{model_type:"TreeItem"})}))):c.push(void 0);return c}}),t.sub.act.push({txt:"Delete current tree item",fa:"fa-trash",key:["Del"],loc:!0,fun:function(t,e){var A,n,i,o,r,s,a,l,c;for(A=0,i=(c=e.data.selected_tree_items).length;A<i;A++)if((l=c[A]).length>1){if((r=l[l.length-1])instanceof re)return!0;if(r instanceof qt)for(n=0,o=(a=e.data.modules).length;n<o;n++)(s=a[n])instanceof Tt&&s.actions[4].fun(t,e);else e.undo_manager.snapshot(),l[l.length-2].rem_child(r),e.data.delete_from_tree(r),e.data.selected_tree_items.clear()}}}),t.sub.act.push({txt:"Copy tree item",fa:"fa-copy",loc:!0,fun:(A=this,function(t,e){var n,i,o,r,s,a,l;for(l=[],i=0,o=(a=e.data.selected_tree_items).length;i<o;i++)(s=a[i]).length>1?(r=s[s.length-1])instanceof re||r instanceof qt||((n=r.deep_copy())._name.set(r._name+"_copy"),e.data.selected_session().add_child(n),A.select_item(e.data,n),l.push(A.watch_item(e.data,n))):l.push(void 0);return l})})}return n(e,pt),e}();var Nt,Ct=function(t,e){return function(){return t.apply(e,arguments)}};n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Nt=function(t){function e(){var t,A,n,i;this.onPopupClose=Ct(this.onPopupClose,this),e.__super__.constructor.call(this),this.name="AddModel",t={fa:"fa-database",txt:"Add new model",sub:{prf:"list",act:[]}},this.actions.push(t),t.sub.act.push({txt:"Add an attr",txtico:"New attr",loc:!0,fun:(A=this,function(t,e){var n,i,o,r,s,a;for(e.undo_manager.snapshot(),i=0,r=(a=e.data.selected_tree_items).length;i<r;i++)o=(s=a[i])[s.length-1];return n=Ee({className:"apps_container",id:"id_apps_container"}),new Ie({el:n,model:o}),A.newSmallPopup("New Attribute",n,t,e)})}),t.sub.act.push({txt:"Add a child",txtico:"New child",loc:!0,fun:(n=this,function(t,e){var A,i,o,r,s,a;for(e.undo_manager.snapshot(),i=0,r=(a=e.data.selected_tree_items).length;i<r;i++)o=(s=a[i])[s.length-1];return A=Ee({className:"apps_container",id:"id_apps_container"}),new Fe({el:A,model:o}),n.newSmallPopup("New TreeItem",A,t,e)})}),t.sub.act.push({txt:"Generate a new JavaScript class",txtico:"New class",loc:!0,fun:(i=this,function(t,e){var A,n,o,r,s,a;for(e.undo_manager.snapshot(),n=0,r=(a=e.data.selected_tree_items).length;n<r;n++)o=(s=a[n])[s.length-1];return A=Ee({className:"apps_container",id:"id_apps_container"}),new Qe({el:A,model:o}),i.newSmallPopup("New Class",A,t,e)})})}return n(e,pt),e.prototype.newSmallPopup=function(t,e,A,n){var i,o,r,s,a,l,c,h,d;for(l=void 0,a=0,c=(h=n.selected_canvas_inst()).length;a<c;a++)l=h[a];return null!=l.divCanvas?(r=this.getTop(l.div)+50,o=this.getLeft(l.div)+50,s=220,i=132):(r=100,o=100,s=220,i=132),Be(t,{event:A,child:e,top_x:o,top_y:r,width:s,height:i,onclose:(d=this,function(){return d.onPopupClose(n)})}),n.active_key.set(!1)},e.prototype.onPopupClose=function(t){return document.onkeydown=void 0,t.active_key.set(!0)},e.prototype.getLeft=function(t){return null!=t.offsetParent?t.offsetLeft+this.getLeft(t.offsetParent):t.offsetLeft},e.prototype.getTop=function(t){return null!=t.offsetParent?t.offsetTop+this.getTop(t.offsetParent):t.offsetTop},e}();var Pt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Pt=function(t){function e(){var t,A,n,i;e.__super__.constructor.call(this),this.name="Windows",t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)},this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"Close current view (Shift+X)",ina:t,fun:function(t,e){return e.undo_manager.snapshot(),e.data.rm_selected_panels()},key:["Shift+X"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",siz:1,txt:"Vertical split (Shift+V)",ina:t,fun:(n=this,function(t,e){return n.split_view(t,e,0)}),key:["Shift+V"]}),this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"Horizontal split (Shift+H)",ina:t,fun:(i=this,function(t,e){return i.split_view(t,e,1)}),key:["Shift+H"]}),this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"Fit object to the view (F)",ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.fit());return r},key:["F"]}),A={siz:1,txt:"View",ina:t,sub:{prf:"list",act:[]},key:["V"]},this.actions.push(A),this.actions.push({ico:"data:image/png;base64,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",txt:"Origin camera (O)",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.origin());return r},key:["O"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ8XAa5m9GEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzMzP/+Pj4APn5+QAAAAAABwcHAAgICADNzc0BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAA0NDT/+vr6APj4+AAQEBAAQUFBADw8PAAAAAAAw8PDAMDAwADw8PAACAgIAAYGBgDMzMwBAAAAAAAAAAAAAAAAAf///wAAAAAAMDAw//n5+QAAAAAAODg4AD8/PwAgICAACQkJAAAAAAAAAAAAAAAAAPf39wDg4OAAwcHBAMjIyAAAAAAABwcHANDQ0AEAAAAABAAAAAAAAAAAGRkZAD8/PwA4ODgACQkJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkJCQApKSkAAgICAF9fXwDIyMgAwcHBAAAAAAAAAAAAAf///wAAAAAAycnJ/////wABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAQEBADc3NwEAAAAAAgAAAAAAAAAAAAAAAKqqqgDW1tYA/Pz8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8ANbW1gCqqqoAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAMvLywCOjo4BPz8//zIyMgAyMjIAIiIiAAQEBAAAAAAA/Pz8AN7e3gDOzs4Azs7OAMHBwQE9PT3/V1dXAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAwcHBAQAAAAAAAAAARERE/1JSUgAAAAAArq6uALy8vAFdXV0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvLy8AeTk5ADk5OQAvLy8AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPj4+AAzMzP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADMzM//4+PgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEVFRQC8vLwAJiYm/wgICAAGBgYAzMzMAQAAAAAAAAAAAAAAADQ0NP/6+voA+Pj4ABAQEABEREQAAAAAAAAAAAAAAAAAAf///wAAAAAAWFhY/zg4OAAwMDAA4ODgAMHBwQDIyMgAAAAAAFBQUAAAAAAAsLCwAAAAAAA4ODgAPz8/ACAgIADQ0NAAyMjIAKioqAEAAAAAAf///wAAAAAAAAAAAAAAAAA7Ozv/Ly8vADg4OAAeHh4AzMzMAAYGBgAAAAAA+vr6ADQ0NADh4eEAyMjIANHR0QDGxsYBAAAAAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRkb/Nzc3ADc3NwAAAAAAyMjIAMnJyQC7u7sBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAh6vfbs8Y3k0AAAAASUVORK5CYII=",txt:"Watch top (T)",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.top());return r},key:["T"]}),A.sub.act.push({txt:"Watch bottom (B)",ina:t,vis:!1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.bottom());return r},key:["B"]}),this.actions.push({ico:"data:image/png;base64,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",txt:"Watch right (R)",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.right());return r},key:["R"]}),A.sub.act.push({txt:"Watch left (L)",ina:t,vis:!1,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.left());return r},key:["L"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94HFgoSHELQquYAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACmUlEQVQ4y82UP2hfVRTHv99Xo2JCW0Hk9zJ0cmmHH3n3oShoJ6O0FKtmE1K7WHATx6KotNVR6FQQHHQTIS4dtFWCVkoN794EinRQEJUkagbbohGR+3HwPvLadPHP4FkeF8753PM993ue9H+JtbW1W55v+6ewuq6VUtoNLNg+Xdf1giR5mLi+vq7RaCRJSintAO61fQI4JEm2zwIv2f5R0m5JHwEBON+27ew2YB8ppQeB12w/JkmAClCAbH9Yvo/nnJdsPxpCuHaD5IGMJ4H3JE1IehlItjfK5ZO254DnS9nntg+FEK719VUPrOtaMcYpYEHSOdt3jUajk7bvAxZzzp/knGeB2b+a5mvgaAjh56GKGx7F9rfAuyGEIwP5X0hqqqqalLQoaSrnfGViYiKMx+PNlNIY+HJ6evoPSVsdppT2A7uqqjomSTHGF2KMDzVNc1HSMUnvAFPAkqT94/F4s3R2yfYjPacaNHgceGZmZua30u0btjdijG9Kmgf2SVqWNNe27U8DH84Dx7cBAVVV9fvgDDBZXvoeSd8D8yGE72KMe+u67lM37S2zVIP5vQ68v7y8fEc5nwYuAPtsJ9sH2ra9HGOcs32kjOl22wvAqW3Apmk+lXQ153wmpbQz5/yU7UnbS8ATTdNcTinNSToBvFrK3pL0awhhsefcvHp7bF8HjlZVBXAl53ywbduNruv2AsF2kLQjxngWOChp5xBQ9StXZN4JfFZm+I3tBwrsYdt7JF0AXgR+sT0r6XAI4frq6uqW9Qa2uRv4WFJT/PZcCOGrlNKzwJlyWZ9+TtIrIYSLN6/t0DYfFNgl24cLbBdwP3BV0g+235Y0bftAD+vVbYuu657uuu78ysrK1K3+d38rhjP417D/Ov4EZX58Zur9qGUAAAAASUVORK5CYII=",siz:1,txt:"Hide all",ina:t,fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,i=(r=e.selected_canvas_inst()).length;A<i;A++)o=(n=r[A]).view_item._panel_id,n.app_data.visible_tree_items[o].clear(),n.app_data.visible_tree_items[o].push(n.view_item),s.push(n.cm.fit());return s}}),this.actions.push({siz:1,txt:"Zoom",ina:t,fun:function(t,e){var A,n;return this.zoom_area?(this.old_cm.items.remove_ref(this.zoom_area),this.old_cm.draw(),this.theme.zoom_factor.set(this.zoom_area.zoom_factor[0]),delete this.zoom_area):(this.old_cm=null!=(A=e.selected_canvas_inst())&&null!=(n=A[0])?n.cm:void 0,this.theme=this.old_cm.theme,this.zoom_area=new L(this.old_cm,{zoom_factor:[this.theme.zoom_factor,this.theme.zoom_factor,1]}),this.zoom_area.zoom_pos.set([this.old_cm.mouse_x,this.old_cm.mouse_y]),this.old_cm.items.push(this.zoom_area))},key:["Z"]}),this.actions.push({txt:"",key:["UpArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(-.1,0,0));return r}}),this.actions.push({txt:"",key:["DownArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(.1,0,0));return r}}),this.actions.push({txt:"",key:["LeftArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(0,-.1,0));return r}}),this.actions.push({txt:"",key:["RightArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(0,.1,0));return r}})}return n(e,pt),e.prototype.split_view=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u,p,_;for(e.undo_manager.snapshot(),n=void 0,i=void 0,r=0,a=(d=e.data.selected_tree_items).length;r<a;r++)(_=(c=d[r])[c.length-1])instanceof te&&(n=_.cam,i=_);for(o=e.data.selected_display_settings(),p=[],s=0,l=(u=e.data.selected_canvas_pan).length;s<l;s++)h=u[s],e._next_view_item_cam=n,e._next_view_item_child=i,p.push(o._layout.mk_split(A,0,h,.5));return p},e}();var kt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;kt=function(t){function e(){e.__super__.constructor.call(this),this.name="Download",this.actions.push({txt:"Download result files",fa:"fa-download",fun:function(t,e){var A,n,i,o,r,s,a,l;for(l=[],o=0,r=(i=e.data.selected_tree_items).length;o<r;o++)a=i[o],null!=(n=a[a.length-1])._files_to_save&&null!=n._names_to_save?l.push(function(){var e,i,o;for(o=[],A=e=0,i=n._files_to_save.length;0<=i?e<i:e>i;A=0<=i?++e:--e)t.preventDefault(),s=document.createElement("a"),document.body.appendChild(s),s.download=n._names_to_save[A],s.href="/sceen/_?u="+n._files_to_save[A]._server_id,o.push(s.click());return o}()):l.push(void 0);return l}}),this.actions.push({txt:"Add result files on the is-sim desk",fa:"fa-cloud-download",fun:function(t,e){var A,n,i,o,r,s,a,l;for(l=[],r=0,s=(o=e.data.selected_tree_items).length;r<s;r++)a=o[r],i=a[a.length-1],"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()&&null!=i._files_to_save&&null!=i._names_to_save?(n=FileSystem.get_inst(),A=FileSystem._home_dir+"/__files__",l.push(n.load_or_make_dir(A,function(t,e){var A,n,o;for(A=n=0,o=i._files_to_save.length;0<=o?n<o:n>o;A=0<=o?++n:--n)t.add_file(i._names_to_save[A],i._files_to_save[A],{model_type:"Path"});return alert("Files saved on the is-sim desk!")}))):l.push(void 0);return l}})}return n(e,pt),e}();var St;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;St=function(t){function e(){var t,A,n;e.__super__.constructor.call(this),this.name="Image",this.visible=!0,this.numpic=1,this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"New Shooting",fun:(t=this,function(e,A){return A.undo_manager.snapshot(),t.collection=new te(A),A.data.selected_session()._children.push(t.collection),t.unselect_all_item(A.data),t.select_item(A.data,t.collection),t.watch_item(A.data,t.collection)})}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sLFQ0kK/G2W0UAAARaSURBVEjH7ZRPTxMJGIefGacMtdBOaUtbUCgN1WUxrg2YAgJZ4z82mOXgwZj4Ufwim73tysUQEz3YEkM2HMi6bMDIaspCLezItjIzdAotnW5hhr0ZTWx2P4C/2+/yPnmS933hS/4jwsflwYMHJ7FYDMMwWF1dRZZlenp6SCaTpNNpFhcXSSQSTE5O4vf7yWQy5PN57t+/j8/nwzAMLly4wMzMzIe50scARVHIZDKYpokkScTjcR49esTJyQm6rnP27FmuXr3K0NAQjUYDRVEIhUIEAgHa2trI5XK8f//+E4NPANFolNu3b9PW1sb29jahUIhIJEIikaBUKjE2NkYsFsPlclGpVFhZWcFxHGzb5uHDh5TLZQYHBz8BiB+XWq2GLMv4/X7a29vZ2Njg8uXLZLNZgsEgW1tbzM7O8ubNG9rb27lx4waHh4esr6+zt7eHaZqYptncYGlpCcuyGB4eJp/Ps7CwgMfj4fXr18iyjGVZuN1uRFFkeXmZer1Ob28v0WiU8fFxnjx5QqFQaG6gaRqqqjI3N8fR0RHDw8OYpsnIyAiKonDu3Dm8Xi9er5e1tTWWlpYA2N/fp7W1lTNnzhCJRJob7O7ucnx8DIDb7SYWi5HL5dA0jWKxyN27d5EkCUmS6OvrQxAEXr16ha7rBINBLl68yNbWVnPA+fPncRyHmzdvEo/H0TSNlpYWJEmio6ODd+/ekUqlMAyDeDxOMpkk6A8x8e04uq7z+PFjVFVtDpienqbRaGDbNrlcju7ubnp6elBVlf39fSRJwjAMqtUqnZ2dCIJA1xWF9PwzFJ+fRqNBPB5nY2Pj84BiscjTp0+xbZtarcb09DRTU1OEw2EkSeL58+ek02nGxsaYuvUdmvKWhc4fGPBPov10TLVaJRqNNjeo1+uUy2VGR0dRVRVVVdF1nWKxiCiKHBwcAGAYBh63h1Lr3wgi1Dr36Ooawuf3knubaw6wLIuBgQGuX7/O7Owstm2TzWbJ5/NEo1FSqRSx3j48bg/CKTDfVRD8ItgiqdQIO7sq1Uq1OSCZTCLLMpqmMTg4iM/nw3EcDMOgVCrRaDQwAzvUhTKdTgfroWUkXFSEEpnQj4hhEW/EBz83AWxubiKKImtra3R3d6OqKoIgcOnSJUKBEG/1P1Fv/cKhv4Rpg+vEBUcildMGpqcAIshdcnODnZ0dVldXAVhcXEQURdxuN/fu3cMf8CMXPMRfTJIT/iDsj5Dz/k5Lv8PpQ4Wv/pqgfmJRUIvA9ucvWZZlrl27RigUIhwOk0wmsSyL+fl5NE3DcRyKvx4wWvkez28xDp61IEggILAxt0tk82vqi+7mr0JRFDo6OggEAkxMTDAzM0MikUDXddLpNJlMhtbTrQgSLK+84J/9I3AEXC4Jy6nycu0lVybGmgP6+/uRJInx8XEEQcDtdjMyMkJLSwvZbJZyuczm5iaFQoE7d+6Q/GYI+9gmKHThOeXFsmofVvlL/nf+BcEhzmREx+HfAAAAAElFTkSuQmCC",siz:1,txt:"Add Image",fun:(A=this,function(t,e,n){return e.undo_manager.snapshot(),A.collection=A.add_item_depending_selected_tree(e.data,le),null==n&&(n=A.numpic<10?new he("composite0"+A.numpic+".png",e):new he("composite"+A.numpic+".png",e),A.numpic+=2),A.collection.add_child(n),e.data.time._max.set(A.collection._children.length-1>0?A.collection._children.length-1:0),e.data.time._div.set(e.data.time._max.get()),1===A.collection._children.length&&e.data.time.set(0),A.watch_item(e.data,A.collection),e.fit()}),key:["Shift+A"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAFeUlEQVR42p2Va2xT5xmAQ/90rZqiUan7s24MypSOduOirRQ27dbSibaUAmlpYdNo2lKGyMVNUpSQBBLnVodLEgOCQC7YxrGJHYf4EscOFQlKTBpjHJtcWgrrWAqkOM5xfEsc9uzEmiIuVTftPXp09Enfeb5Xr973OwkWi0VnNBqF/5Mxs9lsEWN+wv0xsyF2dZrYtWmmv7rzH8T1/8Dk1SkGu4ewd9ht3yqe+DyM/ec9ND5r4OTiJjqWdYv0fCf2pT10veIkMBjEZmsX7nZuWPXC9+Ni/9AEmoUWdv+ohOyFBzi2SEnTz9r+G+I3ZvyDAtZ2a2hGuGbpL+ZIP5Lskvx5c0dcPOoeo+pxBQVzK8hJLOXQPCXyJ+5inoLqb6EysYGbbh+WNksoZf3rj8qLpY1yaWHs/VfXvBAXA4xN+BEiAoFogOBUkPHQOF/f+JpAJED0TmSWyX9FiTPz3IkCoNfpItJMSe/H7/6Vv61bu2u2xgA+n48xvx//+DjjIp3N3eg/bOeCvY9QKBQnHA4TjkSIRKNEo6I4FiMcDFKQkU7G5rdJTd5g3rhqxUN3i++RCgEBxV4Ne+bI0e5vJiQKI6IwOjnF5FSMiYCfW9evcLmvi73paXz0ly2i+B3vGytXzL2nKwBu+27jsrpxNPThOu/myNY6KhJPUPOeAkEIMDU9zYTgY/C8igHbAZymKlLf2UDehx+Q+/5WzhxJN5Tt2pT4gHjkHzc4vk6FckkLtUtPU/lUA4d/oKJqfgPm/WfxOs7Rq8tFl/4GJ9KT2fHm6xRLMijYsZ09efloj+bgNOSfTX7tl4/cm/E3t1GUNbLvJzUoFrRQP19P7Y911P6wGe0rx3Gos/j72SpsC54mefky9u/ORZq2k3ZlCT12JV/01HGloxzbiR2VonbOrDgYDjLs+ZyDvzsa79HGJBOnFpnQ/l5BT2Mm33ga+KezjvfWvkh1USGlEgnGmhyEy0rGh05xy3WSm5dO0m+UxvK2r06aFV/74ivaKjow//ocxiWf0vJcB82/auV8rYRb7mOMXKhmZ/LLHJIW8UlWJs3yNHyuI9z21nO99ziD7Zs5X7+c7lMSGoo37U5oMZwRBs4McW6jA+vznZxebKbxGWM8a9tuKS11Mv6wvoa0D1I4mF9AcUYG+sod3HBUiOxj2C7jak89F81bMR5aQH9rHnWFbx5NaFI3CZbtNswrOyhPqiZ/aRn5S8opTtpPrzaDelku27IP43b2cay6Ck3FNq53lXOtsxynIYdLFhn99iP0GqQMthXh0n3MPsmagwkGvUHoMnQjz6zBqrYzeHE4ju2UhrryFErLihm9NUpnZycH87bh0GSKrbWNQ4UpWGrT6NYV8pl+L4PWEgbEbLsVqby66uk/zdZYGA8QiUaIxWKEwiHUjWpMbW1MTk5y5csvKSosQ5a5k6bKraiVtXgvD/Opppi31r3E6j/+FmdTDv26bCrSVl94MvHhx2bF4ZnJikYJBAL0fubA7x/HNzYWP6hUVoHRZEZ5tARl8SZ6msu4ZJLhOp3FvtwtLH/up3Q1pHIib61v2aJ5z9/Tx+LIxu8Dr9dDv+cSHo+boLh2e718IpNhMlvQHiuiqnQjLyl+Q/aeFxkySxk27cHdlIU86+WbK5KeWP29RxIeekA8OjqKw9GDy+XE43UzMOChtrYOtVpNn9OJRVVBnextVr61kNL89VzUZmM8sIXC1PWTC558ePHjcxPm3D/SszEyMhKXezz94rsbrVYrHuSKl6XLohRFm+lVpmI7nII8ey3GppMYTSYh4b544Geq1+sDGo0mYLVawzKZLCiXyydUKlXAYDAIWq1GOC5Ln6gqeHeiJC89oFIphdbWVmHGcb/330ijKo2XdMsXAAAAAElFTkSuQmCC",siz:1,txt:"New Collection",fun:(n=this,function(t,e){return e.undo_manager.snapshot(),n.collection=new le,e.data.selected_session()._children.push(n.collection),n.unselect_all_item(e.data),n.select_item(e.data,n.collection)})})}return n(e,pt),e}();var Rt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Rt=function(t){function e(){e.__super__.constructor.call(this),this.name="",this.actions.push({ico:"data:image/png;base64,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",siz:.9,txt:"Undo",fun:function(t,e){return e.undo_manager.undo()},key:["Ctrl+Z"]}),this.actions.push({ico:"data:image/png;base64,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",siz:.9,txt:"Redo",fun:function(t,e){return e.undo_manager.redo()},key:["Ctrl+Shift+Z"]})}return n(e,pt),e}();var It;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;It=function(t){function e(t){var A,n;this.collection_size=t,e.__super__.constructor.call(this),this.mesher="",this.name="Mesher",this.add_attr({_collection_size:collection_size}),this.actions.push({txt:"add boundary condition",ico:"data:image/png;base64,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",fun:(A=this,function(t,e){var n,i,o,r,s;for(s=[],n=0,o=(i=e.data.selected_tree_items).length;n<o;n++)(r=i[n])[r.length-1],s.push(A.collection_size.set(A.collection_size.get()+1));return s})}),this.actions.push({txt:"remove boundary condition",ico:"data:image/png;base64,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",fun:(n=this,function(t,e){var A,i,o,r,s;for(s=[],A=0,o=(i=e.data.selected_tree_items).length;A<o;A++)(r=i[A])[r.length-1],n.collection_size.get()>0?s.push(n.collection_size.set(n.collection_size.get()-1)):s.push(void 0);return s})})}return n(e,pt),e}();var Ft;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ft=function(t){function e(){var t,A,n;e.__super__.constructor.call(this),t="",this.name="Transformation",this.actions.push({ico:"data:image/png;base64,",siz:2,txt:"Start making transformation",fun:(A=this,function(e,n){var i;return n.undo_manager.snapshot(),i=n.data.get_selected_tree_items(),t=A.add_item_depending_selected_tree(n.data,de),A.child_in_selected(n,de,i,t)})}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Add a transformation node",fun:(n=this,function(e,A){var i,o,r,s,a,l,c,d,u,p,_;for(A.undo_manager.snapshot(),i=A.selected_canvas_inst()[0].div,e.clientY<be(i)?s=[0,0,0]:(l=e.clientX-xe(i),c=e.clientY-be(i),s=A.selected_canvas_inst()[0].cm.cam_info.sc_2_rw.pos(l,c)),p=A.data.get_selected_tree_items(),t=n.add_item_depending_selected_tree(A.data,de),n.child_in_selected(A,de,p,t),u=[],o=0,r=(d=A.data.get_selected_tree_items()).length;o<r;o++)(t=d[o])instanceof de&&(_=[0,0,0],a=s,t.transform.cur_points.length>=1&&(_=h.sub(t.transform.cur_points[0].pos,t.transform.old_points[0].pos),a=h.sub(s,_)),t.transform.cur_points.push(s),u.push(t.transform.old_points.push(a)));return u})}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Remove a transformation node",fun:function(e,A){var n,i,o,r,s,a;for(A.undo_manager.snapshot(),A.selected_canvas_inst()[0].cm.cam_info,s=[],i=0,o=(r=A.data.get_selected_tree_items()).length;i<o;i++)(t=r[i])instanceof de&&(t.transform.cur_points.length>0&&(a=t.transform._selected).length>0?s.push(function(){var e,i,o;for(o=[],n=e=i=a.length-1;i<=0?e<=0:e>=0;n=i<=0?++e:--e)A.undo_manager.snapshot(),t.transform.cur_points.splice(a[n],1),o.push(t.transform.old_points.splice(a[n],1));return o}()):s.push(void 0));return s}})}return n(e,pt),e}();var Mt;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Mt=function(t){function e(t){var A;null==t&&(t={}),this.onPopupClose=Ct(this.onPopupClose,this),e.__super__.constructor.call(this),this.name=null!=t.name?t.name:"Files",this.home_dir=null!=t.home_dir?t.home_dir:void 0,this.use_icons=null==t.use_icons||t.use_icons,this.use_upload=null==t.use_upload||t.use_upload,this.use_manage=null==t.use_manage||t.use_manage,this.use_share=null!=t.use_share&&t.use_share,this.use_download=null!=t.use_download&&t.use_download,this.visible=!0,this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAJdnBBZwAAACAAAAAgAIf6nJ0AAAKPSURBVEjH7dXPSyJhGAfwxxZhibDFwPYQGtstqE72Q+rQqVjoEgTRabtFEEREeuh/6BI4aBQ4aZBEUNpJ2WymmaZxRl0tZ1SItKAOWdGlyHx7S10yNngPe1r2/VyG932+39v7DsD/9bfWERzVqI0pY0naeGxkjHsfM4Q0oeoCFdTG9M9MLnP6In0qn7Ify7FB1sBWFyQhaUpl06jkFzpAfBmH8e9leRNfXSCB1CxnZfRCQiI6/COxIis2i9UFUYh+i+aiiFAOT1eiuzV8w8FX3hCxxC/iiNBFxMIbcKphtwZW9K5Feofe9uxu3W8jMlv3ayF6m95xLa7ogaqlKHvMLjmT7kcPchPAU4/OpF2yxyiKqoVVoKxUhBKXkp7CGiLjKSwlKRGnrKsATnCMOMIOcVnxFDyIUGFZcYg4NeIEcIHLTLN02K2uP60jQk9ulQ7TrMvsAvCCt8nr90obqc3iJiJU3Eh5JZxq8gL4wKfz0T7Zn/EX/YhQ0Z/xyTil8wEEIKANLgTl4EkAkQue4MRCQBsAYCEMrI2VmWwIkWOyrMzacBJAwA5+CBJ3ziJy3Lkg4RTOvl6k8HfpULjkEDnhUjrEqd8XqSfKi3kBkRPzUR6nSgUJSLTFGelOROSkuziTaEuUChRQWo5DkQcJkYs8HIeUFqVUcAaqSeFixSiKYW/vfaTs7V5pJlZUONV0VnkT5lsFRrji89z1/s3+DXvL3jKv9sqYMnyCz7lrPi9cCcx8ayWv6dBZ2yd7RweHhgfG+sf7JixTPdPdM12znXNmm9nWOdc12z3TM22Z6pvoHx8YGxoeHZzstbZ36EDz/nXXwCfQwmeoAx3UwxfQQwOmx1/1eKcOn2jxhOYf+6c9AywIEs2PE0peAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDA5LTA5LTEzVDE0OjIxOjQ2KzAyOjAwmMe/4wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAwOS0wOS0xM1QxNDoyMTo0NiswMjowMOmaB18AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",siz:.9,txt:"Open in Tree",fun:(A=this,function(t,e){var n,i,o,r,s,a,l,c,h,d;for(A.d=Ee({className:"browse_container",id:"id_browse_container"}),"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?a=FileSystem.get_inst():(a=new FileSystem,FileSystem._disp=!1),s=null!=A.home_dir?A.home_dir:FileSystem._home_dir+"/__files__",a.load_or_make_dir(s,function(n,i){return He.add_action("Mesh",function(A,n,i){var o,r,s,a,l;if(console.log("open mesh"),void 0!==Dt&&null!==Dt&&null!=e){for(l=[],o=0,r=(a=e.data.modules).length;o<r;o++)(s=a[o])instanceof Dt?l.push(s.actions[4].fun(t,e,A)):l.push(void 0);return l}}),He.add_action("TreeItem",function(t,n,i){return t.load(function(t,n){return e.undo_manager.snapshot(),e.data.selected_session().add_child(t),A.select_item(e.data,t),A.watch_item(e.data,t)})}),He.add_action("Path",function(t,n,i){return t.load(function(n,i){var o,r,s,a,l,c,h,d,u,p,_,f,m;if(t.name.ends_with(".raw"))return A.add_item_depending_selected_tree(e.data,Jt)._children.push(new Zt(t));if(t.name.ends_with(".unv")||t.name.ends_with(".csv")||t.name.ends_with(".geo")||t.name.ends_with(".stp")){for(r=new Zt(t),l=0,h=(_=e.data.get_selected_tree_items()).length;l<h;l++)("function"==typeof(a=_[l]).accept_child?a.accept_child(r):void 0)&&(a.add_child(r),o=!0);if(!o)return alert("Please select in the tree an item which accepts a file")}else if(t.name.ends_with(".jpg")||t.name.ends_with(".png")||t.name.ends_with(".tiff")||t.name.ends_with(".tif")||t.name.ends_with(".jpeg")){for((s=new he(n,e))._name.set(t.name),o=!1,c=0,d=(f=e.data.get_selected_tree_items()).length;c<d;c++)("function"==typeof(a=f[c]).accept_child?a.accept_child(s):void 0)&&(a.add_child(s),o=!0);if(!o)return alert("Please select in the tree an item which accepts an image")}else{for(r=new Zt(t),p=0,u=(m=e.data.get_selected_tree_items()).length;p<u;p++)("function"==typeof(a=m[p]).accept_child?a.accept_child(r):void 0)&&(a.add_child(r),o=!0);if(!o)return alert("Please select in the tree an item which accepts a file")}})}),He.add_action_2("Mesh",He._action_list.Mesh[0]),He.add_action_2("TreeItem",He._action_list.TreeItem[0]),He.add_action_2("Path",He._action_list.Path[0]),He.add_action_2("Directory",function(t,A,n){return t.load(function(t,A){var n,i,o,r,s,a,l,c,h,d,u,p,_;for(n=!1,r=a=0,c=t.length;a<c;r=++a)if((i=t[r]).name.ends_with(".jpg")||i.name.ends_with(".png")||i.name.ends_with(".tiff")||i.name.ends_with(".tif")||i.name.ends_with(".jpeg"))for(o=new Zt(i),l=0,h=(p=e.data.get_selected_tree_items()).length;l<h;l++)("function"==typeof(s=p[l]).accept_child?s.accept_child(o):void 0)&&(s.add_child(o),n||i.load(function(t,e){var A;return A=new S(t),s.img=A}),n=!0);else if(i.name.ends_with(".raw"))for((o=new Jt)._children.push(new Zt(i)),u=0,d=(_=e.data.get_selected_tree_items()).length;u<d;u++)("function"==typeof(s=_[u]).accept_child?s.accept_child(o):void 0)&&(s.add_child(o),n=!0);if(!n)return alert("No image can be found in this directory")})}),new He({el:A.d,model:n,initial_path:s,use_icons:A.use_icons,use_upload:A.use_upload,use_manage:A.use_manage,use_share:A.use_share,use_download:A.use_download})}),l=void 0,c=0,h=(d=e.selected_canvas_inst()).length;c<h;c++)l=d[c];return null!=l.divCanvas?(o=A.getTop(l.div),i=A.getLeft(l.div),r=l.divCanvas.offsetWidth,n=l.divCanvas.offsetHeight,n+=22):(o=100,i=100,r=800,n=500),Be("Browse Folder",{event:t,child:A.d,top_x:i,top_y:o,width:r,height:n,onclose:function(){return A.onPopupClose(e)}}),e.active_key.set(!1)})})}return n(e,pt),e.prototype.getLeft=function(t){return null!=t.offsetParent?t.offsetLeft+this.getLeft(t.offsetParent):t.offsetLeft},e.prototype.getTop=function(t){return null!=t.offsetParent?t.offsetTop+this.getTop(t.offsetParent):t.offsetTop},e.prototype.onPopupClose=function(t){return document.onkeydown=void 0,t.active_key.set(!0)},e}();var zt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;zt=function(t){function e(){var t,A,n,i;e.__super__.constructor.call(this),this.name="Compute",this.visible=!0,t=function(t){return t.data.focus.get()!==t.treeview.process_id},n=function(t){var e,A,n,i,o,r;if(null!=t.treeview.flat)for(i=0,o=(r=t.treeview.flat).length;i<o;i++)if((n=r[i]).item instanceof ft&&(e=n.item._computation_mode.get(),A=n.item._computation_state.get(),!1===e&&!0===A))return!0;return!1},i=function(t){var e,A,n,i,o,r;if(null!=t.treeview.flat)for(i=0,o=(r=t.treeview.flat).length;i<o;i++)if((n=r[i]).item instanceof ft){if(e=n.item._computation_mode.get(),A=n.item._computation_state.get(),!1===e&&!1===A)return!0;if(!0===e)return!0}return!1},A=function(t){var e,A,n,i,o;if(null!=t.treeview.flat)for(n=0,i=(o=t.treeview.flat).length;n<i;n++)if((A=o[n]).item instanceof ft&&(e=A.item._computation_mode.get(),A.item._computation_state.get(),!0===e))return!0;return!1},this.actions.push({txt:"Manual Compute",ico:"data:image/png;base64,",ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],n=0,i=(o=e.treeview.flat).length;n<i;n++)(A=o[n]).item instanceof ft&&r.push(A.item._computation_mode.set(!1));return r}}),this.actions.push({txt:"Build",ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ04CWpsETwAAAPaSURBVEjH3VVdbBRVFP7u7s52+1/2tdL1kSYWlaiJ2u2PbWrxSUojRnlQqDWSQtUHjTHRmCBNMfxUTYxQwDT4Q5T2QQmltOzCVpBEXrrFl5ogjQXdtjPd2Z+Ze+7MXB+22y5uW+BRT/LN3Llz7v3mu+fMOcB/3dhaLy9FxlEXrMUPpwf9fr8/yBgrAQDHkUlNUyPtW9vUyPg4grW198c6ODQEADg3cr41Onl9Ymbmlvzr79gSbt2+LW/8cVNOXv9tYnTsQisAnB0+d28KRkZH0dLcjJ8vXwkFAlUNtu1IzjkDAMaW3aWUkBlj8/Pz4aeferJxZHQMLc1NqxOcHhzC1rYt+OXq1ZuVlQ9UxePxe1IspYSmadN1wdrAya+/wfaXX1pdQSh8MRQIBBpUTQNjDEY6jaLiYkDKNUkcx0EsNht+bvOzjSsq+Pa7U7Asq3XTpkfPxuM6GGNQVRWPPLwRExNRVKxbd1clpmkiFottltIZfnHbtnwFo2NjE77Coodsy2IAkEyl8ExDPaSUiEajiM3OobyiAo7j5EmXmYtU1fnJti3Pb8zOu7KDvXt7/G63pyaVTDHOCZwTBAkAgGVZqK6uxhOPP4akriOVTCHrkwVxAhExj0epOXDosD+PoLyiPCiEgBAEIg4iDiHojszx+Xyor6/D+vWVmJ2LQVgCfNE3C9uxUVRYGMyu8eRkQommLcCjLE2BFhUsBYwx2LaNQFUVHgwEcCEUhuNISCwngGVZEJZVkkdAgkBEcBxnyVkIWr0EMAbbtkDCQs7+sGwLRMvrlgmIknxR4jKpyMt3j8eDqakpjF++gtKyMsicD8oqIE7JPIIFbSFSWlKKgoKCHAUCOSEAEeHHn85gIa7Dq3jBDTNPmWEamJubi+QFeX9vj6on9CjnXHLi4ESgxSNSFAW/XruGE18NYCGuQ0oHnOhf4OCcy0QiET144BM1u687O/jgw49gGMYNF3NtBwNs20Y6lUb1hg0YGDiJP2dm4HK5YdsWbNteEWkjzRK6/kpjU9Pvly6GVy4V7773fqisrKwhezTpdBrFxcWQa5YKBikd6Loe7u3Zd0epcOU+7Orajd6ejxs1TZs2TQ4iAY9byfxIJPLBM3fTNKGq2nRvz77GXV271y7X3W++jb7DB9G1pzvk8xU2KIoiV2tMEpBCCMYN4/znn/W17Ol+C5/2Hbp7R3t1RwdOHO/Hzo7OVsXr3e/1KjUul3vJWQJwbBtEFBWC3jnWf3T4tdffwNEvv7i/lrmjoxPH+4+gvf0Fv6+oMMiQaZkSMpk2zMjg96fUnR2dONZ/BP9f+wfw8EzPD+V7OAAAAABJRU5ErkJggg==",ina:n,fun:function(t,e){var A,n,i,o,r;for(r=[],n=0,i=(o=e.treeview.flat).length;n<i;n++)(A=o[n]).item instanceof ft&&r.push(A.item.do_it());return r},key:["X"]}),this.actions.push({txt:"Auto Compute",ico:"data:image/png;base64,",ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],n=0,i=(o=e.treeview.flat).length;n<i;n++)(A=o[n]).item instanceof ft&&r.push(A.item._computation_mode.set(!0));return r}}),this.actions.push({txt:"Already computed",ico:"data:image/png;base64,",bnd:function(t){return t},loc:!0,vis:i,fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,n=(r=e.data.selected_tree_items).length;A<n;A++)(o=r[A]).length>1&&((i=o[o.length-1])instanceof ft?(i._computation_mode.set(!1),s.push(i._computation_state.set(!1))):s.push(void 0));return s}}),this.actions.push({txt:"Set Item to manual compute",ico:"data:image/png;base64,",loc:!0,bnd:function(t){return t},vis:n,fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,n=(r=e.data.selected_tree_items).length;A<n;A++)(o=r[A]).length>1&&((i=o[o.length-1])instanceof ft?(i._computation_mode.set(!1),s.push(i.do_it())):s.push(void 0));return s}}),this.actions.push({txt:"Set Item to auto compute",ico:"data:image/png;base64,",loc:!0,bnd:function(t){return t},vis:A,fun:function(t,e){var A,n,i,o,r,s;for(s=[],A=0,n=(r=e.data.selected_tree_items).length;A<n;A++)(o=r[A]).length>1&&((i=o[o.length-1])instanceof ft?(i._computation_mode.set(!0),s.push(i.do_it())):s.push(void 0));return s}}),this._toggle_inactive=function(t){var e,A,n,i,o;for(e=0,A=(o=t.data.selected_tree_items).length;e<A;e++)if((i=o[e]).length>1&&(n=i[i.length-1])instanceof ft)return n.nothing_to_do()||1===n._computation_mode.get()||n._computation_mode.get(),!0;return!1}}return n(e,pt),e}();var Lt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Lt=function(t){function e(){var t;e.__super__.constructor.call(this),this.name="Structure Computation",this.visible=!0,t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)&&t.data.focus.get()!==t.treeview.process_id},this.icon_app=new Lst,this.actions.push({ico:"data:image/png;base64,",siz:1.8,txt:"Structure Computation",ina:t,fun:function(t,e){}})}return n(e,pt),e}();var Dt;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Dt=function(t){function e(){var t,A,n,i,o,r,s,a;this.create_mesher=Ct(this.create_mesher,this),e.__super__.constructor.call(this),this.name="Sketch",n=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)&&t.data.focus.get()!==t.treeview.process_id},A=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)},t=function(t){return null==t.sub},this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Transform line to curve",ina:n,ctx:t,fun:function(t,e){var A,n,i,o,r;for(e.undo_manager.snapshot(),r=[],A=0,i=(o=e.data.get_selected_tree_items()).length;A<i;A++)(n=o[A])instanceof se&&(null!=n.mesh?r.push(n.mesh.make_curve_line_from_selected()):r.push(void 0));return r},key:["Shift+C"]}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Break curve to line",ina:n,ctx:t,fun:function(t,e){var A,n,i,o,r;for(e.undo_manager.snapshot(),r=[],A=0,i=(o=e.data.get_selected_tree_items()).length;A<i;A++)(n=o[A])instanceof se&&(null!=n.mesh?r.push(n.mesh.break_line_from_selected()):r.push(void 0));return r},key:["Shift+B"]}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Create a cube",ina:A,ctx:t,fun:(o=this,function(t,e){var A,n,i,r,s,a,l,c,h,d;for((h=o.add_item_depending_selected_tree(e.data,se)).mesh.visualization.display_style.set("Wireframe"),h.mesh.move_scheme=C,n=h.mesh.points.length,i=0,r=(c=[[-.333,-.333,-.333],[.333,-.333,-.333],[.333,.333,-.333],[-.333,.333,-.333],[-.333,-.333,.333],[.333,-.333,.333],[.333,.333,.333],[-.333,.333,.333]]).length;i<r;i++)A=c[i],l=e.selected_canvas_inst()[0].cm.cam.get_screen_coord(A),h.mesh.add_point(l);return s=[new q([n+0,n+1]),new q([n+1,n+2]),new q([n+2,n+3]),new q([n+3,n+0]),new q([n+0,n+4]),new q([n+1,n+5]),new q([n+2,n+6]),new q([n+3,n+7]),new q([n+4,n+5]),new q([n+5,n+6]),new q([n+6,n+7]),new q([n+7,n+4])],d=function(){var t,e,A,n;for(n=[],t=0,e=(A=[[-1,0,-1,1,-1,2,-1,3],[1,0,1,5,-1,8,-1,4],[1,1,1,6,-1,9,-1,5],[1,2,1,7,-1,10,-1,6],[1,3,-1,7,-1,11,1,4],[1,8,1,9,1,10,1,11]]).length;t<e;t++)a=A[t],n.push(new et([{o:a[0],e:s[a[1]]},{o:a[2],e:s[a[3]]},{o:a[4],e:s[a[5]]},{o:a[6],e:s[a[7]]}]));return n}(),h.mesh.add_element(new it([{o:-1,e:d[0]},{o:1,e:d[1]},{o:1,e:d[2]},{o:1,e:d[3]},{o:-1,e:d[4]},{o:1,e:d[5]}]))})}),i={ico:"data:image/png;base64,",siz:1,txt:"Create Shape",ina:n,ctx:t,sub:{prf:"list",act:[]},key:["M"]},this.actions.push(i),i.sub.act.push({ico:"data:image/png;base64,",siz:1,txt:"Create a square",ina:n,ctx:t,fun:(r=this,function(t,e){var A,n,i,o,s,a,l;for(e.undo_manager.snapshot(),r.create_mesher(e),(l=r.add_item_depending_selected_tree(e.data,se)).mesh.visualization.display_style.set("Wireframe"),l.mesh.move_scheme=N,n=l.mesh.points.length,i=0,o=(a=[[-.333,-.333],[.333,-.333],[.333,.333],[-.333,.333]]).length;i<o;i++)A=a[i],s=e.selected_canvas_inst()[0].cm.cam.get_screen_coord(A),l.mesh.add_point(s);return l.mesh.add_element(new et([{o:1,e:new q([n+0,n+1])},{o:1,e:new q([n+1,n+2])},{o:1,e:new q([n+2,n+3])},{o:1,e:new q([n+3,n+0])}]))})}),i.sub.act.push({ico:"data:image/png;base64,",siz:1,txt:"Create a disc",ina:n,ctx:t,fun:(s=this,function(t,e){var A,n,i,o,r,a,l;for(e.undo_manager.snapshot(),s.create_mesher(e),n=(l=s.add_item_depending_selected_tree(e.data,se)).mesh.points.length,i=0,o=(a=[[-.33,0],[0,.33],[.33,0]]).length;i<o;i++)A=a[i],r=e.selected_canvas_inst()[0].cm.cam.get_screen_coord(A),l.mesh.add_point(r);return l.mesh.add_element(new et([{o:1,e:new Z([n+0,n+1,n+2,n+0])}])),l.mesh.visualization.display_style.set("Wireframe")})}),i.sub.act.push({ico:"data:image/png;base64,",siz:1,txt:"Create a Triangle edge",ina:n,ctx:t,fun:(a=this,function(t,e){var A,n,i,o,r,s,l;for(e.undo_manager.snapshot(),a.create_mesher(e),n=(l=a.add_item_depending_selected_tree(e.data,se)).mesh.points.length,i=0,o=(s=[[0,.33],[-.33,-.333],[.33,-.333]]).length;i<o;i++)A=s[i],r=e.selected_canvas_inst()[0].cm.cam.get_screen_coord(A),l.mesh.add_point(r);return l.mesh.add_element(new et([{o:1,e:new q([n+0,n+1])},{o:1,e:new q([n+1,n+2])},{o:1,e:new q([n+2,n+0])}])),l.mesh.visualization.display_style.set("Wireframe")})}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Delete Point",ina:A,ctx:t,fun:function(t,e){var A,n,i,o,r,s;for(e.undo_manager.snapshot(),A=e.selected_canvas_inst()[0].cm.cam_info,s=[],n=0,o=(r=e.data.get_selected_tree_items()).length;n<o;n++)(i=r[n])instanceof se&&(null!=i.mesh?s.push(i.mesh.delete_selected_point(A)):s.push(void 0));return s},key:["Del"]})}return n(e,pt),e.prototype.create_mesher=function(t){var e,A,n,i,o,r,s,a,l;for(e=!0,A=!1,n=0,r=(a=t.data.get_selected_tree_items()).length;n<r;n++)if((i=a[n])instanceof DiscretizationItem&&(A=!0,i._children.length>0))for(o=0,s=(l=i._children).length;o<s;o++)l[o]instanceof ae&&(e=!1);if(!1===A&&(e=!1),!0===e)return this.add_item_depending_selected_tree(t.data,ae)},e}();var Ut;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ut=function(t){function e(){var t,A,n;e.__super__.constructor.call(this),this.name="Windows",t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)},this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"Close current view",ina:t,fun:function(t,e){return e.undo_manager.snapshot(),e.data.rm_selected_panels()},key:["Shift+X"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",siz:1,txt:"Vertical Split",ina:t,fun:(A=this,function(t,e){return A.split_view(t,e,0)}),key:["Shift+V"]}),this.actions.push({ico:"data:image/png;base64,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",siz:1,txt:"Horizontal Split",ina:t,fun:(n=this,function(t,e){return n.split_view(t,e,1)}),key:["Shift+H"]})}return n(e,pt),e.prototype.split_view=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u,p,_;for(e.undo_manager.snapshot(),n=void 0,i=void 0,r=0,a=(d=e.data.selected_tree_items).length;r<a;r++)(_=(c=d[r])[c.length-1])instanceof te&&(n=_.cam,i=_);for(o=e.data.selected_display_settings(),p=[],s=0,l=(u=e.data.selected_canvas_pan).length;s<l;s++)h=u[s],e._next_view_item_cam=n,e._next_view_item_child=i,p.push(o._layout.mk_split(A,0,h,.5));return p},e}();var Qt;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Qt=function(t){function e(){var t,A,n,i,o,r,s;this.clear_timer=Ct(this.clear_timer,this),this.run_timer=Ct(this.run_timer,this),e.__super__.constructor.call(this),this.play_state=!1,this.add_attr({img_per_sec:2,right:!0}),this.name="",this.timeline=!0,t=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)&&t.data.focus.get()!==t.treeview.process_id},this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ05NsURDUAAAAPsSURBVEjH3VVNTFxVFP7ue/NehykBMzsC6Systo1iYjemlWkgEgRXlhJr1I0tYmxoURcaY6I21hJq+oOaGFuKXYi10cIS2oJgZ6p2C1RWWoG01SnMY2aAefe8++PiDQNkCrZLPcnNu/e8e+93vnPOPQf4rwtb7+fVWBy7olX44WJvOBwORxljxQCglJ53nGSsaU9jMhaPI1pV9WCovX19AIBLl6/Uj43fGL1167b+6+9Efty+c0ff/HNSj9/4bXRw6Md6AOgfuHR/DC4PDqKuthbXfv5lOBLZVC2l0pxzBgCMLW/XWkP7wmZnZ0ee3rmj5vLgEOpqn1kb4GJvH/Y07sav169PlpdXbEqlUvfFWGsNx3GmdkWrIt/0fItXXn5pbQbDIz8NRyKR6qTjwGAMzDD8S5RaF0QphUTi7shzDc/W3JPB+e8uQAhRv337k/2pVBqMMSwuLiIY3AAAcF2OUCi06lLXdSGlwMaNxfl1IpFo0FoNvLh3byGDwaGh0WBR6HEpBGOGgaBtY+vWLQCAiYkJcE9AKwVmGHCSDrY8uhnpTAYuJyilAA2dTM6ON+5+/omlO42lyZEj7WHTDFQuzC8wzgnECRp6KZgAYyBO4Jwwe3cGO3c8hbKyMmitQbn9RMQCAavy+MlT4QKA0odKo57nwfMIRBycOJRc9ruSCql0CqbJUFdXC9u283pOHJQbUkmEioqiS+cCKzKh2HHmELB8lcEMSCXzANlsFo9t24aKinIIIcAYg9YaUkkQJyjtGyOEgCdEcQEAeQSinC8BMINBrmSgFQyj8OHLHAOttA8gBYgIBS4ionmec41PmSDlMgPDMDFyNY54/Bosy/LjAkBKCSLKn+OcgzjNFwDMOXOx7GI2HzDuEtQKACUlGBgmp6bR03Menifyeu5S/tzCwgJmZmZiBQDHOtqT6Ux6jHOul6wRQuQBhBA+M88D9zx0nzuHqelpKK1WWq8zmczYieOfJgse2gcfHgZ5VF9aUtpvb/AzxDRNPLL5YSil8PsfN1e5DAC4y2EGTAQCfig550inUg2WbQ98fPije5eKd997f7ikpKTar2ssX+B8n+s1q77WCul0eqSj/eiqUmGsXBxoPYiO9k9qHMeZcl0/0NzNBY4IRN7qwf2v67pIJp2pjvajNQdaD65frtvefBudp06g9VDbcDBYVG1Zll6rMWlAe57HeDZ75YvPO+sOtb2FzzpP/ntHe3VfM77u7sL+5pZ6y7aP2bZVaRhmfrPOZQ8RjXkevXO268zAa6+/gTNffflgLXNfcwu6u06jqemFcDBUFGXwW6aGnl/MurHe7y8k9ze34GzXafx/5R9/KnJND6QWgwAAAABJRU5ErkJggg==",siz:.9,ord:!1,ina:t,txt:"Go to First Image",fun:(A=this,function(t,e){return e.data.time.set(e.data.time._min),A.clear_timer()}),key:["Shift+1"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ4AJDpqT+sAAAPoSURBVEjH3VVbTBxVGP7O7M4IhILuk00r+266D/bFatnKWgqLb7ZE6uXFFjE2tKgPGmOiNtYSML2gJsZCqXdtLKC+QCkVdPHS19LWx7Yk7cICO8zsLjvnP2fm+DCwLVmo8Kgn+TMz/+37L2f+H/ivH3Yv4W+JceyIVuNcX38oFApFGWPlAOB5Kmua6UTjnt3pxPg4otXV60PtHxgAAJwfvhCfuHL18q1bt9XUdKpAt5NJdf3GTXXl6rXLIxd/iQPA4ND5tWUwPDKCutpa/P7Hn6PhcFWN63qKc84AgLE76kopKP+wubm5se2PPxYbHrmIutqdqwP09Q9gz+6n8delSzc3bdpcZVnWmjJWSsE0zckd0erw1998ixeef271DEbHfh0Nh8M1adOExtiay+p5HlKpmbGnGupjK2bw3fdnIaWMb936yKBl2cvKAQCapmF2ZgYPhEIFGWNAJpOFYRgwDAOO4yCVSjUo5Q3tbWry7ZYcPLu3CRs3PthpzltKCAEiAhGBE4GEwNTUFLZtexTJZBJEBCEEklPTiGx5GBk7A04ExjSl63rnkvNlAEeOtIcCgWAkl80xzgkFcjgytoVdtTuhaRqEEBBCIjU9jSeqt2PDhgoIKUCcQEQsGNQjx06cDBUBVN5fGfWNCUQcnDiyuSx0PYAnYzEIIcAYA5GAZZmoq9uFQDAIxpgPQBxEHK7noqy0NLrkN3jXTSg3zXkEdZ/lShdVD21GJLIFUso7PVEe4vX1y3hSSPAA+e9SQkhZXgRAwq+553m+oiuhlFd0W6Qri3lCgjEqyImouAdElOWLpeHE4bouJq79jURiHLquQykFAJi3bJzr64emaQWekKJgxzkHccoWAcyb84n8Qt5v1iIpT+H6jUn8+NPPMAzDD4QTSEh88eVXhWyFlAWbXC6H2dnZRBFAZ0d72s7YE5xz5Ufjl0y6ArNzafSe+RyMMXDO4TgOwDR09/TCtm24Ui5FrzKZzMTxYx+mi360d949DBIUr6yoHDTuM4qHFmPIZrIoLSuDprGCeT6/AEM3EAgGwDmHbVkNumEMvX/4vZVHxZtvvT1aUVFRs44pAYBBKQ+2bY91tB9dNiq0uz8OtB5ER/sHMdM0Jx2Hg0iAuPCfK9GizHEcpNPmZEf70diB1oP3Htdtr76OrpPH0XqobbSkpLRG13W12mJSgBJCMJ7PX/jk4666Q22v4aOuE/++0V7c14wzvT3Y39wS1w2j0zD0iKYFCsoKgOe6IKIJIeiN0z3dQy+9/Aq6P/t0fStzX3MLentOobHxmVBJWWmUwV+ZCiq7kHcS/T+cTe9vbsHpnlP4/55/APMGZWqwyzAaAAAAAElFTkSuQmCC",siz:.9,ord:!1,ina:t,txt:"Rewind",fun:(n=this,function(t,e){if(e.data.time.get()>0)return e.data.time.set(e.data.time.get()-1),n.clear_timer()}),key:["Shift+2"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ04CWpsETwAAAPaSURBVEjH3VVdbBRVFP7u7s52+1/2tdL1kSYWlaiJ2u2PbWrxSUojRnlQqDWSQtUHjTHRmCBNMfxUTYxQwDT4Q5T2QQmltOzCVpBEXrrFl5ogjQXdtjPd2Z+Ze+7MXB+22y5uW+BRT/LN3Llz7v3mu+fMOcB/3dhaLy9FxlEXrMUPpwf9fr8/yBgrAQDHkUlNUyPtW9vUyPg4grW198c6ODQEADg3cr41Onl9Ymbmlvzr79gSbt2+LW/8cVNOXv9tYnTsQisAnB0+d28KRkZH0dLcjJ8vXwkFAlUNtu1IzjkDAMaW3aWUkBlj8/Pz4aeferJxZHQMLc1NqxOcHhzC1rYt+OXq1ZuVlQ9UxePxe1IspYSmadN1wdrAya+/wfaXX1pdQSh8MRQIBBpUTQNjDEY6jaLiYkDKNUkcx0EsNht+bvOzjSsq+Pa7U7Asq3XTpkfPxuM6GGNQVRWPPLwRExNRVKxbd1clpmkiFottltIZfnHbtnwFo2NjE77Coodsy2IAkEyl8ExDPaSUiEajiM3OobyiAo7j5EmXmYtU1fnJti3Pb8zOu7KDvXt7/G63pyaVTDHOCZwTBAkAgGVZqK6uxhOPP4akriOVTCHrkwVxAhExj0epOXDosD+PoLyiPCiEgBAEIg4iDiHojszx+Xyor6/D+vWVmJ2LQVgCfNE3C9uxUVRYGMyu8eRkQommLcCjLE2BFhUsBYwx2LaNQFUVHgwEcCEUhuNISCwngGVZEJZVkkdAgkBEcBxnyVkIWr0EMAbbtkDCQs7+sGwLRMvrlgmIknxR4jKpyMt3j8eDqakpjF++gtKyMsicD8oqIE7JPIIFbSFSWlKKgoKCHAUCOSEAEeHHn85gIa7Dq3jBDTNPmWEamJubi+QFeX9vj6on9CjnXHLi4ESgxSNSFAW/XruGE18NYCGuQ0oHnOhf4OCcy0QiET144BM1u687O/jgw49gGMYNF3NtBwNs20Y6lUb1hg0YGDiJP2dm4HK5YdsWbNteEWkjzRK6/kpjU9Pvly6GVy4V7773fqisrKwhezTpdBrFxcWQa5YKBikd6Loe7u3Zd0epcOU+7Orajd6ejxs1TZs2TQ4iAY9byfxIJPLBM3fTNKGq2nRvz77GXV271y7X3W++jb7DB9G1pzvk8xU2KIoiV2tMEpBCCMYN4/znn/W17Ol+C5/2Hbp7R3t1RwdOHO/Hzo7OVsXr3e/1KjUul3vJWQJwbBtEFBWC3jnWf3T4tdffwNEvv7i/lrmjoxPH+4+gvf0Fv6+oMMiQaZkSMpk2zMjg96fUnR2dONZ/BP9f+wfw8EzPD+V7OAAAAABJRU5ErkJggg==",siz:.9,ord:!1,ina:t,txt:"Play",fun:(i=this,function(t,e){if(!1===i.play_state)return i.play_state=!0,e.data.time.get()===e.data.time._max.get()&&e.data.time.set(0),setTimeout(i.run_timer,1e3/i.img_per_sec,e)}),key:["Shift+3","Space"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ4BB4EWD9gAAAO8SURBVEjH3VVNTFxVFP7um18mFMxsazoLNdZUTOzKVqaBSHBwZSmxRt3YIsaGFnWhMSZqY+2Emv6gJsaW1o1/jRaWUAoOOlDtFqjjRmtJ2uoI7zEDhXfP/XPxZqYMM9R2qSe5i3vueee733fuOwf4rxu73eGP6QnsiDfiu3MD0Wg0GmeM1QKA1mbJcex0x652Oz0xgXhj492hDgwOAgDOj1xITM9cnrp27br5869saV2/ccNc+eOqmbn8y9To2PcJABgaPn9nDEZGR9Ha0oLJiz+lYrFNTUppwzlnAMDYrXBjDIxnbH5+fvzx7duaR0bH0NryxPoA5wYGsat9J36+dOnqxo33bsrlcnfE2BgDx3Fmd8QbY198+RVeeP659Rmkxn9IxWKxJttxYDEGZlm3EmntfVTFp7VGNvv3+FNtTzZXZfD1N2chpUxs3froUC6XB2MMy8vLCIdDgPHkcV0XABAOh2GMARjguhyRSAQA4LoustlsmzF6+NnduysZjI6NTYVrIg8rKRmzLISDQWze/CAAwO/3Y3LyIphlYfu2xyClBABkMhlwIaG1BgyMbc/PtO98+pFizhLXQ4eSUZ/P33Bz6SbjnECcYGC8m5aKCmily3xgDFSIJyLm9wcajh4/Ea0AqL+nPi6EgBAEIg5OHFrpsvoIKSCkKPNppcGJgwpLaYVITU28eO5f9RJqHWcB/oDnspgFpVVZsqIsq01pBeIEbXQpRkhZWwFAgkBEnpYAmMWgqjCoACgwMNqTTSoJIkIlANESL1AEAMuyoNQaBqIKA6XKLialBHFaqgBYcBbSG2o3IBQKeQyYBb0GQFQB0EqBuwRTkGjFXcHc3Fy6oshHepN2fjE/zTk3vFDkoubGGDDGSoVkjJVekpQSxXjOuVlcXJw+dvRDu+JHe+fdgyBBifq6+qFgKAgA8Pl8eOD++8AYgxASmcyvAIAtWx6Cz+eDUgq//X6lJCXnHPlcri0QDA6/f/C96q3izbfeTtXV1TV5fY2taXC6JN/qPlQ8y+fz473Jw2Wtwlq92de9H73JD5odx5l1XQ4iAnc5OPcWkQCRKO15IcZ1Xdi2M9ubPNy8r3v/7dt1z6uvo+/EMXQf6EmFwzVNgUDArDeYDGCEEIyvrFz45OO+1gM9r+GjvuP/PtFe3NOJz8/0Y29nVyIQDB4JBgMNluUrBZvC6yGiaSHojdP9p4ZfevkVnPrs07sbmXs6u3Cm/yQ6Op6JhiM1cQZvZBqYpeUVNz3w7Vl7b2cXTvefxP/X/gErE0R6J5atMAAAAABJRU5ErkJggg==",siz:.9,ord:!1,ina:t,txt:"Pause",fun:(o=this,function(t,e){return o.clear_timer()}),key:["Shift+4"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ07N4AgX1QAAAPySURBVEjH3VVNTFxVFP7uY96DITNgJjah1nT2RhZ20VbLUBCEwZ0tkfqzaYsYG1rUhcaYqI21BEx/UBNjC9SFtW0soG6glAp08Kfb0rrVktCh4zBv5jEw755737su5keagUqXepKT9945597vfu+eH+C/LuxBzuuRGdSGanB5aDgQCARCjDEfALiuSptmItK6d08iMjODUE3Nw6EOj4wAAK6MXw3P3rp9c37+rlq4Fyvo3WhU/fHnHXXr9u83J679FAaA0bErG2MwPjGBpsZG/PzLr5PB4NY6x3EV55wBAGP/hCuloLLCFhcXp3Y983T9+MQ1NDU2rA8wNDyCvXtewG83btzZsuXxralUakOMlVIwTXOuNlQT/Ob8t3j1lZfXZzA5NT0ZDAbrEqYJjbEN/1bXdRGL/TX1fEtz/ZoMLly8BClleNu2p0ZTKQtCCBAR/H4flFp10kQCj27aBNd1i0Bs20YsFmtRyh3b19YGANDyzpf2tWHz5qpeM5lSQggsWUuofvIJRBfuFcCi0Sh27tyBhYUFkBDgRKCcciIwpild13vzm98HcOxYd6CkxFO9nF5mnBOEFPD7K1BbswvxeBxCSAghoGkanmtswEo6DTtjg3MC5wTiBCJiHo9efeLU6UARQOUjlSEhBIQgEHEIKcAYg8fjQWPDs0ilTBBlbUII7N5dC8PwIL2cBicOyqnjOij3ekNFAEopn2kmwXN0pZDIp6ZSCuHmZkC5YIyBMQYpJXZs347HqqqQWckU1hERhJS+/L6e/AuJrDN/eXmA1SIduUaKuuDE4XE8hRgiQjEAUZrnKAKAI2UhczRNw+WhYSRTVsFmGAamp69jbn4ehq7DcbLrpJQgTukigKSZjPh9fpSWlmbzWmWZOI6L8xcuQtcNEM+ezDAMfP/Dj0gmLWglWsEOABk7g3g8Him6g96e7oS1ZM1yzhUnDkdKWJaF/oFBuK6CbdvgnIMxhsFzXyO+mIB0RCFFOXFwztXS0tLsyROfJooK7YMPj4IEhSsrKkeNUgOOdECC4PWWA1C5alXIrKzA5/dB5atvlXDOYaVSLbphjH189KO1W8W7770/WVFRUfcQXQIAg1IuLMua6uk+fl+r0FZ/HOo8jJ7uT+pN05yzbQ4iAeIi+1xLcz7btpFImHM93cfrD3UefnC77nrzbfSdPonOI12TZWXeOl3X1XqDSQFKCMF4JnP1i8/7mo50vYXP+k79+0Tbf6Ad5wb7cbC9I6wbRq9h6NWaVlIIVgBcxwERzQpB7wz0nx177fU3cParLx9uZB5o78Bg/xm0tr4YKCv3hhiyI1NBpVcydmT4u0uJg+0dGOg/g/+v/A2/iWrBMlPeuQAAAABJRU5ErkJggg==",siz:.9,ord:!1,ina:t,txt:"Forward",fun:(r=this,function(t,e){if(e.data.time.get()<e.data.time._max.get())return e.data.time.set(e.data.time.get()+1),r.clear_timer()}),key:["Shift+5"]}),this.actions.push({ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ05BuPIPewAAAPzSURBVEjH3VVNTFxVFP7um5k3j3EKdnakppPYmroQ03ZjWpkGIuHHlaXEGnXTlmJsaFEXGmOiNtYSavqDmhhbipr411hgCaUg6EBrt0DbaLQtYFscYB4zDMy7/y7mzQiZgu1ST3Jz7zv3vvPd75xzzwH+60JW2/w5OoQdkVKc7+gMhUKhCCEkCABK6ZRtx6N1u2rj0aEhREpLHwy1s6sLAHCh92L16NjVkdu37+ipv2K5cefuXX3z1rgeu3ptpK//x2oA6O65cH8Mevv6UFlRgeFLlwfC4fVlUipNKSUAQMg/x7XW0Bkhs7Ozg09v31be29ePyopnVgbo6OzCrtqd+OXKlfF16x5Zn0gk7oux1hq2bU/siJSGv/7mW7z80osrMxgY/GkgHA6XxW0bBlk5RMQwMsaVQiYuCrHY9OCzNVXl92Tw3ffnIISo3rp1S3cikQQhBAsLKXg8XliWtcz44uIiLMsPAHAcikAg4K4dxGKxGq1Vzwu7d+cz6OvvH7EKAk9IIQgxDAQsC8HgQ/j1t9+xNrQWWikQw4DlN/H4pk0AgGvXr4NxAaUUoKHj8dmx2p3PPZm1aWQXR440hzweb8lCaoFQysAog1QSxcXF2L7tKcxOTyOrdwMMrTUIIWCunjFGvF5fyfGTp0J5AEUPF0U45+CcgTEKyiiUzPjXNE1UVVXCskwkkomcHgCUVKCMgrlDKolAQUEku+9dkglB256D15dRGcSAVBLZ9BRCYMvmzZiamsLk5J85AKkkGGVQOgMqhAAXIpgHwDgDYyzjSwDEIJBLbro0JbPGAEC6DLTSGQApwBhDPgBjKepSBADDMCClzBk1TR+Ghy/jxq1xbNzw6BIAuexiQggwylJ5AHP2XHRNcA38fr/rFgPKBeCc43xHF7gQ8BienD4TAwnqMGiXVdpJY2ZmJpoX5GMtzfHkfHKUUqppNshaYWJyEu1ffoW044BzDsoohBA5ACEEsucppXp+fn70xPGP4nkP7d33DoNxVl1UWNRt+s3cz1JI+N1HlRWPx4PHNm6AUgp/3LiZcyWlFMlEosZnmj0fHH7/3qXirbffGSgsLCwjZPUqny18Wmt3Vkgmk4MtzUeXlQpj6ceBxoNoaf6w3LbtCcehYIyDUZ6Zlw0GSimoQ8EYg+M4iMftiZbmo+UHGg+uXq6bXnsDradOoPFQ04BlFZT5fD69UmPSgOacE5pOX/z0k9bKQ02v4+PWk//e0fbsrccX7W3YV99Q7TPNY6bpKzEMT+6wdrOHMTbKOXvzbNuZnv2vvIozn3/2YC1zb30D2ttOo67u+ZAVKIgQZFqmhk4tpp1o5w/n4vvqG3C27TT+v/I3Wa5Y3bqRT/cAAAAASUVORK5CYII=",siz:.9,ina:t,txt:"Go to Last Image",fun:(s=this,function(t,e){return e.data.time.set(e.data.time._max.get()),s.clear_timer()}),key:["Shift+6"]}),this.actions.push({mod:function(t){return t.data.time},siz:1})}return n(e,pt),e.prototype.run_timer=function(t){return t.data.time.get()<t.data.time._max.get()&&!0===this.play_state?t.data.time.get()===t.data.time._max.get()?this.clear_timer():(t.data.time.set(t.data.time.get()+1),setTimeout(this.run_timer,1e3/this.img_per_sec,t)):this.clear_timer()},e.prototype.clear_timer=function(){return this.play_state=!1},e}();var Tt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Tt=function(t){function e(){var t,A,n,i;e.__super__.constructor.call(this),this.name=" ",t=function(t){var e,A,n;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])&&null!=(n=A.cm)?n.process_id:void 0)},this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90JFAs3HDhMFHIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAh0lEQVQ4y+2UMQoEIQxFk+WfIkU6b+V5LLyiXQpPEXCq2dVBGNy1m02V+MND4SG31mhn4WxCCM3dPwFA7s4AhvMpBKBSCg/AlBKp6nvJzEhVycyWbvg6mx42m5eBu+rJwFrrEFznZQ9FhPtARH4DxhinYuecvwP+xX6y2ADuVel2ePePvf3JBxY+Odo/jSlIAAAAAElFTkSuQmCC",siz:.9,txt:"Scientific framework",fun:function(t,e){var A;return e.data.display_scientific_framework(),A=e.data.selected_display_settings(),e.data.update_associated_layout_data(A),alert("ok scientific")}}),this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",siz:.9,txt:"Standard framework",fun:function(t,e){var A;return e.data.display_scientific_framework(),A=e.data.selected_display_settings(),e.data.update_associated_layout_data(A),alert("ok standard")}}),this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",siz:1,txt:"Vertical Split",ina:t,fun:(n=this,function(t,e){return n.split_view(t,e,0)}),key:["Shift+V"]}),this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wBEgwmOfuZMhgAAAIISURBVFjDxZexihNRFIa/c++5yQTRFFoIwiBilV4bYWsxFhZZ7HwBwScQBfEJBF/CLCLIamm1jfZ5gHXtLBYbDcncY5FMNolZmRn2JgemuMOd+X/+859zzxUzY5fh2HEIoDdeffowFdc3M7D0iCKCWjz88eLBIwU6U1z/9cO7FDHiJC1+NPDO8fzj1z7QUSArLHKl7Xl2+B31QioOBkwL403/JoVFgEwBiQbdtnLrakZwkkyFaDCJRretxFmqRQGKaHTUc/1Shk9syyJCRz3FnIECTCLs5W328nxr7p9EzgjMyTAajTAEqZCCp9+Ut3em9TxgIBi9Xm+BqcsbWq2ASdUcREKrVb8KLa6s9cyfoBqgMoExQUODUoisYK6wUV9DAfDqGyggmxSYL3zApHoNqtcGBOx8AiF4Yo02pA0UcGwiUDpStSYBbU5guQps8cOwKI9UKSi7rG30gHqKGgSamNCvCbxC4P67k1o/a6KAl/9UwZcnt4kx7UDg1k46tz4tOOdqP4/fn1TeC3LxI9lwkLN/cMz+wXHtb/WipB0OZidpSaJcb30oHQ7yhSLrseldsvGjalo0pePX07KTe0ElBVKO4ueZscR0AMFv/4JUYipg2fj0qPvy871JEUncCHEyA8/Gp0e/wAS4DOTAtdSmXIop8BM4ljloB8j+6ZPpwoA/wO9dX475C9dYnN3eMJ3aAAAAAElFTkSuQmCC",siz:1,txt:"Fit object to the view",ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.fit());return r},key:["F"]}),this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrslc9q1FAUxr9zczu5Qx1HsItCoZTu2gdwUcEHcFyID+ITaAvSdQt9kkL/7bpz0wew6yruBEXEWie5x3MyudNk6PZkXMwlN5BLyPfL+fcRAL/24fy4IDdiZkAu00VyEcFzPPu6+/K1l6N+ATfaf/UMZYxwZKsf5Qcz5/Du5Gqk2goQSo54nGd4e/YFPiNYMWhwi5JxNNqAaqq2ApBSDXOPzacBSxICqyiozlhuqhUnqSYFkNCzxCLD6nKQ8NimoIyotMqaoAIYy+GL9Vz2Orpa44h7gMgTmuvrT5InqqrUpAZYv87Y2tqeavrmC/3QB5NtDohj67kFECoAMgbgBwA4AfQQYQvgkhg3ABJTyIP0p23xZdTSnwDQNAV5BWA5iBIANQFcmjwuQ9ZRGybNCqAnWDffb/HrrpAIsHEKCI9kEqrm7wSQy/jbPrjE3yJWvWraBQLQ8w6Dnm8X4eGbHRmPpXEP1HUgqX5/etWchBFPQrduGOuB5JNLzckNsXDDhRsu3PD/cEM03LCItgR+ZshM3DCdyYj0rps2nBqw3pYyh65X0tQIcLj78XG4d/F8LGPKOAPVn6u4av4UbQ3EQLaOwJXZmjBchexvsj9TLdrXGgTM3bhpjH9k32Le658AAwAHpcq9MWLTJwAAAABJRU5ErkJggg==",siz:1,txt:"Horizontal Split",ina:t,fun:(i=this,function(t,e){return i.split_view(t,e,1)}),key:["Shift+H"]}),A={vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAbCAYAAACX6BTbAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABVQAAAVUB1l9HcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARmSURBVEiJlVZtSLJnFD6Pc2VkL62hGLyu2gjeWEYFWUQEo6IIMvrY+lHSBxj0o19mBVK6OeYqaEOL2IowipJBPn1QRB8wIumTFhUrh2+m683abIXY7Ovx7M+rqKW1C+4f55z7XPf13Pe5n/sQiAjPgSCI8MrKyuaMjIyi4+PjnZmZme8PDg7+eDYREQMOAAivqqr6ZmRk5Pf7+3t0Q6/X/9Xc3DyQkJAQHyyfeEo5QRBMoVDYUlBQUM5gMN4sLCw8mpOYmAipqal/T01NTU5PT3fs7+8bgyoHAKZQKPx2dHT00K10e3sbNRoNajQajIqKQqVSiRqNBhcXFz1fsrq6ei6VSn9OTEz8zIfvPWlEdXX1d1qt1vDw8ICBwOFwcHt7O2B8bW3tvK2t7Scej/cpIgKUlZX9+BzpS8ndWF9fPy8vL/+Fxmazv7RareEOh+P5snkBzGbz7dzcnDMuLi4TSJK0uFwu7OzsPB8aGrJ6V8X/Ue5wOFzd3d1/9vf32xARSZK00AEACYIAiUTCvry8BIVC8S4rK4uRl5f38UuUIiKMjY1Zj46OoLW19TWdTveEgCRJs7+K3d3dO7lcbtnb23N4+yUSCZ6cnHjs5eXlf6RSqeX09NTlz0GSpPlJcjcmJyftSqXScnZ25rNXRqPxX7lcbl5ZWXEGyiVJ0kxHDHz/BQJBhEAgiFCpVLaQkJDb0tLS6OHh4XdsNvuVTCb75JntQtDpdMf+q15cXKDVavXxOZ1OFIlEZxRFPVJpNBqxo6MDBwYGPD6dTndMAwAf5TKZDLhcLvD5fBCJROByuQAAgMFgQEpKipNGo3nm2mw2EIvFIBaLwWAwQFdXl494mre1tLQEWq0W9Ho9bG1tgclkgt7eXp/K8EZDQwMwmUyYmJiA3NxcSE9P94n7kI+Pj0NxcTEkJycDm82GyspKmJ+fD7ivFEUBh8OBhYUFkMvlIBAIfOJ0bzUGgwGampo8dnR0NNjt9oDKCYIAjUYDXC4XMjMzoaamBsLCwqCwsBAQEXyqhaIouL6+9iRfXFxAZGRkQOUEQYBAIACpVAoAAEwmE2ZnZ93kSAevA42PjweTyeRJnpqaAj6f77Hdh+sGjUbzWVytVnuHke5t1dXVQUlJCdBoNLBYLLCzswM9PT1BlVMUFTD+AYvF4sXGxsazWKxQLpcLPB4P5ufngaIoUKlUEBMT45m8ubl5yefzP3LboaGhUFZWBiEhIT6ker3+XKfTaQERIScn54vOzs6lq6urxzfEC2q1+ihY3GKx3La3t+vS0tI+R/dL9P5MiYqKisaxsbEDl+vRfygo+c3NDfb19W0UFRV9hf7PnPeIiop61djY2LOxsWF7gvytv29ubs5SW1v7NQB86M8VsC3Izs5OUSgU01ar9e4p8sPDQ0dLS8twUlLS60AcQfsWRITS0lLh4ODgb3d3d6hWq9/a7XZXd3f3r/n5+bnP5T7ZtzxRcqH19fXy6+vrIoIgBkdGRn7AFyT+B8V0vTlNCwgQAAAAAElFTkSuQmCC",siz:1,txt:"View",ina:t,sub:{prf:"list",act:[]},key:["V"]},this.actions.push(A),A.sub.act.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAcCAYAAADr9QYhAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB8wAAAfMB4Ueu7gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQ2SURBVEiJ7ZZNSHJZGMf/V+/YcInqHUnMECwTDdpUFm1iiCYqEoKKaHAjDEEJaQUtWqWrgr4/sGCiIKJdZJNR0OciaDZBQ4xoVqhRlGRjQ2nJa2cWM4p9XBXe6YWB+W/uuff5P+f+znnOPfdQhBCwiWEYcVFR0U9yubwoPT1dQlEUBwAoiqIAwOfzfeP3+7nhZwzDhNLS0j6H4/+Iis55lU9vbm5+4vP5nPv7+wcqGoaiKI5UKv1eoVD8KJPJ8kpKSuQ1NTXfJScnvwt7dnaGhYUF1NbWQiwWg2EY8Hg81sEBwOHhISYmJv58fn4OSqVSWq1Wp0gkEo7RaHRRAFIKCwvVMpnsB6lUqlCpVDnFxcU8DocTs9OlpSUEAgE0NTUhntdsNj8vLi7eJScnf1YqlUkNDQ0pqampLzxGo9FF5efnX2dnZ39L0/SLeoVn9fX1taKfR7fDgC6Xi9fd3U3Ky8sZmqZZgY1Go4uura0N9PT0CGIO7QukVqv/qKys/JSIN/b8fmX9D8OmhGAIIZicnER1dTVEIhEEAgEqKiowMDCAUCj09WB8Ph9UKhW0Wi2CwSC0Wi06OzuRlJSErq4ulJWV4erqijU/+gtzOp3Y3d3F+vo6vF7vW7PBYHCSGGppaSEAyPDw8JvYzMwMoSiKNDY2suar1erbcLu5uZkoFApSVVVF+Hw+aW9vj/gMBoMzJszR0RHhcrmkoqKC9WV1dXUEANnf348Lo9fryejoKCGEkMvLS5KamkoeHh4iMDHLtLa2hlAohLa2NlaPTqcDAFgsltj1BsAwDPx+PwBAKBSCw+G8KDH7lgjg5OQEACCTyVg9CoUCAGC32xOCub6+xvHxMebn55GRkYGsrKzEYC4uLgAAAgH7Bi0QCMDlcnF+fp4QTF9fH5aXl+F2uzE3N/fyFxIrOTMzEwDg8XhYPR6PB6FQCGKxOCEYjUaDs7MzHB0doaOjAzc3N4nB5OTkAAAcDgerx2azAQDkcvm78eiRMwyDx8dHAEBubi40Gg0GBwcTg6murgaXy8X4+DirZ2xsDACgUqlidRWBCQQCkXu9Xo/p6Wnc3d3Fh8nLy0NzczM2NjYwMjLyJj47O4ulpSU0NjaipKQkLoxEIkFBQUHkXiQSYWpqKlKqmAsYAHp7e+F2u9HR0YGVlRWUlZWBpmns7e1hdXUVpaWlGB0dZc2nKCpyTlIqlVAqlS/i9fX1kXbc30FaWhosFgtMJhN4PB5MJhOGhobw9PSE/v5+7OzsQCgUxusmIcWdGeDvRdja2orW1tZ/5aVs+vAjBNtx9T39984zH63b21tYrVZOQmvmS8RWJqvV+mw2m13Hx8f209PTX/f29n7+cJiwgsEgtre373d2dhwOh8Nqt9uXrVbrL4SQp7CH3traCgFwfRSE0+lkdDrdls1m++3g4GDG6/X+zub9C+mQLtnIGvhlAAAAAElFTkSuQmCC",txt:"Origin Camera",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.origin());return r},key:["O"]}),A.sub.act.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB4wAAAeMBqFO+JAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMpSURBVEiJ7ZfBSxtBFMa/iYkmpekSLz3IepCtEVlkJaCCRlI2evFiLkUxhSSVCj14MOBRRRAlORX8BzwYYiseJAdRVEIOwZNGSShR0VJFUEOkLsWYZKeHNqlRI0qb6KEfLMy8ebz5Md/szg5pa2vbFEXxOQqgUCj0TJKk+NnZ2edAIPCRUhrLmzw6OhqmBZLX66XBYJDG43E6OTl5aLVaffX19e8AlFJKcfUpCshV7e7upkdGRr50dnZ6OI4zZUCUhbDkmigAkulUVVUphoeH9QD0gUDAMjAwEN7c3PQXAySvjEaj2mg0Gtxu90vFY4JcVd4VWVxcxODg4L0L6fV6zMzM3DaUY82DQRQKBdRqdU7s/PwckUgEDMOgpqYmZ6y0tPRewA8GMZvNMJvNOTG/3w+TyYSmpiYsLCz81cTX9WT2yH+Q6yo4CKUUp6enaG5uRkNDA7xebza+v7+PcDhcHBAAmJqaQnd3N5aWljA3N4euri7U1taiv78fGxsbxQM5PDxEZWUlGIaBw+FAIpFAJBLB/Pw8enp6igNCKaUdHR2Ynp5GY2MjXC4XNBoNTk5OcvKKctaIoghRFEEpRSgUwvLyMux2O+LxOIaGhooHkhEhBIIgQBAEOJ1OJJNJSJKEra2touwRmm9ApVJBp9MBeELfkQdZIwgCVldXUV5e/rggDMPAZDL9cwjgKVkTi8VU0Wi0IMWPjo7Asuy9cgnHcZ8kSWo3GAwlLS0tSYUiu0iEEJJpINPO9AFAlmWSTqeJLMvQaDTZtyNT4/LykqytrSVZlqU2m+1FXV3drX9Pbrf7QLm9vf0GADiOew3gPc/z9Var9RXP83fa5vF4sLe3h9bWVsiyjPX1daRSKTidzhxoALi4uMD4+PiPiYmJ74IglPT29upubPgbFx1AxfP8W4vF4hsbG/t6cHBw653F5/PRvr4+enx8nI3Z7Xa6srJy511nZ2eH2my2M4fDEZudnZVSqRR1uVzfyO/Jb/eNEMZgMHyorq5ur6ioYMgvZT1LJBIl0WhUW1ZWRmVZJlqtNsWy7MVVX8mf5cn2MzWCwSATi8UYpVL5/SdNaUM7QHCHsAAAAABJRU5ErkJggg==",txt:"Watch top",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.top());return r},key:["T"]}),A.sub.act.push({txt:"Watch bottom",ina:t,vis:!1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.bottom());return r},key:["B"]}),A.sub.act.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB6QAAAekB8yd1yAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASJSURBVEiJzZZLSCtXGMf/Mxmr+G6sRhyKLgSfiEnU1AeKoOhCoVIUouJCrU8QRcWFIKKLq9koBMGIiAvRhURBEHShoo0PihpKBA2C+GggJG01WI0mM54uSqK9Nya59t7e/mE458z/+878vjNn8VEymeyK4zihQCCwFhYWWiiKIgBACKHwLAoAbDYbZbVaBYQQihCCFyN4nqeEQiEnEAjIy9yHhwfLycnJz1qtdtRoNB7hNSkUiiu73U7UavWfdXV15vLy8t80Gg1HXOjh4YHo9XpyenpKzs7OyPz8PCkuLiYzMzPEYDCQu7s7V2nEZrORhYUFS0NDw085OTmDAL5xFOB4oFAorl4m3dzckNHR0Wu5XG6qra39/fLy0uXmDnEcRyYmJkh9fT3RarVuYwkh5Pr6miiVyl8rKyuXU1JS6gF8RQgBpVAoLru7u791dVrn5+dPk5OTfxwfH4NlWZ/AwEACAE9PT84Yx2+w2+2UyWSiIyMjeZqmX/qvzi8uLpitrS06JCTkFygUCvclE0K0Wi1RqVR2j+W+Uf39/efP6F9YNHl5Xl9Q/5sTYV4ujEYjOjs7odFokJ+fD5VKBV9fX4+bbGxs4OLiwrmmaRoRERGIjo5GQkLCx4HwPI/S0lIIhUI0NTVhZGQEfX19GB4e9riJUqnE4uKiS08ikUCpVCIrK8s7kPHxcQQFBWF1dRUAIJVKUVVVhcHBQa8qAoCJiQmkp6eD53lsb29jfn4eGo0GZWVl0Ol0iIiIeDXXeUfUajV6e3udRkFBARiGgV6v9xokNjYWqampkEqlaGtrw8bGBkQiEUwmE5aWltzm0gDI/f099vf3kZ2d/WzQNOLi4nB1deU1yPtiGAYVFRUA4LEgGgBMJhPCw8Ph5+f3D1MkEsFsNr8ZBAAODg4AAMnJyW7jGACwWCwICAj4wOR5HoGBgW8CuL29xcLCAnZ2dkDTNIqKijyDcBwHm83mcrOQkBCvP97a2org4GDwPA+dTofHx0fExcVhamoKkZGRbnNpAGBZFkaj8QNTp9MhMTHRaxCHrFars7DMzEyIxWKPOTTw9114fHzE0dFz33J4eIjw8HBERUV5DTA2Noa9vT0cHR3BbDajuroa09PTqKur8wxCCCEURaGsrAxDQ0POijo6OtDY2Og1xPsKCwuDSqVCUlIS5ubmsLy87B7EMenq6oJarUZGRgbi4+Ph4+OD5ubmN4MAgL+/P6ampgAAnZ2d4HneM4hEIsHKygpkMhl6enqwuroKiqJeTfRWGRkZKCkpgV6vx+zsrFsQZxuQl5cHpVKJlpYWCASCfw3h0MDAgHN87VQ+SRuQnJyMvLw8hIaGuvTFYjHa29vBsix2d3ddxjAu336kHBW708jIiFtfwPO8v06nEzAMI4yJifF1dS+MRiMMBsOTVCr9LI3U5uamhVlfX38H4B3LsmKZTNaSmpr6XU1NTUJMTMynuyReyPlrDAaDFsCPFEX5qNXqSolE8kN2drZELpez/wUI5a53pihKlJub2yEUCr/nOO7rtLQ06+eAWFtb4/8CgETWcCacduEAAAAASUVORK5CYII=",txt:"Watch right",ina:t,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.right());return r},key:["R"]}),A.sub.act.push({txt:"Watch left",ina:t,vis:!1,siz:1,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.left());return r},key:["L"]}),this.actions.push({vis:!1,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABCRJREFUeNq0V0tsG1UUPe/NjD1WUrvYaZQoklsFtZUiAQJKN+EjIRYFVy2qxKZIfBYVCIkiYFNEBIgCAqkSpeqiRUJULECwKaQ1XwkW0E1pqpaA1TaElkAS4sTOOLGdj+fDvWO7NY2dFGfmaa498+Zzzzv3vHvfEwDUrte//NwUMuE4DkCHL03QIQRUx06OvvLQw9RjcrdKFjIhE29s3wrLtiGFP/5tGpgiJfpOnE6wT7LZKgDdcmyEgwr2Jv+Cqgh4jYFJNS0HhxIbwL7YZy0AwegiQRXdMR0aUeA1C/z9Ev2wD9upBqTcGABR7yCkKuho0Ykmf0Jg0cDZh2X/V2QugBLdvDceJIvD71aysRRAFVQqlaJ4kQY8DgFPLkFf7unpwXUElAFUWyCgwRH+xEA4dt1+9ZpO6ULV6EmfRHAVgNOYAZVE4h8DYjkGKhcKh0D4BMBZGYCmKbDhDwCJ5QA41RCo/gOoNwucqxrQlkwTzwCIuv6XitBaLQDhlj238tVlQKwgwkZiuRHHgqqdoFwul/q5dq2ojQEoJELRTAwEF7Cyi9yv53Hl6EFMJI+7gMopwEbn9l245cV9WNBbGwNgnHIVpfD3A/sx9ukxbEjsxM0HDkFtKTszC3lMD57DwKM78Nz6B/BeYwDNt1Tf8zBOfY8tfftRGk6h+NkHMCfHy07WdSKy9R6073sNT7x/GNvu2vj2gz8P7eEi6Unam00NYuqbk7jt2Rcwf+ITLHzXD+RniYGwa3w+T33FLz7G5j3PYG207cljd2zshVeJ/48j76J71yMwf/wadnoMUtchqbBJyiuu8Tn1WROjWPwhifXbEugMKG9x7vMEAAsu2r4O1vAlCMsC5uaAYoEsX7GC28f3rOGLuCkWQVBKZiCk1iaJpqc+jVL5+zIUmgmR5Llln83t3AIxMlzNCgGXAW2V6zBNo3HkpiE1feWMyM8Y09XoC2bA0ReMU5FXv+ot0cLt/6QBWyoohcI4HaR1xIwBJRxBfvf9cEyzvAy6PlExU/SMbRioLrsYwHz6nd1P0X9bk9NSnbw9/qZRXLwzGl0LO6ij7gansjGRlAmnjBxmTOssD54dkmIwQpauk0FvpIVOZucOxyamPmwjIUq3oNn1CCCtlUP95/gkvk0bB+l0UWEm+YSsSFZowubO5IqZ+2Lh7lIhv7mro8MFIRVK6xQi/leYeuoTBGAgdQFDRr7/pd+uHKV3pxUv9h1sx8cyZ3sjrfH5GWNTSA+iZc0ayGCQRKe51GeyWQxeHMKFzEzy8YFLL9M7/zB4r1YfPJAIWddj8fa7d3RGn46pyq1OTSXMmNYv/ePZIx+NpH+iy1GekZyKvVz+MIgWsmhF0K2VPndjREYZCVNk2UroLDQpuhU24dAqu99Azfedis5Y8KXahdG/AgwADk9zOiQNsccAAAAASUVORK5CYII=",siz:1,txt:"Close current view",ina:t,fun:function(t,e){return e.undo_manager.snapshot(),e.data.rm_selected_panels()},key:["Shift+X"]}),this.actions.push({vis:!1,ico:"data:image/png;base64,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",siz:1,txt:"Zoom",ina:t,fun:function(t,e){var A,n;return this.zoom_area?(this.old_cm.items.remove_ref(this.zoom_area),this.old_cm.draw(),this.theme.zoom_factor.set(this.zoom_area.zoom_factor[0]),delete this.zoom_area):(this.old_cm=null!=(A=e.selected_canvas_inst())&&null!=(n=A[0])?n.cm:void 0,this.theme=this.old_cm.theme,this.zoom_area=new L(this.old_cm,{zoom_factor:[this.theme.zoom_factor,this.theme.zoom_factor,1]}),this.zoom_area.zoom_pos.set([this.old_cm.mouse_x,this.old_cm.mouse_y]),this.old_cm.items.push(this.zoom_area))},key:["Z"]}),this.actions.push({vis:!1,txt:"",key:["UpArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(-.1,0,0));return r}}),this.actions.push({vis:!1,txt:"",key:["DownArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(.1,0,0));return r}}),this.actions.push({vis:!1,txt:"",key:["LeftArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(0,-.1,0));return r}}),this.actions.push({vis:!1,txt:"",key:["RightArrow"],ina:t,fun:function(t,e){var A,n,i,o,r;for(r=[],A=0,i=(o=e.selected_canvas_inst()).length;A<i;A++)n=o[A],r.push(n.cm.cam.rotate(0,.1,0));return r}})}return n(e,pt),e.prototype.split_view=function(t,e,A){var n,i,o,r,s,a,l,c,h,d,u,p,_;for(e.undo_manager.snapshot(),n=void 0,i=void 0,r=0,a=(d=e.data.selected_tree_items).length;r<a;r++)(_=(c=d[r])[c.length-1])instanceof te&&(n=_.cam,i=_);for(o=e.data.selected_display_settings(),p=[],s=0,l=(u=e.data.selected_canvas_pan).length;s<l;s++)h=u[s],e._next_view_item_cam=n,e._next_view_item_child=i,p.push(o._layout.mk_split(A,0,h,.5));return p},e}();var Ot;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ot=function(e){function A(){var e;this.onPopupClose=Ct(this.onPopupClose,this),A.__super__.constructor.call(this),this.name="Projects",this.visible=!1,this.actions.push({ico:"data:image/png;base64,",siz:.9,txt:"Open in Tree",fun:(e=this,function(A,n){var i,o,r,s,a,l,c,h,d,u;for(e.d=Ee({className:"browse_container",id:"id_browse_container"}),"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?l=FileSystem.get_inst():(l=new FileSystem,FileSystem._disp=!1),a=FileSystem._home_dir,l.load_or_make_dir(a,function(A,n){var i;return new Directory,i=Ee({parentNode:e.d,style:{width:"90%",padding:"10px 20px 10px 20px",height:"50px"}}),Ee({nodeName:"button",txt:"New project",parentNode:i,onclick:function(e){var n,i;return clear_page(),n=prompt("Project name","project "+new Date),i=new_session(),A.add_file(n,i,{model_type:"Session",icon:"session"}),t.location="#"+encodeURI(a+"/"+n)}}),He.add_action("Session",function(e,A,n){return e.load(function(A,n){return clear_page(),t.location="#"+encodeURI(a+"/"+e.name.get())})}),new He({el:e.d,model:A,initial_path:a,use_icons:!1,use_upload:!1,use_breadcrumb:!1,display:"Session"})}),h=void 0,c=0,d=(u=n.selected_canvas_inst()).length;c<d;c++)h=u[c];return null!=h.divCanvas?(r=e.getTop(h.div),o=e.getLeft(h.div),s=h.divCanvas.offsetWidth,i=h.divCanvas.offsetHeight,i+=22):(r=100,o=100,s=800,i=500),Be("Browse Folder",{event:A,child:e.d,top_x:o,top_y:r,width:s,height:i,onclose:function(){return e.onPopupClose(n)}}),n.active_key.set(!1)})})}return n(A,pt),A.prototype.getLeft=function(t){return null!=t.offsetParent?t.offsetLeft+this.getLeft(t.offsetParent):t.offsetLeft},A.prototype.getTop=function(t){return null!=t.offsetParent?t.offsetTop+this.getTop(t.offsetParent):t.offsetTop},A.prototype.onPopupClose=function(t){return document.onkeydown=void 0,t.active_key.set(!0)},A}();var Gt;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Gt=function(e){function A(e,n){var i,o,r,s,a;if(null==e&&(e=!0),null==n&&(n=void 0),this.display_app=Ct(this.display_app,this),this.get_fs_instance=Ct(this.get_fs_instance,this),this.onPopupClose=Ct(this.onPopupClose,this),A.__super__.constructor.call(this),!n)for((n=new Lst).push(new yt),r=0,s=APPLIS.length;r<s;r++)o=APPLIS[r],n.push(new t[o]);this.name="Apps",this.visible=!0,i=function(t){var e,A;return t.data.focus.get()!==(null!=(e=t.selected_canvas_inst())&&null!=(A=e[0])?A.cm.process_id:void 0)&&t.data.focus.get()!==t.treeview.process_id},this.icon_app=new Lst,this.actions.push({ico:"data:image/png;base64,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",siz:.9,txt:"Load app in tree",ina:i,fun:(a=this,function(t,e){var A,i,o,r,s,l,c,h,d;for(s=Ee({className:"apps_container",id:"id_apps_container"}),new oA({el:s,model:n,use_icons:!1,app:e,use_in_lab:!0}),l=void 0,c=0,h=(d=e.selected_canvas_inst()).length;c<h;c++)l=d[c];return null!=l.divCanvas?(o=a.getTop(l.div),i=a.getLeft(l.div),r=l.divCanvas.offsetWidth,A=l.divCanvas.offsetHeight,A+=22):(o=100,i=100,r=800,A=500),Be("My apps",{event:t,child:s,top_x:i,top_y:o,width:r,height:A,onclose:function(){return a.onPopupClose(e)}}),e.active_key.set(!1)})})}return n(A,pt),A.prototype.onPopupClose=function(t){return document.onkeydown=void 0,t.active_key.set(!0)},A.prototype.getLeft=function(t){return null!=t.offsetParent?t.offsetLeft+this.getLeft(t.offsetParent):t.offsetLeft},A.prototype.getTop=function(t){return null!=t.offsetParent?t.offsetTop+this.getTop(t.offsetParent):t.offsetTop},A.prototype.get_fs_instance=function(){var t;return"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?t=FileSystem.get_inst():(t=new FileSystem,FileSystem._disp=!1,t)},A.prototype.display_app=function(e,A){var n,i,o,r,s,a,l,c,h;if(null!=A.actions){for(i=Ee({parentNode:container_global,className:"app_group",nodeName:"div"}),c=[],o=0,s=(l=A.actions).length;o<s;o++)n=l[o],r=Ee({parentNode:i,className:"app_icon",nodeName:"div",onmousedown:function(t){return n.fun(t,e)}}),this.picture=Ee({parentNode:r,className:"app_picture",nodeName:"img",src:n.ico,alt:n.txt,title:n.txt,style:{maxWidth:150,maxHeight:75}}),h=Ee({parentNode:i,className:"app_group_text",nodeName:"div"}),this.name_app=Ee({parentNode:h,className:"app_group_title",nodeName:"div",txt:A.name}),this.editor_app=Ee({parentNode:h,className:"app_group_name",nodeName:"div",style:{fontWidth:.8},txt:"powered by"}),this.powered_app=Ee({parentNode:h,className:"app_group_name",nodeName:"div",txt:A.powered_with}),a=Ee({parentNode:i,className:"app_group_link",nodeName:"div"}),this.publication_link_app=Ee({parentNode:a,className:"app_group_publication_link",nodeName:"div",src:n.ico,alt:"Related publications",title:"Related publications",onmousedown:function(e){var n;return(n=t.open("","")).document.location.href=A.publication_link,n.focus()}}),c.push(this.tutorial_link_app=Ee({parentNode:a,className:"app_group_tutorial_link",nodeName:"div",src:n.ico,alt:A.tutorial_link,title:"Video tutorial",onmousedown:function(e){var n;return(n=t.open("","")).document.location.href=A.tutorial_link,n.focus()}}));return c}},A}();var Vt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Vt=function(t){function e(){var t,A,n,i,o;e.__super__.constructor.call(this),this.name="Tree View",this.visible=!1,t=function(t){return t.data.focus.get()!==t.treeview.process_id},A=function(t,e){var A,n,i;if(t.length!==e.length)return!1;for(A=n=0,i=t.length;n<i;A=++n)if(t[A]!==e[A])return!1;return!0},n=function(t,e,n){var i,o,r,s,a,l,c,h;if(s=e.data.selected_tree_items,h=e.data.selected_session(),0===s.length)return e.data.selected_tree_items.clear(),e.data.selected_tree_items.push([h]);if(1===s.length){for(c=[],r=a=0,l=(o=e.layouts[h.model_id]._pan_vs_id.TreeView.treeview.flat).length;a<l;r=++a){if(i=o[r],r+n>=0&&r+n<o.length&&A(s[0],i.item_path)){e.data.selected_tree_items.clear(),e.data.selected_tree_items.push(o[r+n].item_path);break}c.push(void 0)}return c}},this.actions.push({txt:"",key:["UpArrow"],ina:t,fun:function(t,e){return n(0,e,-1)}}),this.actions.push({txt:"",key:["DownArrow"],ina:t,fun:function(t,e){return n(0,e,1)}}),this.actions.push({txt:"",key:["LeftArrow"],ina:t,fun:(i=this,function(t,e){var A,n,o,r,s,a;for(a=[],r=0,s=(o=e.data.selected_tree_items).length;r<s;r++)n=o[r],A=i.is_close(e,n),n[n.length-1]._children.length>0&&!1===A?a.push(i.add_item_to_close_tree(e,n)):a.push(void 0);return a})}),this.actions.push({txt:"",key:["RightArrow"],ina:t,fun:(o=this,function(t,e){var A,n,i,r,s,a;for(a=[],r=0,s=(i=e.data.selected_tree_items).length;r<s;r++)n=i[r],A=o.is_close(e,n),n[n.length-1]._children.length>0&&!0===A?a.push(o.rem_item_to_close_tree(e,n)):a.push(void 0);return a})}),this.actions.push({txt:"",key:["Enter"],ina:t,fun:function(t,e){var A,n,i,o,r,s,a,l;for(l=[],n=0,i=(s=e.data.selected_tree_items).length;n<i;n++)r=s[n],(null!=(a=(A=r[r.length-1])._viewable)?a.get():void 0)?l.push(function(){var t,n,i,r;for(r=[],t=0,n=(i=e.data.selected_canvas_pan).length;t<n;t++)o=i[t],r.push(e.data.visible_tree_items[o].toggle(A));return r}()):l.push(void 0);return l}}),this.actions.push({txt:"Save",key:[""],ina:t,ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAADqElEQVRIiZWUTY8UVRSGn3Nv9VQ39MgwDIEZSNQBXUDAjcGFIUHiRyRGE+OvcO/SlXsX7twY48K40MTowvgD2JhAghthEiEmLhAyOsqk6+Oee46Lqm66B130TX1XnfPWc897rpw58/zqpJr8eGTt2NntZ59OV69eacBxZ6kRQuTBwz82vv/uh/0Yw7c/37rxPoAcP765jvDT4fFTZ44eOczNmzeWyzw3Ll16iY3NbQ6NRnz91WcCUGQ3ihB58dLL/LpzCzWwrPiSCOXKAAA3x+ZiC9xwF/b2/gZ3kmY856UFQixwIGfFcp4TQHAHM8OBplV+v/vLUskBnnnuPLiTcyYvCLjjdC9wSJo5fmp7aYJWtSc4IOAA3qE5TtMm9u7fW5rg2Nb2jEBV5wUccSNrp5qSMjp6cmmbJs04oKqzXJ2AOR6kI3Bok5L+ub80AWunwMFyJuc5AgB3RzUDTpsUG6wtTdCmboqz6oEp6jNl7Qh27tzm3Lnzc1726bYwZPHAzs5tAJIqhT7hIpAg7D7Y5aMPP0D6oOmpu5y7wRcFvft2d/dP1jdO/5eLOquub5yiahIhBHI2QhBCCIiE/twlMzfcvesdd4oYMTPW1jcRgZzTk1Ok2j0syxVijEz2/yJKJIYIyOMlYArnEAWyZWKxiqvRtg2xGBBjOCAg9I3mKLBajnnn7WtcufIKK8MhuFOWJaNhSdu2iHQqMUauX7/OF19+g9baCahSDodzNaBboDQ9xtKsXL58mdt3dvj4k09xc9584yrvvfsWVVXPBEIIbG5t9UhCDLFrtHTQRe6dd11wHE1KXdeoKkUIeHDMMnVd07ZtV1d3RIRqUqEpoSmRc8bMFmswLXBKigi4d/WYTCZUVdU3oJNSom0TdV3P1qkYI23bklLnfbM8M8WcixzvCYRp0yVSSjRNQ0oJd6dtGqpqQtO0s+DObRnLGdU0ozKzOQFz3N1z333ukDVTT5ObYW5oVpqmoWnaRYKUUE108U5yX1iJi6aZPBKRnaapzpo5lg231F68cGHwwsWL8vprr+I4g2LAYFAsBIsIDx4+ZH9/n8lkQowBMyeEx00pQACeXllZ+Xw4HBVNU58ej8e/nTh5YiuGKCEEkc420ieVvsg+Lfbdu/dKd8fd3N0953yrrutrXb/M/ZGqipmNYgirDodCCGMRGYvIGBgBJRD7zzPQuHslIhXwyN0e5Wz7Oee9sizbJwT6v4x9fxzcY0875XfAeiH9n51/Ac3vnsxrMRLjAAAAAElFTkSuQmCC",fun:function(t,e){var A,n,i,o,r,s,a,l;for(l=[],o=0,r=(i=e.data.selected_tree_items).length;o<r;o++)a=i[o],n=a[a.length-1],console.log("saving : ",n),"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?(A=FileSystem.get_inst(),s=n.to_string(),l.push(A.load_or_make_dir("/home/monkey/test_browser",function(t,e){return t.add_file(s,n,{model_type:"TreeItem"})}))):l.push(void 0);return l}}),this.actions.push({txt:"Delete current tree item",ico:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAANBJREFUSEvtVbENgzAQNBOwh2tmYAcXqbxGBIvQMQKNO7dIrhE9PUiUVBfOgiIRkZUo6f6lE6//O5148FspiQ8nAK01yrKEtRZ1XaNpGjjnMAwD1nWNYM4ae+SQSw21ux/xNsQgOSKVZRm6roP3HiEEjOOIaZqwLAu2bYtgzhp75JBLDbXJby4GMiL5i5QctPSqOPb5ubTik+vjClfc5EGjKM9zFEUBYwyqqkLbtuj7HvM8RzBnjT1yyKUmddmc5v83eH31X4/othvcvwS1T/EATq2IdOg+xX0AAAAASUVORK5CYII=",key:["Del"],ina:t,fun:function(t,e){var A,n,i,o,r,s,a,l,c;for(A=0,i=(c=e.data.selected_tree_items).length;A<i;A++)if((l=c[A]).length>1){if((r=l[l.length-1])instanceof re)return!0;if(r instanceof qt)for(n=0,o=(a=e.data.modules).length;n<o;n++)(s=a[n])instanceof Tt&&s.actions[4].fun(t,e);else e.undo_manager.snapshot(),l[l.length-2].rem_child(r),e.data.delete_from_tree(r),e.data.selected_tree_items.clear()}}})}return n(e,pt),e.prototype.is_close=function(t,e){var A,n,i,o;for(n=0,i=(o=t.data.closed_tree_items).length;n<i;n++)if(A=o[n],e.equals(A))return!0;return!1},e.prototype.add_item_to_close_tree=function(t,e){return t.data.close_item(e)},e.prototype.rem_item_to_close_tree=function(t,e){return t.data.open_item(e)},e}();var Yt;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Yt=function(t){function e(){var t;this.add_ass=Ct(this.add_ass,this),e.__super__.constructor.call(this),this.name="Assemblage",this.actions.push({ico:"data:image/png;base64,",txt:"Assembly",siz:1,fun:(t=this,function(e,A){return A.undo_manager.snapshot(),t.add_item_depending_selected_tree(A.data,ScillsAssemblyComputeItem)})})}return n(e,pt),e.prototype.add_ass=function(t){var e;return e=this.add_item_depending_selected_tree(t,ScillsAssemblyComputeItem),t.watch_item(e)},e}();var Xt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Xt=function(t){function e(){var t,A;e.__super__.constructor.call(this),this.mesher="",this.name="Mesher",this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Remove a mesher point",fun:(t=this,function(e,A){var n,i,o,r,s,a,l;if(null!=t.mesher&&(A.selected_canvas_inst()[0].cm.cam_info,(null!=(r=t.mesher)&&null!=(s=r.p_mesher)?s.length:void 0)>0)){for(l=[],i=n=a=t.mesher.p_mesher.length-1;a<=0?n<=0:n>=0;i=a<=0?++n:--n)(o=t.mesher.p_mesher[i])._selected.indexOf(o.point)>=0?l.push(t.mesher.remove_point(o)):l.push(void 0);return l}})}),this.actions.push({ico:"data:image/png;base64,",siz:1,txt:"Add a mesher point",fun:(A=this,function(t,e){var n,i,o,r,s;return e.undo_manager.snapshot(),n=e.selected_canvas_inst()[0].div,t.clientY<be(n)?i=[0,0,0]:(r=t.clientX-xe(n),s=t.clientY-be(n),i=e.selected_canvas_inst()[0].cm.cam_info.sc_2_rw.pos(r,s)),A.mesher=A.add_item_depending_selected_tree(e.data,ae),o=new Y(i),A.mesher.add_point(o)})})}return n(e,pt),e}();var Ht;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ht=function(t){function e(t){null==t&&(t="Field collection"),e.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!1),this.add_attr({visualization:new j})}return n(e,_t),e.prototype.apply_to_children=function(){},e.prototype.accept_child=function(t){return t instanceof ee},e.prototype.display_context_actions=function(){var t;return(t=new Lst).push(new Bt),t},e.prototype.add_collection_item=function(){var t,e;return e="field_"+(t=this.ask_for_id_collection_child()).toString(),this.add_child(new ee(e,t))},e}();var Wt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Wt=function(e){function A(t){null==t&&(t="Note"),A.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!0),this.add_attr({title:this._name,posted_by:USER_EMAIL,_point:new Y([0,0,0],2,6),note:"test",link:"http://www.structure-computation.com"}),this.add_attr({radius:new ConstrainedVal(4,{min:0,max:40}),point:this._point.point}),this._point.radius=this.radius,this.note.set("test")}return n(A,ut),A.prototype.display_suppl_context_actions=function(e){return e.push({txt:"link",ico:"data:image/png;base64,",fun:(A=this,function(e,n){var i;return(i=t.open("","")).document.location.href=A.link.get(),i.focus()})});var A},A.prototype.accept_child=function(t){return!1},A.prototype.sub_canvas_items=function(){return[this._point]},A.prototype.z_index=function(){return this._point.z_index()},A.prototype.get_model_editor_parameters=function(t){return t.model_editor.note=Ye},A.prototype.draw=function(t){var e,A,n,i,o,r;if(e=t.sel_item[this.model_id],this._point.length&&e){for(r=[],A=0,n=(o=this._point).length;A<n;A++)i=o[A],r.push(i.draw(t));return r}},A.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a;for(a=[],i=0,o=(s=this._point).length;i<o;i++)r=s[i],a.push(r.get_movable_entities(t,e,A,n));return a},A.prototype.on_mouse_down=function(t,e,A,n){var i,o,r;for(i=0,o=(r=this._point).length;i<o;i++)r[i].on_mouse_down(t,e,A,n);return!1},A.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s;for(o=0,r=(s=this._point).length;o<r;o++)s[o].on_mouse_move(t,e,A,n,i);return!1},A}();var Kt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Kt=function(t){function e(t){null==t&&(t=void 0),e.__super__.constructor.call(this),this._name.set("Mesh"),this._ico.set("data:image/png;base64,"),this._viewable.set(!0),this.add_attr({_mesh:new D({not_editable:!0})}),this.add_attr({visualization:this._mesh.visualization}),this.visualization.display_style.num.set(1)}return n(e,ut),e.prototype.display_suppl_context_actions=function(t){},e.prototype.accept_child=function(t){return t instanceof se||t instanceof he},e.prototype.z_index=function(){return this._mesh.z_index()},e.prototype.sub_canvas_items=function(){return[this._mesh]},e.prototype.cosmetic_attribute=function(t){return e.__super__.cosmetic_attribute.call(this,t)||"_mesh"===t||"visualization"===t},e.prototype.get_file_info=function(t){return t.model_type="Mesh",t.icon="mesh"},e.prototype.draw=function(t){var e;if(null!=(e=this.get_app_data().selected_tree_items[0])?e.has_been_directly_modified():void 0)return e[e.length-1]===this?this.colorize("blue"):this.colorize()},e.prototype.colorize=function(t){var e,A,n,i,o;for(o=[],A=0,n=(i=this.sub_canvas_items()).length;A<n;A++)e=i[A],"blue"===t?(e.visualization.line_color.r.val.set(77),e.visualization.line_color.g.val.set(188),o.push(e.visualization.line_color.b.val.set(233))):(e.visualization.line_color.r.val.set(255),e.visualization.line_color.g.val.set(255),o.push(e.visualization.line_color.b.val.set(255)));return o},e.prototype.is_app_data=function(t){return t instanceof gt},e.prototype.get_app_data=function(){return this.get_parents_that_check(this.is_app_data)[0]},e}();var jt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;jt=function(t){function e(t,A,n){var i;null==A&&(A="Fields"),null==n&&(n=0),e.__super__.constructor.call(this),this._name.set(A),this._viewable.set(!0),this.add_attr({id:n,visualization:new j,_fs_data_ptr:new Ptr(t),_has_result:!1,_old_visualisation_field:"",_old_time_step:-1,time:-1}),this.bind((i=this,function(){if(i._has_result.has_been_modified())return i.draw()}))}return n(e,mt),e.prototype.draw=function(t){var e,A;if((null!=(e=this.time.val)?e.has_been_modified():void 0)||this._has_result.has_been_modified()||this._viewable.has_been_modified())return this._fs_data_ptr.load((A=this,function(t,e){var n;return null!=(n=t._children[A.time.get()])?n._fs_ptr.load(function(t,e){var n,i,o,r,s,a,l,c;for(c=[],n=o=0,s=A.visualization.color_by.lst.length;0<=s?o<s:o>s;n=0<=s?++o:--o)(r=A.visualization.color_by.lst[n].data._data).clear(),l=null!=(a=t.color_by.lst[n])?a.data._data:void 0,c.push(function(){var t,e,A;for(A=[],i=t=0,e=null!=l?l.length:void 0;0<=e?t<e:t>e;i=0<=e?++t:--t)A.push(r.push(l[i]));return A}());return c}):void 0}))},e.prototype.accept_child=function(t){return!1},e.prototype.sub_canvas_items=function(){return[this.visualization]},e.prototype.cosmetic_attribute=function(t){return e.__super__.cosmetic_attribute.call(this,t)||"visualization"===t},e}();var Jt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Jt=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({scalar_type:new Choice(0,["PI8","SI8","PI16","SI16","PI32","SI32","FP32","FP64"]),endianness:new Choice(0,["LittleEndian","BigEndian"]),img_size:[0,0,0],min_val:new ConstrainedVal(0,{min:0,max:255,div:255}),max_val:new ConstrainedVal(255,{min:0,max:255,div:255})}),this._name.set("Raw volume"),this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg=="),this._viewable.set(!0)}return n(e,ut),e.prototype.update_min_max=function(t,e){var A,n,i;for(i=[],A=n=0;n<3;A=++n)t[A]=Math.min(t[A],0),i.push(e[A]=Math.max(e[A],this.img_size[A].get()));return i},e}();var qt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;qt=function(t){function e(t,A,n){var i,o;this.app_data=t,null==n&&(n=new B),e.__super__.constructor.call(this),this.add_attr({background:new T,cam:n,axes:new U,_panel_id:A,_repr:""}),this._buff=new Image,this._buff.onload=(i=this,function(){return i._signal_change()}),this.bind((o=this,function(){if(null!=o._repr&&o._repr.has_been_modified())return o._buff.src=o._repr.get()})),this._name.set("View"),this._date_tex=-1}return n(e,ut),e.prototype.accept_child=function(t){},e.prototype.z_index=function(){return 1},e.prototype.draw=function(t){var e,A,n,i,o,r,s,a,l,c,h,d;return"2d"===t.ctx_type?t.ctx.drawImage(this._buff,0,0):this._buff.width?(c="attribute vec3 a_position;\n attribute vec2 textureCoords;\n varying vec2 texcoords;\n void main( void ) {\n texcoords = textureCoords;\n gl_Position = vec4( a_position, 1.0 );\n }\n",e="precision mediump float;\n varying vec2 texcoords;\n uniform sampler2D uSampler;\n void main( void ) {\n gl_FragColor = texture2D( uSampler, texcoords );\n }\n",A=t.ctx,r=t.cm.gl_prog(c,e),A.useProgram(r),r.atexAttrib=A.getAttribLocation(r,"textureCoords"),r.aposAttrib=A.getAttribLocation(r,"a_position"),this._date_tex<this._repr._date_last_modification&&(this._date_tex=this._repr._date_last_modification,null!=this.tex&&A.deleteTexture(this.tex),this.tex=A.createTexture(),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,this.tex),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,!0),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,this._buff),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE)),A.bindTexture(A.TEXTURE_2D,this.tex),r.samplerUniform=A.getUniformLocation(r,"uSampler"),A.uniform1i(r.samplerUniform,0),d=.99999,h=new Float32Array([-1,-1,d,1,1,d,1,-1,d,-1,1,d]),a=new Float32Array([0,0,1,1,1,0,0,1]),i=new Uint16Array([0,2,3,1]),l=(o=function(t,e){var n;return n=A.createBuffer(),A.bindBuffer(t,n),A.bufferData(t,e,A.STATIC_DRAW),n})(A.ARRAY_BUFFER,h),n=o(A.ELEMENT_ARRAY_BUFFER,i),A.vertexAttribPointer(r.aposAttrib,3,A.FLOAT,!1,0,0),A.enableVertexAttribArray(r.aposAttrib),s=o(A.ARRAY_BUFFER,a),A.vertexAttribPointer(r.atexAttrib,2,A.FLOAT,!1,0,0),A.enableVertexAttribArray(r.atexAttrib),A.drawElements(A.TRIANGLE_STRIP,4,A.UNSIGNED_SHORT,0),A.disableVertexAttribArray(r.aposAttrib),A.disableVertexAttribArray(r.atexAttrib),A.bindBuffer(A.ARRAY_BUFFER,null),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),A.bindTexture(A.TEXTURE_2D,null),A.deleteBuffer(s),A.deleteBuffer(n),A.deleteBuffer(l)):void 0},e.prototype.sub_canvas_items=function(){return[this.background,this.axes]},e}();var Zt;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Zt=function(t){function e(t){e.__super__.constructor.call(this),null!=t&&(this.add_attr({_file:t,_ptr:t._ptr}),this._name.set(t.name))}return n(e,ut),e}();var $t;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;$t=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({_class_export_name:"Item",_class_export_language:"JavaScript",_class_export_state:!1})}return n(e,ut),e.prototype.display_context_actions=function(){var t;return(t=new Lst).push(new Bt),t.push(new Nt),this.display_suppl_context_actions(t),t},e}();var te;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;te=function(t){function e(t,A){var n;this.app=t,this.panel_id=A,e.__super__.constructor.call(this),n=new Lst,this.add_attr({view:new Choice(0,n),cam:new B}),this.add_attr({_cam_representation:new O(this.cam)}),this._name.set("Shooting informations"),this._ico.set("data:image/png;base64,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"),this._viewable.set(!0),this.add_child(new le)}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof he||t instanceof le||t instanceof se||t instanceof de},e.prototype.sub_canvas_items=function(){return[this._cam_representation]},e.prototype.z_index=function(){return.1},e.prototype.draw=function(t){var e,A,n;for(t.shoot_cam=this.cam,e=0,A=(n=this._children).length;e<A;e++)n[e].draw(t);return this.cam===t.cam&&(t.ctx.beginPath(),t.ctx.fillStyle="white",t.ctx.font="10px Arial",t.ctx.textBaseline="top",t.ctx.textAlign="right",t.ctx.fillText("Shooting Cam "+this.cam.model_id,t.w-10,10)),delete t.shoot_cam},e}();var ee;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ee=function(t){function e(t,A){null==t&&(t="Field"),null==A&&(A=0),e.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!0),this.add_attr({id:A,visualization:new j})}return n(e,ut),e.prototype.accept_child=function(t){return!1},e.prototype.sub_canvas_items=function(){return[this.visualization]},e}();var Ae;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ae=function(t){function e(t){var A;e.__super__.constructor.call(this),null!=t&&(this._name.set(t.name),this.add_attr({_file:t,_ptr:t._ptr})),A=new j,this.add_attr({_fs_ptr:new Ptr(A)})}return n(e,ut),e}();var ne;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ne=function(t){function e(t){null==t&&(t="Image directory"),e.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!0),this.add_attr({reference_image:new ConstrainedVal(0,{min:0,max:20,div:0}),img:new S,_current_reference:-1})}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof Zt},e.prototype.draw=function(t){if(this._children.length>0&&(this.reference_image.set_params({max:this._children.length-1}),this._current_reference.get()!==this.reference_image.get()&&(this._current_reference.set(this.reference_image.get()),null!=this._children[this._current_reference])))return this._current_img=this._children[this._current_reference]._name.get(),this._children[this._current_reference]._file.load((e=this,function(A,n){var i;return i=new S(A),e.img=i,t.cm.origin()}));var e},e.prototype.sub_canvas_items=function(){return[this.img]},e}();var ie;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ie=function(t){function e(t){null==t&&(t="FieldSet directory"),e.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!0),this.add_attr({reference_image:new ConstrainedVal(0,{min:0,max:20,div:0}),visualization:new j,_current_reference:-1,_directory:new directory})}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof Zt},e.prototype.draw=function(t){if(this._children.length>0&&(this.reference_image.set_params({max:this._children.length-1}),this._current_reference.get()!==this.reference_image.get()&&(this._current_reference.set(this.reference_image.get()),null!=this._children[this._current_reference])))return this._current_img=this._children[this._current_reference]._name.get(),this._children[this._current_reference]._file.load((e=this,function(A,n){var i;return i=new S(A),e.img=i,t.cm.origin()}));var e},e.prototype.sub_canvas_items=function(){return[this.visualization]},e}();var oe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;oe=function(t){function e(t){null==t&&(t="FieldSets data"),e.__super__.constructor.call(this),this.add_attr,this._name.set(t),this._viewable.set(!1)}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof Zt||t instanceof Ae},e.prototype.add_child=function(t){var e;if(t instanceof Zt)return(e=new Ae(t._file))._name=t._name,this._children.push(e)},e}();var re;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};re=function(t){function e(t){var A,n;null==t&&(t={}),e.__super__.constructor.call(this),this.add_attr({theme:new _,_layout:new o(t)}),this._name._set("Display settings"),this._ico._set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAADdgAAA3YBfdWCzAAAAAd0SU1FB9oBEAMpLRHXlgEAAAQbSURBVDgRARAE7/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADNzdEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc3N0bcCAgNIAAD/AAAAAAAAAAEABAQEwS0tKEDT09fA+/v7PwAAAAAAAAEAAQEAAAAAAAAAAAAAAAABAP7+/bgE+fn5SC0tKQD7+/sA/Pz8APz8/ADl5ek/AAAAAPb29z82NjEA+vr6APv7+wD+/v4A/v7+AP7+/gD///4A2dnfSAT19fYAAwMCAPr6/wAEBAQAAQEAAPT09QAAAAAA9fX0AAAAAAABAQEAAAAAAAEBAQD///8AAgICAP//AQD29vUAAvb29gAHBwcABQUFANLS0gAHBwgA9vb2AAAAAAD19fYAAAAAAAMDAwAHBwcA0tLSAAYGBgDQ0NAABQUEAPb29gAE9vb2AAICAwAMDAwAOjo6AP7+/AD29vYAAAAAAPf39wAAAAAAAgICAAICAgA6OjoA+/v7ADo6OQD9/fwA9vb3AAT8/Py4oKClSAEBAAAAAAEAAAAAAAkJCMEAAAAA///+xqCgpToAAAAAAAAAAAAAAAABAQEAAAAAAAAAAQADAwG9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzc3RtwEBAUgAAAAAAAAAAAAAAQABAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABAQAA/f38uAT4+PhIOjo2AP39/QD8/PwA/Pz7AP39/gD///8A/v7+AP7+/gD+/v0A+/v8AP7+/gD+/vwAAAABAAAAAQDm5upIBPb29gAAAAAAAAAAAP///wAAAAEA////AP7+/gD+/v4A////AAEBAgACAgIAAQEBAP7+/gAAAAAAAAAAAPb29gAC9vb3AAAAAAACAgIABAQEAAICAgADAwMAAQEBAAICAgAFBQUA09PTAAcHBwDU1NQABwcHANTU1AAEBAMA9vb3AAT39/cAAAAAAAEBAQAEBAQABAQEAP7+/QD8/PwA/f3+AP///gA3NzYA/Pz8ADY2NgD7+/sANTU1APz8+wD39/cAAaWlqbf8/P1IAAD/AAAAAAAAAAEAAAAAAAAAAAABAQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgIBAAAAAbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFy8/azHbCOEAAAAAElFTkSuQmCC"),this._layout.bind((A=this,function(){var t,e,n,i,o,r,s;for(e=A._layout.panel_id_of_term_panels(),r=[],t=0,n=(i=A._children).length;t<n;t++)(s=i[t])instanceof qt&&(o=s._panel_id.get(),I.call(e,o)<0?r.push(A.rem_child(s)):r.push(void 0));return r})),this._layout.allow_destruction=(n=this,function(t){return n._layout.panel_id_of_term_panels().length>=4})}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof qt},e.prototype.z_index=function(){},e}();var se;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;se=function(t){function e(t){null==t&&(t="Sketch"),e.__super__.constructor.call(this),this.add_attr({mesh:new k}),this._name.set(t),this._viewable.set(!0)}return n(e,ut),e.prototype.display_suppl_context_actions=function(t){return t.push(new Xt),t.push(new Dt)},e.prototype.accept_child=function(t){return!1},e.prototype.sub_canvas_items=function(){return[this.mesh]},e.prototype.z_index=function(){return this.sub_canvas_items()[0].z_index()},e.prototype.disp_only_in_model_editor=function(){return this.mesh},e.prototype.get_movable_entities=function(t,e,A,n,i){return null==i&&(i=!1),this.mesh.get_movable_entities(t,e,A,n,i)},e.prototype.contextual_actions=function(t,e){var A,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)!0===(A=e[n]).ctx_act()&&o.push(t.push(A));return o},e.prototype._closest_point_closer_than=function(t,e,A){var n,i,o,r,s;for(s=[],n=0,i=(r=this.sub_canvas_items()).length;n<i;n++)(o=r[n])instanceof D&&s.push(o._closest_point_closer_than(t,e,A));return s},e}();var ae;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ae=function(t){function e(t){var A;null==t&&(t="Mesher"),e.__super__.constructor.call(this),this.add_attr({_mesh:new D({not_editable:!0})}),this.add_attr({visualization:this._mesh.visualization,cell_type:new Choice(0,["Triangle 3","Triangle 6","Quad 4","Quad 8"]),base_size:100,p_mesher:new Lst}),this._name.set(t),this._viewable.set(!0),this.visualization.display_style.num.set(1),this._computation_mode.set(!1),this.bind((A=this,function(){if(A._mesh.has_been_modified())return alert(A._mesh.points.length+" "+A._mesh._elements.length)}))}return n(e,ft),e.prototype.display_suppl_context_actions=function(t){return t.push(new Xt),t.push(new Dt)},e.prototype.cosmetic_attribute=function(t){return e.__super__.cosmetic_attribute.call(this,t)||"_mesh"===t||"visualization"===t},e.prototype.add_point=function(t){if(null==t&&(t=new Y),t instanceof Y)return this.p_mesher.push(t)},e.prototype.remove_point=function(t){var e;if(t instanceof Y){if(-1!==(e=this.p_mesher.indexOf(t)))return this.p_mesher.splice(e,1)}else if(NaN!==t)return this.p_mesher.splice(t,1)},e.prototype.accept_child=function(t){return t instanceof MaskItem||t instanceof e||t instanceof se||t instanceof he||t instanceof de},e.prototype.sub_canvas_items=function(){return[this._mesh]},e.prototype.draw=function(t){var e,A,n,i,o,r;if(e=t.sel_item[this.model_id],this.p_mesher.length&&e){for(r=[],A=0,n=(o=this.p_mesher).length;A<n;A++)i=o[A],r.push(i.draw(t));return r}},e.prototype.z_index=function(){return this._mesh.z_index()},e.prototype.disp_only_in_model_editor=function(){},e.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a;for(a=[],i=0,o=(s=this.p_mesher).length;i<o;i++)r=s[i],a.push(r.get_movable_entities(t,e,A,n));return a},e.prototype.on_mouse_down=function(t,e,A,n){var i,o,r;for(i=0,o=(r=this.p_mesher).length;i<o;i++)r[i].on_mouse_down(t,e,A,n);return!1},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s;for(o=0,r=(s=this.p_mesher).length;o<r;o++)s[o].on_mouse_move(t,e,A,n,i);return!1},e}();var le;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;le=function(t){function e(t){null==t&&(t="Image collection"),this.update_min_max=Ct(this.update_min_max,this),e.__super__.constructor.call(this),this._name.set(t),this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg=="),this._viewable.set(!0),this.visible=!0}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof he||t instanceof Jt},e.prototype.draw=function(t){return null!=t.time_ref._max&&t.time_ref._max.get()<this._children.length-1&&t.time_ref._max.set(this._children.length-1),null!=t.time_ref&&t.time_ref._div.set(Math.max(t.time_ref._max.get(),1)),null!=this._children[t.time]?this._children[t.time].draw(t):null!=this._children[0]?this._children[0].draw(t):void 0},e.prototype.z_index=function(){return this._children.length?this._children[0].z_index():0},e.prototype.update_min_max=function(t,e){if(null!=this._children[0])return this._children[0].update_min_max(t,e)},e.prototype.anim_min_max=function(){return this._children.length},e}();var ce;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ce=function(t){function e(t,A){e.__super__.constructor.call(this),this.add_attr({_selected_tree_items:new Lst,_visible_tree_items:new Model,_closed_tree_items:new Lst,_selected_canvas_pan:new Lst,_last_canvas_pan:new Str,_modules:new Lst,time:(null!=A?A.time:void 0)||new ConstrainedVal(0,{min:0,max:20,div:0})}),this._name._set(t),this._ico._set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAAlwSFlzAABuugAAbroB1t6xFwAAAAd0SU1FB9kKFg0RBwNC0kUAAAEsUExURQAAAAAAAAgICAAAAAAAAAAAAAAAAAAAAAAAAAAAADiB2SNtwjqC2S51yDqD2TZ8zjqD2T6D1DyE20aJ2P///wBMowJOqAJPqA9YqhBguhhUnRlWnSJrvzmC2TmD3jqD2TqE3jx2vzyE20GH206Cw1CU5lCV5lCV6FSU4WmTy26Hpm+Wy3aNp3mp5n6SqX6VsX6t6Iiz65CdrZCu1JGw1pG67pS56pW56p69457C7aDD7a7L767N76/K7q/N77DQ97fQ77jS8bnU8bzV9L3W9MPY8sXZ88bZ8dDg9tnn9+Lj4+jp6evr6+vs7O3t7e3u7u7v7+/v7+/w8PDw8PHx8fHy8vLz8/Pz8/T09PT19fX19fb29vj4+Pn5+fr6+vv7+/z8/P//+v///v///158d/IAAAAVdFJOUwARHyorMzQ1Njf6+/v8/P39/f7+/prq3iMAAAABYktHRGNcvi2qAAAAq0lEQVQYGUXBPUoDARQE4Jl587KQEBRstRKCrY2tR/ACOZ+9rUextVFIa4z795LNEvw+AkpiVt0IA9zi4vUXvu/6tydSCuC6A7h8/n78siwK702GdGihSNuhl5tNa7UjwhYJoT/IImBLJM6sRWJN4iwdvB1qEE4KHIPB1aa964hJ5efiw+r3P3/EpJq9ZMUJMamIkJXZJGbKlLWMHTGrq0Z8GEhcVAVp4l/1R+7tLK9NVBYVAAAAAElFTkSuQmCC")}return n(e,ut),e.prototype.accept_child=function(t){return!0},e}();var he;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;he=function(t){function e(t,A){e.__super__.constructor.call(this),this.add_attr({img:new S(t,A)}),t instanceof Str?this._name.set(t.replace(/^.*\//,"")):this._name.set("image"),this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg=="),this._viewable.set(!0)}return n(e,ut),e.prototype.accept_child=function(t){return!1},e.prototype.sub_canvas_items=function(){return[this.img]},e.prototype.z_index=function(){return this.img.z_index()},e.prototype.update_min_max=function(t,e){return this.img.update_min_max(t,e)},e.prototype.get_file_info=function(t){return t.model_type="Img",t.icon="picture"},e}();var de;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;de=function(t){function e(){e.__super__.constructor.call(this),this._name.set("Transform"),this._ico.set("data:image/png;base64,"),this._viewable.set(!0),this.add_attr({transform:new F})}return n(e,ut),e.prototype.accept_child=function(t){return t instanceof MaskItem||t instanceof DiscretizationItem||t instanceof se||t instanceof Kt||t instanceof le||t instanceof he},e.prototype.sub_canvas_items=function(){var t,e,A,n,i,o,r,s,a,l,c,d,u,p,_,f,m;for(o=[],r=0,s=(l=this._children).length;r<s;r++)A=l[r],AA._get_flat_list(o,A);return u=[0,0,0],d=[0,0,0],this.transform.cur_points.length>=1&&(d=this.transform.cur_points[0].pos.get(),u=h.sub(this.transform.cur_points[0].pos,this.transform.old_points[0].pos)),c=1,e=0,2===this.transform.cur_points.length&&(_=h.sub(this.transform.old_points[1].pos.get(),this.transform.old_points[0].pos.get()),p=h.sub(this.transform.cur_points[1].pos.get(),this.transform.cur_points[0].pos.get()),i=h.len(_),n=h.len(p),i&&(c=n/i,_=h.dis(_,i),p=h.dis(p,n),t=h.cro(_,p),(m=h.len(t))&&(t=h.dis(t,m),f=h.dot(_,p),e=Math.atan2(m,f)))),(a=function(){var n,i,r;for(r=[],n=0,i=o.length;n<i;n++)A=o[n],r.push(function(A){return{draw:function(n){var i,o,r;o={};for(i in n)r=n[i],o[i]=r;return o.re_2_sc={proj:function(A){var i;return i=h.add(A,u),i=h.sub(i,d),e&&(i=h.rot(i,h.mus(e,t))),c&&(i=h.mus(c,i)),i=h.add(i,d),n.re_2_sc.proj(i)}},A.draw(o)},z_index:function(){return A.z_index()}}}(A));return r}.call(this)).push(this.transform),a},e.prototype.get_movable_entities=function(t,e,A,n){return this.transform.get_movable_entities(t,e,A,n)},e}();var ue;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ue=function(t){function e(t){null==t&&(t="Grid"),e.__super__.constructor.call(this),this._name.set(t),this._viewable.set(!0),this.add_attr({graph_attr:{line_color:new a(0,0,0),line_width:new ConstrainedVal(1,{min:0,max:20}),shadow:!1,show_marker:!0,marker:new Choice(0,["dot","square","cross","diamond","bar"]),marker_size:new ConstrainedVal(5,{min:0,max:40}),marker_color:new a(0,0,0),line_width:new ConstrainedVal(1,{min:1,max:5}),marker_size:new ConstrainedVal(1,{min:1,max:50}),font_size:new ConstrainedVal(20,{min:5,max:30}),legend_x_division:new ConstrainedVal(10,{min:1,max:30}),legend_y_division:new ConstrainedVal(10,{min:1,max:30})},_point1:new Y([0,0,0],2,6),_point2:new Y([2,0,0],2,6)}),this.add_attr({point1:this._point1.point,point2:this._point2.point,_graph:new M({marker:"dot",marker_color:"#f00",line_width:this.graph_attr.line_width,line_color:"#f00",marker_size:this.graph_attr.marker_size,font_size:this.graph_attr.font_size,legend_x_division:10,legend_y_division:10,x_axis:"x",y_axis:"y"})}),this._graph.marker=this.graph_attr.marker,this._graph.marker_color=this.graph_attr.marker_color,this._graph.line_width=this.graph_attr.line_width,this._graph.line_color=this.graph_attr.line_color,this._graph.marker_size=this.graph_attr.marker_size,this._graph.points.push(this.point1),this._graph.points.push(this.point2),this._graph.points[0]=this.point1,this._graph.points[1]=this.point2}return n(e,ut),e.prototype.accept_child=function(t){return!1},e.prototype.sub_canvas_items=function(){return[this._graph,this._point1,this._point2]},e.prototype.draw=function(t){var e,A,n,i,o,r;if(e=t.sel_item[this.model_id],this._graph.points.length&&e){for(r=[],A=0,n=(o=this._graph.points).length;A<n;A++)i=o[A],r.push(i.draw(t));return r}},e.prototype.get_movable_entities=function(t,e,A,n){var i,o,r,s,a,l,c,h;for(i=0,r=(l=this._point1).length;i<r;i++)(a=l[i]).get_movable_entities(t,e,A,n);for(h=[],o=0,s=(c=this._point2).length;o<s;o++)a=c[o],h.push(a.get_movable_entities(t,e,A,n));return h},e.prototype.on_mouse_down=function(t,e,A,n){var i,o,r,s,a,l;for(i=0,r=(a=this._point1).length;i<r;i++)a[i].on_mouse_down(t,e,A,n);for(o=0,s=(l=this._point2).length;o<s;o++)l[o].on_mouse_down(t,e,A,n);return!1},e.prototype.on_mouse_move=function(t,e,A,n,i){var o,r,s,a,l,c;for(o=0,s=(l=this._point1).length;o<s;o++)l[o].on_mouse_move(t,e,A,n,i);for(r=0,a=(c=this._point2).length;r<a;r++)c[r].on_mouse_move(t,e,A,n,i);return!1},e}();var pe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;pe=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({name:"configuration desk",list_desk_items:new Lst,selected_list_desk_items:new Lst,account:new st,list_contact:new Lst,selected_organisation:new Lst}),this.list_desk_items.push(new ge("Files","Files")),this.selected_list_desk_items.push(this.list_desk_items[0])}return n(e,t),e}(Model);var _e;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;_e=function(t){function e(){e.__super__.constructor.call(this),this.add_attr({name:"configuration desk",list_desk_items:new Lst,selected_list_desk_items:new Lst,account:new st,list_contact:new Lst,selected_organisation:new Lst,selected_site:new Lst}),this.list_desk_items.push(new ge("Files","Files")),this.list_desk_items.push(new ge("Projects","Projects")),this.selected_list_desk_items.push(this.list_desk_items[0])}return n(e,t),e}(Model);var fe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;fe=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({config:t}),this.add_attr({list_desk_items:this.config.list_desk_items,selected_list_desk_items:this.config.selected_list_desk_items}),this.layout=new o({sep_norm:0,children:[{panel_id:"DeskListView",immortal:!0},{panel_id:"AdminDeskNavigatorView",strength:3}]})}return n(e,t),e}(Model);var me;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;me=function(t){function e(t){e.__super__.constructor.call(this),this.add_attr({config:t}),this.add_attr({list_desk_items:this.config.list_desk_items,selected_list_desk_items:this.config.selected_list_desk_items}),this.layout=new o({sep_norm:0,children:[{sep_norm:1,children:[{panel_id:"DeskListView",immortal:!0}]},{panel_id:"DeskNavigatorView",strength:3}]})}return n(e,t),e}(Model);var ge;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ge=function(t){function e(t,A){null==A&&(A=""),e.__super__.constructor.call(this),this.add_attr({_ico:"",_name:"",_ref:"",_context_actions:new Lst}),this._name._set(t),this._ref._set(A)}return n(e,t),e.prototype.to_string=function(){return this._name.get()},e}(Model);var ve;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e}(Process);var ye,we,xe,be,Ee,Be,Ne;I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};Ee=function(t,e){var A,n,i,o,r;null==t&&(t={}),null==e&&(e="div"),n=document.createElement(t.nodeName||e);for(i in t)switch(r=t[i],i){case"parentNode":r.appendChild(n);break;case"nodeName":break;case"style":for(A in r)o=r[A],n.style[A]=o;break;case"txt":n.innerHTML=r;break;default:n[i]=r}return n},we=function(t,e){var A,n;return"string"==typeof e?we(t,e.split(" ")):(A=(t.className||"").split(" "),n=e.filter(function(t){return I.call(A,t)<0}),t.className=A.concat(n).filter(function(t){return t}).join(" "))},Ne=function(t,e){var A;return"string"==typeof e?Ne(t,e.split(" ")):(A=(t.className||"").split(" "),t.className=A.filter(function(t){return I.call(e,t)<0}).join(" "))},xe=function(t){return null!=t.offsetParent?t.offsetLeft+xe(t.offsetParent):t.offsetLeft},be=function(t){return null!=t.offsetParent?t.offsetTop+be(t.offsetParent):t.offsetTop},ye=100,Be=function(e,A){var n,i,o,r,s,a,l,c,h,d,u,p,_,f,m;return null==A&&(A={}),null==A.popup_closer&&(o=Ee({parentNode:document.body,id:"popup_closer",onmousedown:function(){return"function"==typeof A.onclose&&A.onclose(),document.body.removeChild(o),document.body.removeChild(f)},ondrop:function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:A.fixed_opacity||"#000",opacity:A.fixed_opacity||0,zIndex:ye}})),null!=A.event&&A.event.clientX?(r=A.event.clientX,s=A.event.clientY):(r=t.innerWidth/2-10,s=t.innerHeight/2-10),p=A.top_x||-1e3,_=A.top_y||-1e3,c=0,h=0,f=void 0,null!=A.width&&(m=A.width),null!=A.height&&(l=A.height),d=function(){return p=r-f.clientWidth/2,_=s-f.clientHeight/2,p+f.clientWidth>t.innerWidth&&(p=t.innerWidth-f.clientWidth-50),_+f.clientHeight>t.innerHeight&&(_=t.innerHeight-f.clientHeight+50),p<50&&(p=50),_<50&&(_=50),f.style.left=p,f.style.top=_},i=function(t){return p+=t.clientX-c,_+=t.clientY-h,f.style.left=p,f.style.top=_,c=t.clientX,h=t.clientY,"function"==typeof t.preventDefault?t.preventDefault():void 0},n=function(t){return"function"==typeof document.detachEvent&&document.detachEvent("onmousemove",i),"function"==typeof document.detachEvent&&document.detachEvent("onmouseup",n),"function"==typeof document.removeEventListener&&document.removeEventListener("mousemove",i,!0),"function"==typeof document.removeEventListener?document.removeEventListener("mouseup",n,!0):void 0},a="px",A.top_x||(setTimeout(d,1),a="%"),f=Ee({parentNode:document.body,className:"Popup",style:{position:"absolute",left:p,top:_,width:m+a,height:l+a,zIndex:ye+1}}),ye+=2,Ee({parentNode:f,className:"PopupClose",txt:"Close",onmousedown:function(t){return"function"==typeof A.onclose&&A.onclose(),null!=o&&document.body.removeChild(o),document.body.removeChild(f)}}),e&&Ee({parentNode:f,className:"PopupTitle",innerHTML:e,onmousedown:function(t){return c=t.clientX,h=t.clientY,p=parseInt(f.style.left),_=parseInt(f.style.top),document.addEventListener("mousemove",i,!0),document.addEventListener("mouseup",n,!0),"function"==typeof t.preventDefault?t.preventDefault():void 0}}),u=Ee({parentNode:f,className:"PopupWindow",style:{padding:"6px"}}),null!=A.child&&u.appendChild(A.child),u};var Ce;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};Ce=function(t){function e(t,A,n,i,o,r){this.el=t,this.roots=A,this.selected=null!=n?n:new Lst,this.visible=null!=i?i:new Model,this.closed=null!=o?o:new Lst,this.visibility_context=r,null==this.visibility_context&&(this.visibility_context=new Str("default_visibility_context")),null==this.visible[this.visibility_context.get()]&&this.visible.add_attr(this.visibility_context.get(),new Lst),e.__super__.constructor.call(this,[this.roots,this.closed,this.selected,this.visible,this.visibility_context]),this.css_prefix="",this.icon_width=18,this.line_height=18,this.index_color_for_tree=0,this.sep_x=4*this.line_height/4,this._line_div=Ee({className:this.css_prefix+"TreeLine",style:{position:"absolute",height:2,right:0}}),this._created_elements=[],this.linked_id_dom={}}return n(e,ve),e.prototype.get_children_of=function(t){return t._children},e.prototype.get_output_of=function(t){return t._output},e.prototype.insert_child=function(t,e,A){return null==t._children&&t.add_attr({_children:[]}),t._children.insert(e,[A])},e.prototype.get_viewable_of=function(t){return t._viewable},e.prototype.get_computable_of=function(t){return t instanceof ft},e.prototype.get_name_of=function(t){return t._name},e.prototype.get_name_class_of=function(t){return t._name_class},e.prototype.get_ico_of=function(t){return t._ico},e.prototype.onchange=function(){var t,e,A,n,i,o,r,s;for(this._need_render()&&(this._update_repr(),this._render()),s=[],e=0,A=(i=this.flat).length;e<A;e++)n=i[e].item,null!=this.linked_id_dom[n.model_id]?((null!=(o=this.get_children_of(n))?o.has_been_directly_modified():void 0)&&(t=this.linked_id_dom[n.model_id]).classList.add("TreeJustModified"),(null!=(r=this.get_output_of(n))?r.has_been_directly_modified():void 0)?(t=this.linked_id_dom[n.model_id],s.push(t.classList.add("TreeJustModified"))):s.push(void 0)):s.push(void 0);return s},e.prototype._get_color_element=function(t){return"#262626","#262626"},e.prototype._get_next_color_element=function(){var t;return t=["lightSeaGreen"],this.index_color_for_tree===t.length-1?this.index_color_for_tree=0:this.index_color_for_tree++,t[this.index_color_for_tree]},e.prototype._render=function(){var t,e,A,n,i,o,r,s,a,l;for(A=0,i=(s=this._created_elements).length;A<i;A++)t=s[A],this.el.removeChild(t);for(this._created_elements=[],this.linked_id_dom={},r=0,this.height_header=this.line_height+10,this.height_icon_bar=0,r+=this.height_header,r+=this.height_icon_bar,this.treeContainer=Ee({nodeName:"div",id:"ContainerTreeView",parentNode:this.el}),this._created_elements.push(this.treeContainer),l=[],n=0,o=(a=this.flat).length;n<o;n++)e=a[n],l.push(function(t){return function(e){var A,n,i,o,s,a;for(A=Ee({parentNode:t.treeContainer,className:t.css_prefix+"TreeView",my_item:e,style:{position:"absolute",top:r,height:t.line_height,lineHeight:t.line_height+"px",left:0,right:0,overflow:"hidden",color:t._get_color_element(e)},onclick:function(A){return A.ctrlKey?t.selected.toggle(e.item_path):(t.selected.clear(),t.selected.push(e.item_path)),!0},draggable:!0,ondragstart:function(A){return t.drag_info=e,t.drag_kind=A.ctrlKey?"copy":"move",A.dataTransfer.effectAllowed=t.drag_kind,A.dataTransfer.setData("text/plain","")},ondragend:function(e){return t._line_div.parentNode===t.el&&t.el.removeChild(t._line_div),e.returnValue=!1,!1},ondragover:function(A){var n,i,o,r,s,a;for(r=i=a=e.path.length-1;a<=0?i<=0:i>=0;r=a<=0?++i:--i)if(s=e.path[r],t._accept_child(s,t.drag_info)){o=s.num_in_flat,r+1<e.path.length&&(o=(n=e.path[r+1]).num_in_flat+t._nb_displayed_children(n)),t._line_div.style.top=t.line_height*(o+1)+t.height_header+t.height_icon_bar,t._line_div.style.left=t.sep_x*(r+1),t.el.appendChild(t._line_div);break}return A.returnValue=!1,!1},ondragleave:function(e){return t._line_div.parentNode===t.el&&t.el.removeChild(t._line_div),e.returnValue=!1,!1},ondrop:function(A){var n,i,o,r,s,a,l,c,h,d,u,p,_;if(void 0===i&&(A.stopPropagation(),A.returnValue=!1,A.preventDefault(),i=A.dataTransfer.files),A.dataTransfer.files.length>0)for(r=0,s=i.length;r<s;r++)o=(n=i[r]).type.indexOf("image"),console.log("TODO, need to create an Img who contains a Path"),-1!==o&&(u=new he(n.name),!0===e.item.accept_child(u)&&(e.item.add_child(u),e.item.img_collection.push(u)));for(c=a=p=e.path.length-1;p<=0?a<=0:a>=0;c=p<=0?++a:--a)if(d=e.path[c],t._accept_child(d,t.drag_info)){"move"===t.drag_kind&&t.drag_info.parents.length&&(h=t.drag_info.parents[t.drag_info.parents.length-1],null!=(_=t.get_children_of(h.item))&&_.remove_ref(t.drag_info.item)),l=0,c+1<e.path.length&&(l=e.path[c+1].num_in_parent+1),t.insert_child(d.item,l,t.drag_info.item);break}return A.returnValue=!1,A.stopPropagation(),A.preventDefault(),!1}}),t.linked_id_dom[e.item.model_id]=A,i=!1,o=0,s=(a=t.flat).length;o<s;o++)if((n=a[o]).item.equals(e.item)&&!t.selected.contains(e.item_path)&&t.selected.contains(n.item_path)){i=!0;break}return i&&(A.className+=" "+t.css_prefix+"TreePartiallySelected"),t.selected.contains(e.item_path)?A.className+=" "+t.css_prefix+"TreeSelected":t.closed.contains(e.item_path)&&t._has_a_selected_child(e.item,e.item_path)&&(A.className+=" "+t.css_prefix+"TreePartiallySelected"),r+=t.line_height,t._add_tree_signs(A,e),t._make_line(A,e)}}(this)(e));return l},e.prototype._add_tree_signs=function(t,e){var A,n,i,o,r,s,a,l,c,h,d;for(s=0,A=0,n=(a=e.parents).length;A<n;A++)(r=a[A]).num_in_parent<r.len_sibling-1&&Ee({parentNode:t,nodeName:"span",className:this.css_prefix+"TreeIcon_tree_cnt",style:{position:"absolute",top:0,left:s,width:this.sep_x,height:this.line_height}}),s+=this.sep_x;return h=this.css_prefix+"TreeIcon_tree",o=e.num_in_parent,1===(i=e.len_sibling)?h+="_end":0===o&&1===e.path.length?h+="_beg":h+=o<i-1?"_mid":"_end",((null!=(l=this.get_children_of(e.item))?l.length:void 0)||(null!=(c=this.get_output_of(e.item))?c.length:void 0))&&(this.closed.contains(e.item_path)?h+="_add":h+="_sub"),Ee({parentNode:t,className:h,nodeName:"span",onmousedown:(d=this,function(t){return d.closed.toggle(e.item_path)}),style:{position:"absolute",top:0,left:s,width:this.sep_x,height:this.line_height}})},e.prototype._make_line=function(t,e){var A,n,i,o,r,s;if(i=this.sep_x*e.path.length,n=Ee({parentNode:t,txt:e.name,className:e.name_class,style:{position:"absolute",top:0,height:this.line_height,left:i,right:0}}),e.is_an_output&&(n.style.textAlign="left",n.style.color="red",n.style.right="20px"),this.get_computable_of(e.item)&&(A="TreeComputableItem",Ee({parentNode:t,className:this.css_prefix+A,onmousedown:function(t){if(!e.item._computation_mode.get()&&!e.item._computation_state.get())return e.item.do_it()},style:{position:"absolute",top:0,right:22}})),null!=(o=this.get_viewable_of(e.item))?o.toBoolean():void 0)return Ee({parentNode:t,className:(r=e.item,I.call(this.visible[this.visibility_context.get()],r)>=0?this.css_prefix+"TreeVisibleItem":this.selected.contains(e.item_path)?this.css_prefix+"TreeSelectedItem":this.css_prefix+"TreeHiddenItem"),onmousedown:(s=this,function(t){if(null!=e.item._allow_vmod==0||e.item._allow_vmod.get())return s.visible[s.visibility_context.get()].toggle_ref(e.item)}),style:{position:"absolute",top:0,right:0}})},e.prototype._update_repr=function(){var t;return this.flat=[],this.repr=function(){var e,A,n;for(n=[],t=e=0,A=this.roots.length;0<=A?e<A:e>A;t=0<=A?++e:--e)n.push(this._update_repr_rec(this.roots[t],t,this.roots.length,[]));return n}.call(this)},e.prototype._update_repr_rec=function(t,e,A,n,i){var o,r,s,a,l,c;return null==i&&(i=!1),(r={item:t,name:this.get_name_of(t).get(),name_class:(null!=(c=this.get_name_class_of(t))?c.get():void 0)||"",num_in_parent:e,len_sibling:A,children:[],outputs:[],parents:n,path:function(){var t,e,A;for(A=[],t=0,e=n.length;t<e;t++)a=n[t],A.push(a);return A}(),item_path:function(){var t,e,A;for(A=[],t=0,e=n.length;t<e;t++)a=n[t],A.push(a.item);return A}(),num_in_flat:this.flat.length,is_an_output:i}).path.push(r),r.item_path.push(t),this.flat.push(r),this.closed.contains(r.item_path)||(null!=(o=this.get_children_of(t))&&(r.children=function(){var t,e,A;for(A=[],s=t=0,e=o.length;0<=e?t<e:t>e;s=0<=e?++t:--t)(l=function(){var t,e,A;for(A=[],t=0,e=n.length;t<e;t++)a=n[t],A.push(a);return A}()).push(r),A.push(this._update_repr_rec(o[s],s,o.length,l,!1));return A}.call(this)),null!=(o=this.get_output_of(t))&&(r.outputs=function(){var t,e,A;for(A=[],s=t=0,e=o.length;0<=e?t<e:t>e;s=0<=e?++t:--t)(l=function(){var t,e,A;for(A=[],t=0,e=n.length;t<e;t++)a=n[t],A.push(a);return A}()).push(r),A.push(this._update_repr_rec(o[s],s,o.length,l,!0));return A}.call(this))),r},e.prototype._need_render=function(){var t,e,A,n,i,o,r,s,a,l,c;for(null==this.visible[this.visibility_context.get()]&&this.visible.add_attr(this.visibility_context.get(),new Lst),e=0,n=(o=[this.closed,this.selected,this.visible[this.visibility_context.get()],this.visibility_context]).length;e<n;e++)if(o[e].has_been_directly_modified())return!0;for(A=0,i=(r=this._flat_item_list()).length;A<i;A++){if((t=r[A]).has_been_directly_modified())return!0;if(null!=(s=this.get_children_of(t))?s.has_been_directly_modified():void 0)return!0;if(null!=(a=this.get_output_of(t))?a.has_been_directly_modified():void 0)return!0;if(null!=(l=this.get_viewable_of(t))?l.has_been_directly_modified():void 0)return!0;if(null!=(c=this.get_name_class_of(t))?c.has_been_modified():void 0)return!0}return!1},e.prototype._has_a_selected_child=function(t,e){var A,n,i,o,r,s;if(null!=this.get_children_of(t))for(i=0,o=(s=this.get_children_of(t)).length;i<o;i++){if(A=s[i],(n=function(){var t,A,n;for(n=[],t=0,A=e.length;t<A;t++)r=e[t],n.push(r);return n}()).push(A),this.selected.contains(n))return!0;if(this._has_a_selected_child(A,n))return!0}return!1},e.prototype._nb_displayed_children=function(t){var e,A,n,i,o;for(o=0,A=0,n=(i=t.children).length;A<n;A++)e=i[A],o+=1+this._nb_displayed_children(e);return o},e.prototype._accept_child=function(t,e){var A;return null!=e&&I.call(t.parents,e)<0&&("function"==typeof(A=t.item).accept_child?A.accept_child(e.item):void 0)},e.prototype._flat_item_list=function(){var t,e,A,n,i;for(i=[],e=0,A=(n=this.roots).length;e<A;e++)t=n[e],this._flat_item_list_rec(i,t);return i},e.prototype._flat_item_list_rec=function(t,e){var A,n,i,o,r,s,a,l;if(t.push(e),null!=this.get_output_of(e))for(n=0,o=(s=this.get_output_of(e)).length;n<o;n++)A=s[n],this._flat_item_list_rec(t,A);if(null!=this.get_children_of(e)){for(l=[],i=0,r=(a=this.get_children_of(e)).length;i<r;i++)A=a[i],l.push(this._flat_item_list_rec(t,A));return l}},e}();var Pe,ke;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Pe=function(A){function i(t,A,n){var o;this.el=t,this.model=A,null==n&&(n=new e),i.__super__.constructor.call(this,[this.model,n.window_size]),this.disp_top=0,this.disp_left=0,this.disp_right=0,this.disp_bottom=0,this.border_size=4,this._pan_vs_id={},this._int_edges=[],this._ext_edges=function(){var t,e;for(e=[],o=t=0;t<4;o=++t)e.push(function(t){return function(e){return Ee({className:"LayoutManager_Border",onmousedown:function(A){return t._cut_border_mouse_down(e%2,e>=2,A)},style:{position:"absolute",cursor:"wnes"[e]+"-resize"}})}}(this)(o));return e}.call(this),this.tmp_border=document.createElement("div"),this.tmp_border.style.position="absolute",this.tmp_border.style.opacity=.5,this._hidden=!1}return n(i,ve),i.prototype.onchange=function(){if(!this._hidden)return this.render()},i.prototype.new_panel_instance=function(t,e){var A,n,i,o;return o=new ke(this.el,t,e),i=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),A=Math.floor(255*Math.random()),o.div.style.background="rgb( "+i+", "+n+", "+A+" )",o},i.prototype.render=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;for(t=this.border_size,_=[this.disp_left+t,this.disp_top+t],p=[this.el.offsetWidth-this.disp_right-t,this.el.offsetHeight-this.disp_bottom-t],this.flat=this.model.make_info(_,p,t),this._ext_edges[0].style.left=this.disp_left+0,this._ext_edges[0].style.top=this.disp_top,this._ext_edges[0].style.bottom=this.disp_bottom,this._ext_edges[0].style.width=this.border_size,this._ext_edges[1].style.top=this.disp_top+0,this._ext_edges[1].style.left=this.disp_left+this.border_size,this._ext_edges[1].style.right=this.disp_right+this.border_size,this._ext_edges[1].style.height=this.border_size,this._ext_edges[2].style.right=this.disp_right+0,this._ext_edges[2].style.top=this.disp_top,this._ext_edges[2].style.bottom=this.disp_bottom,this._ext_edges[2].style.width=this.border_size,this._ext_edges[3].style.bottom=this.disp_bottom+0,this._ext_edges[3].style.left=this.disp_left+this.border_size,this._ext_edges[3].style.right=this.disp_right+this.border_size,this._ext_edges[3].style.height=this.border_size,n=0,s=(f=this._ext_edges).length;n<s;n++)(e=f[n]).parentNode!==this.el&&this.el.appendChild(e);for(i=0,a=(m=this._int_edges).length;i<a;i++)(t=m[i]).parentNode===this.el&&this.el.removeChild(t);for(this._int_edges=function(){var t,e,A,n;for(n=[],e=0,t=(A=this.flat).length;e<t;e++)null!=(u=A[e]).d_border&&n.push(function(t){return function(e){return Ee({parentNode:t.el,className:"LayoutManager_Border",onmousedown:function(A){return t._int_border_mouse_down(e,A)},style:{position:"absolute",cursor:e.d_border?"row-resize":"col-resize",left:e.d_border?e.p_min[0]:e.p_max[0],top:e.d_border?e.p_max[1]:e.p_min[1],width:e.d_border?e.p_max[0]-e.p_min[0]:e.border_s,height:e.d_border?e.border_s:e.p_max[1]-e.p_min[1]}})}}(this)(u));return n}.call(this),y={},h=0,l=(g=this.flat).length;h<l;h++)0===(A=g[h]).children.length&&(y[A.panel_id]=!0,null==this._pan_vs_id[A.panel_id]&&(this._pan_vs_id[A.panel_id]=this.new_panel_instance(A.data)),this._pan_vs_id[A.panel_id].render(A));for(v=[],d=0,c=(r=function(){var t,e;t=this._pan_vs_id,e=[];for(o in t)w=t[o],null==y[o]&&(w.destructor(),e.push(o));return e}.call(this)).length;d<c;d++)o=r[d],v.push(delete this._pan_vs_id[o]);return v},i.prototype.hide=function(){var t,e,A,n,i,o,r,s,a,l;this._hidden=!0,r=this._pan_vs_id;for(n in r)r[n].hide();for(e=0,i=(s=this._int_edges).length;e<i;e++)(t=s[e]).parentNode===this.el&&this.el.removeChild(t);for(l=[],A=0,o=(a=this._ext_edges).length;A<o;A++)(t=a[A]).parentNode===this.el?l.push(this.el.removeChild(t)):l.push(void 0);return l},i.prototype.show=function(){return this._hidden=!1,this.model._signal_change()},i.prototype.set_message=function(t){return null==this.message&&(this.message=document.createElement("span"),this.message.className="LayoutManager_Message",this.message.appendChild(document.createTextNode(t))),this.message.parentNode===this.el&&this.el.removeChild(this.message),this.el.appendChild(this.message),this.message.firstChild.nodeValue=t},i.prototype.del_message=function(){if(null!=this.message&&this.message.parentNode===this.el)return this.el.removeChild(this.message)},i.prototype._end_mouse_interact=function(){return this.el.onmouseup=null,this.el.onmouseout=null,this.el.onmousemove=null,null!=this.tmp_border&&this.tmp_border.parentNode===this.el&&this.el.removeChild(this.tmp_border),this.del_message()},i.prototype._int_border_mouse_down=function(e,A){var n,i,o;return null==A&&(A=t.event),this.el.onmouseup=(n=this,function(t){return n._int_border_mouse_up(e,t)}),this.el.onmouseout=(i=this,function(t){return i._int_border_mouse_out(e,t)}),this.el.onmousemove=(o=this,function(t){return o._int_border_mouse_move(e,t)}),"function"==typeof A.preventDefault&&A.preventDefault(),A.returnValue=!1,!1},i.prototype._int_border_mouse_up=function(t,e){return this._end_mouse_interact(),this._use_int_border(t,i.abs_evt_pos(this.el,e))},i.prototype._int_border_mouse_out=function(e,A){var n;if(null==A&&(A=t.event),!(n=A.relatedTarget||A.toElement)||"HTML"===n.nodeName)return this._end_mouse_interact()},i.prototype._int_border_mouse_move=function(e,A){return null==A&&(A=t.event),this._update_int_border(e,i.abs_evt_pos(this.el,A))},i.prototype._update_int_border=function(t,e){var A,n,o,r,s,a,l,c,h,d,u;return u=t.parent,o=t.d_border,l=u.children[t.num_in_p+0].p_min[o],c=u.children[t.num_in_p+1].p_max[o],e[o]<l||e[o]>c?(A=e[o]<l&&u.children[t.num_in_p+0].can_be_destroyed(),n=e[o]>c&&u.children[t.num_in_p+1].can_be_destroyed(),A||n?(A?i.resize_div(this.tmp_border,u.children[t.num_in_p+0].p_min,u.children[t.num_in_p+0].p_max):i.resize_div(this.tmp_border,u.children[t.num_in_p+1].p_min,u.children[t.num_in_p+1].p_max),this.tmp_border.style.background="#000000",this.set_message("Destruction ?")):this.set_message("This item cannot be destroyed"),!0):(a=!0,r=l+t.border_s/2+u.children[t.num_in_p+0].min_by(o),s=c-t.border_s/2-u.children[t.num_in_p+1].min_by(o),(e[o]<r||e[o]>s)&&(e[o]<r?e[o]=r:e[o]=s,this.tmp_border.style.background="#FF0000",this.set_message("The minimum size is achieved."),a=!1),r=l+t.border_s/2+u.children[t.num_in_p+0].max_by(o),s=c-t.border_s/2-u.children[t.num_in_p+1].max_by(o),(e[o]>r||e[o]<s)&&(e[o]>r?e[o]=r:e[o]=s,this.tmp_border.style.background="#FF0000",this.set_message("The maximum size is achieved."),a=!1),a&&(this.tmp_border.style.background="#FFFFFF",this.del_message()),d=[t.p_min[0],t.p_min[1]],h=[t.p_max[0],t.p_max[1]],d[o]=e[o]-t.border_s/2,h[o]=e[o]+t.border_s/2,i.resize_div(this.tmp_border,d,h),this.tmp_border.parentNode!==this.el?this.el.appendChild(this.tmp_border):void 0)},i.prototype._use_int_border=function(t,e){var A,n,i,o,r,s,a,l;return l=t.parent,i=t.d_border,s=l.children[t.num_in_p+0].p_min[i],a=l.children[t.num_in_p+1].p_max[i],e[i]<s||e[i]>a?(A=e[i]<s&&l.children[t.num_in_p+0].can_be_destroyed(),n=e[i]>a&&l.children[t.num_in_p+1].can_be_destroyed(),A&&this.model.rm_panel(l.children[t.num_in_p+0].panel_id),n&&this.model.rm_panel(l.children[t.num_in_p+1].panel_id),!0):(o=s+this.border_size/2+l.children[t.num_in_p+0].min_by(i),r=a-this.border_size/2-l.children[t.num_in_p+1].min_by(i),e[i]=Math.max(e[i],o),e[i]=Math.min(e[i],r),l.children.length>2&&console.log("TODO: par.children.length > 2"),this.model.find_item_with_panel_id(l.children[0].panel_id).strength.set(e[i]-this.border_size/2-s),this.model.find_item_with_panel_id(l.children[1].panel_id).strength.set(a-e[i]-this.border_size/2))},i.prototype._cut_border_mouse_down=function(e,A,n){var o,r,s;return null==n&&(n=t.event),this._update_cut_border(e,A,i.abs_evt_pos(this.el,n)),this.el.onmouseup=(o=this,function(t){return o._cut_border_mouse_up(e,A,t)}),this.el.onmouseout=(r=this,function(t){return r._cut_border_mouse_out(e,A,t)}),this.el.onmousemove=(s=this,function(t){return s._cut_border_mouse_move(e,A,t)}),"function"==typeof n.preventDefault&&n.preventDefault(),n.returnValue=!1,!1},i.prototype._cut_border_mouse_up=function(t,e,A){var n,o,r,s,a,l;for(this._end_mouse_interact(),a=i.abs_evt_pos(this.el,A),r=0,s=(l=this.flat).length;r<s;r++)if(0===(o=l[r]).children.length&&o.contains(a)){if(o.p_max[t]-o.p_min[t]<=o.min_by(t)-this.border_size)return!1;n=o.p_max[t]-o.p_min[t]-this.border_size,n+=0===n,this.model.mk_split(t,e,o.panel_id,(a[t]-o.p_min[t]-this.border_size/2)/n)}},i.prototype._cut_border_mouse_out=function(e,A,n){var i;if(null==n&&(n=t.event),!(i=n.relatedTarget||n.toElement)||"HTML"===i.nodeName)return this._end_mouse_interact()},i.prototype._cut_border_mouse_move=function(e,A,n){return null==n&&(n=t.event),this._update_cut_border(e,A,i.abs_evt_pos(this.el,n))},i.prototype._update_cut_border=function(t,e,A){var n,o,r,s,a,l;for(o=0,r=(l=this.flat).length;o<r;o++)if(0===(n=l[o]).children.length&&n.contains(A)&&!(A[t]-n.p_min[t]<=this.border_size/2||n.p_max[t]-A[t]<=this.border_size/2))return a=[n.p_min[0],n.p_min[1]],s=[n.p_max[0],n.p_max[1]],a[t]=A[t]-this.border_size/2,s[t]=A[t]+this.border_size/2,n.p_max[t]-n.p_min[t]===n.min_by(t)?(this.tmp_border.style.background="#FF0000",this.set_message("The panel size is already minimal for this direction.")):0===e&&n.p_max[t]-A[t]<n.min_by(t)||1===e&&A[t]-n.p_min[t]<n.min_by(t)?(this.tmp_border.style.background="#FF0000",this.set_message("Dividing here would cause this panel to be under minimal size.")):(this.tmp_border.style.background="#FFFFFF",this.del_message()),i.resize_div(this.tmp_border,a,s),this.tmp_border.parentNode!==this.el&&this.el.appendChild(this.tmp_border),!0;return this.tmp_border.parentNode===this.el&&this.el.removeChild(this.tmp_border),!1},i.resize_div=function(t,e,A){return t.style.left=e[0],t.style.top=e[1],t.style.width=A[0]-e[0],t.style.height=A[1]-e[1]},i.getLeft=function(t){return null!=t.offsetParent?t.offsetLeft+i.getLeft(t.offsetParent):t.offsetLeft},i.getTop=function(t){return null!=t.offsetParent?t.offsetTop+i.getTop(t.offsetParent):t.offsetTop},i.abs_evt_pos=function(t,e){return[e.clientX-i.getLeft(t),e.clientY-i.getTop(t)]},i}(),ke=function(){function t(t,e,A,n){this.el=t,null==A&&(A=""),null==n&&(n="div"),this.div=document.createElement(n),this.div.style.position="absolute",this.title=A}return t.prototype.destructor=function(){return this.hide()},t.prototype.render=function(t,e){var A,n;if(null==e&&(e=0),this.el.appendChild(this.div),n=t.p_min,A=t.p_max,this.div.style.left=n[0]-e,this.div.style.top=n[1]-e,this.div.style.width=A[0]-n[0],this.div.style.height=A[1]-n[1],""!==this.title&&null==this.title_elem)return this.title_elem=Ee({nodeName:"div",className:"Title",parentNode:this.div,txt:this.title})},t.prototype.hide=function(){var t;if((null!=(t=this.title_elem)?t.parentNode:void 0)===this.div&&this.div.removeChild(this.title_elem),this.div.parentNode===this.el)return this.el.removeChild(this.div)},t}();var Se;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1};Se=function(t){function e(t){var A,n,i;e.__super__.constructor.call(this,t.model),this.default_types=[];for(A in t)i=t[A],this[A]=i;null==this.focus&&null==this.parent&&(this.focus=new Val(-1)),this.closed_models||null!=this.parent||(this.closed_models=new Lst),null!=(n=this.get_focus())&&n.bind(this),this.make_ed()}return n(e,ve),e.default_types=[function(t){if(t instanceof Bool)return Xe},function(t){if(t instanceof Choice)return We},function(t){if(t instanceof Button)return Ve},function(t){if(t instanceof ConstrainedVal)return Ge},function(t){if(t instanceof Text)return Ye},function(t){if(t instanceof Obj)return Ue},function(t){if(t instanceof ConstOrNotModel)return Me},function(t){if(t.dim())return ze},function(t){if(t instanceof r)return je}],e.prototype.destructor=function(){var t;return null!=(null!=(t=this.ce)?t.parentNode:void 0)&&this.ce.parentNode.removeChild(this.ce),e.__super__.destructor.call(this)},e.prototype.get_property=function(t,e){return null!=this[t]?this[t]:null!=this.parent?this.parent.get_property(t,e):e},e.prototype.get_focus=function(){return this.get_property("focus")},e.prototype.get_item_width=function(){return this.get_property("item_width",98)},e.prototype.get_className=function(){return this.get_property("className","")},e.prototype.get_closed_models=function(){return this.get_property("closed_models")},e.prototype.get_label_ratio=function(){return this.get_property("label_ratio",.35)},e.prototype.get_justification=function(){return null!=this.justification?this.justification:null==this.parent||this.parent.get_justification()},e.prototype.snapshot=function(){return null!=this.undo_manager?this.undo_manager.snapshot():null!=this.parent?this.parent.snapshot():void 0},e.prototype.get_display_name=function(t,A){var n;return null!=t.get_model_editor_parameters&&null!=(n=e._get_model_editor_parameters(t)).display_name[A]?n.display_name[A]:this.trans_name(A)},e.prototype.trans_name=function(t){var e,A;return null!=this.parent?this.parent.trans_name(t):(e=/\_/g,(A=t.replace(e," "))[0].toUpperCase()+A.slice(1))},e.prototype.make_ed=function(){var t,e,A,n,i;return null!=this.label?this.ok_for_label()?(this.ce=Ee({parentNode:this.el,nodeName:"span"}),this.display_label()?(this.ev=Ee({parentNode:this.ce,nodeName:"span",innerHTML:this.label,style:{display:"inline-block",fontSize:12,width:this.get_item_width()*this.get_label_ratio()+"%",paddingLeft:.5*(100-this.get_item_width())+"%"}}),this.ew=this.get_item_width()*(1-this.get_label_ratio())):this.ew=this.get_item_width(),this.ed=this.ce):(this.ce=Ee({parentNode:this.el,nodeName:"fieldset"}),t=this.get_closed_models(),A=Ee({parentNode:this.ce,nodeName:"legend",innerHTML:this.label,onclick:(i=this,function(){return(t=i.get_closed_models()).toggle_ref(i.model)})}),e=Ee({parentNode:this.ce}),t.bind((n=this,function(){var i;return i=n.model,I.call(t,i)>=0?(e.style.display="none",we(n.ce,"ModelEditor_closed"),we(A,"ModelEditor_closed")):(e.style.display="block",Ne(n.ce,"ModelEditor_closed"),Ne(A,"ModelEditor_closed"))})),this.ew=this.get_item_width(),this.ed=e):(this.ce=Ee({parentNode:this.el,nodeName:"span",className:this.get_className()}),this.ew=this.get_item_width(),this.ed=this.ce)},e.prototype.ok_for_label=function(){return!0},e.prototype.display_label=function(){return!0},e.prototype.contains_labels=function(){return!1},e._get_model_editor_parameters=function(t){var e;return e={display_name:{},model_editor:{}},t.get_model_editor_parameters(e),e},e.get_item_type_for=function(t){var A,n,i,o,r,s,a;if(null!=(n=t.item_type))return n;if(null!=t.name&&null!=(null!=(r=t.parent)?r.model.get_model_editor_parameters:void 0)&&null!=(a=e._get_model_editor_parameters(t.parent.model)).model_editor[t.name])return a.model_editor[t.name];for(A=0,i=(s=e.default_types).length;A<i;A++)if(null!=(o=(0,s[A])(t.model)))return o;return Re},e}();var Re;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Re=function(t){function e(t){e.__super__.constructor.call(this,t),this.containers={}}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;u=this.containers;for(c in u){for(l=u[c],g=!1,t=0,o=(p=this.model._attribute_names).length;t<o;t++)"_"!==(h=p[t])[0]&&(g|=(y=this.model[h]).model_id===parseInt(c));g||(l.edit.destructor(),delete this.containers[c])}for(A=0,r=(_=this.model._attribute_names).length;A<r;A++)"_"!==(h=_[A])[0]&&(y=this.model[h],null==this.containers[y.model_id]&&(this.containers[y.model_id]={edit:Le({el:this.ed,model:this.model[h],label:this.get_display_name(this.model,h),parent:this,name:h}),span:this.get_justification()?Ee({parentNode:this.ed,nodeName:"span"}):void 0}));if(this.get_justification()){for(w=0,d=[],n=0,s=(f=this.model._attribute_names).length;n<s;n++)if("_"!==(h=f[n])[0]){if(y=this.model[h],w+(e=this.containers[y.model_id]).edit.get_item_width()>100){for(e.span.style.width=0,i=0,a=(m=d.slice(0,d.length-1)).length;i<a;i++)(v=m[i]).style.display="inline-block",v.style.width=(100-w)/(d.length-1)+"%";w=0,d=[]}w+=e.edit.get_item_width(),d.push(e.span)}if(w<100&&d.length>=2)return(v=d[d.length-2]).style.display="inline-block",v.style.width=(100-w)/(d.length-1)+"%"}},e.prototype.ok_for_label=function(){return!1},e.prototype.contains_labels=function(){return!0},e.prototype.set_disabled=function(t){var e,A,n,i;n=this.containers,i=[];for(A in n)e=n[A],i.push(e.edit.set_disabled(t));return i},e}();var Ie;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ie=function(e){function A(e){var n,i,o,r,s,a,l;for(A.__super__.constructor.call(this,e),this.name="my_attribute",this.nameTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Name:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.nameInput=Ee({parentNode:this.ed,nodeName:"input",value:this.name,style:{width:.7*this.ew+"%"},onchange:(s=this,function(){return s.snapshot(),s.name=s.nameInput.value})}),this.typeTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Type:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.typeSelect=Ee({parentNode:this.ed,nodeName:"select",onchange:(a=this,function(){return a.snapshot(),a.type=a.typeSelect.value}),style:{width:.7*this.ew+"%"}}),n=0,i=(o=["Val","Str","Bool","Lst","TypedArray_Int32","Mesh","Point"]).length;n<i;n++)r=o[n],Ee({parentNode:this.typeSelect,nodeName:"option",txt:r,value:r});this.type=this.typeSelect.value,this.confirmContainer=Ee({parentNode:this.ed,nodeName:"span",style:{display:"inline-block",textAlign:"center",paddingTop:"5px",width:this.ew+"%"}}),this.confirm=Ee({parentNode:this.confirmContainer,type:"text",nodeName:"button",txt:"Create attribute",onclick:(l=this,function(){if(l.name)return l.model.mod_attr(l.name,new t[l.type](l.val)),l.model._gen_attr||l.model.add_attr({_gen_attr:[]}),l.model._gen_attr.push([l.name,l.type])})})}return n(A,Se),A}();var Fe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Fe=function(e){function A(e){var n,i,o;A.__super__.constructor.call(this,e),this.class="TreeItem_Parametric",this.name="Item",this.classTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Class:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.classInput=Ee({parentNode:this.ed,nodeName:"input",value:this.class,style:{width:.7*this.ew+"%"},onchange:(n=this,function(){return n.snapshot(),n.class=n.classInput.value})}),this.nameTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Name:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.nameInput=Ee({parentNode:this.ed,nodeName:"input",value:this.name,style:{width:.7*this.ew+"%"},onchange:(i=this,function(){return i.snapshot(),i.name=i.nameInput.value})}),this.confirmContainer=Ee({parentNode:this.ed,nodeName:"span",style:{display:"inline-block",textAlign:"center",paddingTop:"5px",width:this.ew+"%"}}),this.confirm=Ee({parentNode:this.confirmContainer,type:"text",nodeName:"button",txt:"Create TreeItem",onclick:(o=this,function(){var e;if(o.name&&o.class)return(e=new t[o.class])._name.set(o.name),e._name_class.set(o.class),o.model.add_child(e)})})}return n(A,Se),A}();var Me;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Me=function(t){function e(t){e.__super__.constructor.call(this,t),this.inp=Le({el:this.ed,model:this.model.model,parent:this,item_width:this.ew})}return n(e,Se),e.prototype.onchange=function(){var t;if(this.model.bool.has_been_modified())return(null!=(t=this.check_disabled)?t.get():void 0)?this.inp.set_disabled(!this.model.bool.get()):this.inp.set_disabled(this.model.bool.get())},e}();var ze,Le;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;ze=function(t){function e(t){e.__super__.constructor.call(this,t),this.lst=[],this.dst=[]}return n(e,Se),e.prototype.onchange=function(){var t,A,n,i,o,r,s,a,l,c,h,d,u,p;if(this.model.has_been_directly_modified()||0===this.lst.length){for(n=0,r=(l=this.lst).length;n<r;n++)(u=l[n]).destructor?u.destructor():u.parentNode&&u.parentNode.removeChild(u);for(i=0,s=(c=this.dst).length;i<s;i++)(u=c[i]).parentNode.removeChild(u);if(this.dim=e._rec_dim(this.model),this.model.length<50){if(this.ew,this.model.length){for(t=Ee({parent:this,nodeName:"br"}),this.ed.appendChild(t),this.lst=[],this.lst.push(t),o=0,a=(h=this.model).length;o<a;o++)A=h[o],d=Le({el:this.ed,model:A,parent:this}),t=Ee({parent:this,nodeName:"div",style:{height:"5px"}}),this.ed.appendChild(t),this.lst.push(d),this.lst.push(t);this.dst=[]}else this.lst=[],this.dst=[Ee({parentNode:this.ed,style:{width:this.ew+"%",background:"#123456"}})];this.lst.length&&null!=this.ev&&(this.ev.onmousedown=(p=this,function(){var t;return null!=(t=p.get_focus())?t.set(p.lst[0].process_id):void 0}))}}return this.fd=!0},e.prototype.ok_for_label=function(){return 1===e._rec_dim(this.model)},e._rec_dim=function(t){for(var A;"function"==typeof t.disp_only_in_model_editor?t.disp_only_in_model_editor():void 0;)t=t.disp_only_in_model_editor();return(A=t.dim(!0))&&null!=t[0]?A+e._rec_dim(t[0]):A},e}(),Le=function(t){var e,A,n,i,o;if(null!=(i="function"==typeof(e=t.model).disp_only_in_model_editor?e.disp_only_in_model_editor():void 0)){n={};for(A in t)o=t[A],n[A]=o;return n.model=i,Le(n)}return new(Se.get_item_type_for(t))(t)};var De;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;De=function(t){function e(t){var A;e.__super__.constructor.call(this,t),this.ed.onclick=(A=this,function(){return A.snapshot(),A.model.toggle()}),this.span=Ee({parentNode:this.ed,nodeName:"span",style:{display:"inline-block",width:this.ew+"%"}})}return n(e,Se),e.prototype.onchange=function(){if(this.model.get()?(we(this.span,"ModelEditorItem_CheckImg_1"),Ne(this.span,"ModelEditorItem_CheckImg_0")):(we(this.span,"ModelEditorItem_CheckImg_0"),Ne(this.span,"ModelEditorItem_CheckImg_1")),null!=this.label)return this.model.toBoolean()?we(this.label,"modelEditor_checked"):Ne(this.label,"modelEditor_checked")},e}();var Ue;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ue=function(t){function e(t){var A,n,i,o;e.__super__.constructor.call(this,t),this.input=Ee({parentNode:this.ed,type:"text",nodeName:"input",style:{width:this.ew+"%"},onchange:(i=this,function(){return i.snapshot(),i.model.set(i.input.value)}),onfocus:(n=this,function(){var t;return null!=(t=n.get_focus())?t.set(n.process_id):void 0})}),null!=(A=this.ev)&&(A.onmousedown=(o=this,function(){var t;return null!=(t=o.get_focus())?t.set(o.process_id):void 0}))}return n(e,Se),e.prototype.onchange=function(){var t,e;if(this.model.has_been_modified()&&(this.input.value=this.model.get()),null!=(t=this.get_focus())?t.has_been_modified():void 0)return this.get_focus().get()===this.process_id?setTimeout((e=this,function(){return e.input.focus()}),1):this.input.blur()},e.prototype.set_disabled=function(t){return this.input.disabled=t},e}();var Qe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Qe=function(t){function e(t){var A,n,i,o,r,s,a;for(e.__super__.constructor.call(this,t),this.name="MyItem",this.nameTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Class name:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.nameInput=Ee({parentNode:this.ed,nodeName:"input",value:this.name,style:{width:.7*this.ew+"%"},onchange:(r=this,function(){return r.snapshot(),r.name=r.nameInput.value})}),this.languageTxt=Ee({parentNode:this.ed,nodeName:"span",txt:"Language:",style:{display:"inline-block",fontSize:12,color:"#262626",width:.3*this.ew+"%",paddingLeft:.5*(100-this.get_item_width())+"%",paddingTop:"5px"}}),this.languageSelect=Ee({parentNode:this.ed,nodeName:"select",onchange:(s=this,function(){return s.snapshot(),s.language=s.languageSelect.value}),style:{width:.7*this.ew+"%"}}),A=0,n=(i=["JavaScript","CoffeeScript"]).length;A<n;A++)o=i[A],Ee({parentNode:this.languageSelect,nodeName:"option",txt:o,value:o});this.language=this.languageSelect.value,this.confirmContainer=Ee({parentNode:this.ed,nodeName:"span",style:{display:"inline-block",textAlign:"center",paddingTop:"5px",width:this.ew+"%"}}),this.confirm=Ee({parentNode:this.confirmContainer,type:"text",nodeName:"button",txt:"Create JS Class",onclick:(a=this,function(){if(a.name)return a.model._class_export_name.set(a.name),a.model._class_export_language.set(a.language),a.model._class_export_state.set(!0)})})}return n(e,Se),e}();var Te;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Te=function(t){function e(t){e.__super__.constructor.call(this,t),this._ad=[],this._size=[],this._inputs=[]}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d;if(!this._same_parms()){for(this._size=this.model.size(),A=0,o=(a=this._inputs).length;A<o;A++)t=a[A],this.ed.removeChild(t);for(n=0,r=(l=this._ad).length;n<r;n++)t=l[n],this.ed.removeChild(t);this._ad=[],d=this.ew/this.model.size(0),this.model.dim()>1&&(d=100/this.model.size(0),this._ad.push(Ee({parentNode:this.ed,nodeName:"span",style:{display:"inline-block",width:this.ew+"%"}}))),this._inputs=function(){var e,A,n;for(n=[],t=e=0,A=this.model.nb_items();0<=A?e<A:e>A;t=0<=A?++e:--e)n.push(function(t){return function(e){var A;return A=Ee({parentNode:t.ed,type:"text",nodeName:"input",style:{width:d+"%"},onchange:function(){return t.snapshot(),t.model.set_val(e,A.value)},onfocus:function(){var e;return null!=(e=t.get_focus())?e.set(t.process_id):void 0}})}}(this)(t));return n}.call(this)}for(c=this._inputs,h=[],t=i=0,s=c.length;i<s;t=++i)e=c[t],h.push(e.value=this.model.get(t));return h},e.prototype._same_parms=function(){var t,e,A,n;if(this._size.length!==this.model.dim())return!1;for(t=e=0,A=(n=this._size).length;e<A;t=++e)if(n[t]!==this.model.size(t))return!1;return!0},e}(),Se.default_types.unshift(function(t){if(t instanceof TypedArray)return Te});var Oe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Oe=function(t){function e(t){e.__super__.constructor.call(this,t),this.choice=Le({el:this.ed,model:this.model,parent:this,item_width:this.ew,item_type:We}),this.editdiv=Ee({parentNode:this.ed,nodeName:"span"}),this.editors=[]}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l;if(this.model.lst.has_been_directly_modified()){for(A=0,o=(s=this.editors).length;A<o;A++)(t=s[A]).destructor();this.editors=function(){var t,e,A,n;for(n=[],t=0,e=(A=this.model.lst).length;t<e;t++)i=A[t],n.push(Le({el:this.editdiv,model:i,parent:this}));return n}.call(this)}if(this.model.num.has_been_modified()||this.model.lst.has_been_directly_modified()){for(l=[],e=n=0,r=(a=this.editors).length;n<r;e=++n)t=a[e],l.push(t.ed.style.display=this.model.num.get()===e?"block":"none");return l}},e}();var Ge;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ge=function(e){function A(e){var n,i,o,r,s,a,l,c;this._drag_end=Ct(this._drag_end,this),this._drag_evt=Ct(this._drag_evt,this),A.__super__.constructor.call(this,e),this.inp=Le({el:this.ed,model:this.model,parent:this,item_width:.3*this.ew,item_type:Ue}),null!=(i=this.ev)&&(i.onmousedown=(o=this,function(){var t;return null!=(t=o.get_focus())?t.set(o.inp.process_id):void 0})),this.div=Ee({parentNode:this.ed,nodeName:"span",className:"ModelEditorSlider",style:{display:"inline-block",width:.7*this.ew-.5+"%",marginLeft:"0.5%",zIndex:1},onmousedown:(s=this,function(t){var e,A;return s.snapshot(),e=t.clientX-xe(s.div)-s.cur.offsetWidth/2,A=s.div.offsetWidth-s.cur.offsetWidth,s.model.set(s.model._min.get()+e*s.model.delta()/A),s.off_x=0,s._on_mouse_down(t,!1)}),onmousewheel:(r=this,function(e){var A,n;return r.snapshot(),null!=e.wheelDelta?(A=e.wheelDelta/120,t.opera&&(A=-A)):e.detail&&(A=-e.detail/3),n=10*(1+9*e.shiftKey)*(1+9*e.ctrlKey)*(1+9*e.altKey),0!==r.model._div.get()?r.model.set(r.model.get()+A*r.model.delta()/r.model._div.get()):r.model.set(r.model.get()+A*r.model.delta()/n),"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),!1})}),"function"==typeof(n=this.div).addEventListener&&n.addEventListener("DOMMouseScroll",this.div.onmousewheel,!1),this.cur=Ee({parentNode:this.div,className:"ModelEditorSliderItem",style:{position:"relative"},onmousedown:(a=this,function(t){return a._on_mouse_down(t)})}),this._drag_evt_func=(l=this,function(t){return l._drag_evt(t)}),this._drag_end_func=(c=this,function(t){return c._drag_end(t)})}return n(A,Se),A.prototype.onchange=function(){return this.div.offsetWidth&&this.cur.offsetWidth?this.cur.style.left=100*(this.div.offsetWidth-this.cur.offsetWidth)*this.model.ratio()/this.div.offsetWidth+"%":this.cur.style.left=18900*this.model.ratio()/200+"%"},A.prototype._on_mouse_down=function(t,e){return null==e&&(e=!0),this.old_x=t.clientX,e&&(this.off_x=this.old_x-xe(this.cur)),document.addEventListener("mousemove",this._drag_evt_func,!0),document.addEventListener("mouseup",this._drag_end_func,!0),"function"==typeof t.stopPropagation&&t.stopPropagation(),!1},A.prototype._drag_evt=function(t){var e,A;return this.snapshot(),this.new_x=t.clientX,this.new_x!==this.old_x&&(e=this.new_x-xe(this.div)-this.off_x,A=this.div.offsetWidth-this.cur.offsetWidth,this.model.set(this.model._min.get()+e*this.model.delta()/A),this.old_x=this.new_x),"function"==typeof t.preventDefault?t.preventDefault():void 0},A.prototype._drag_end=function(t){return"function"==typeof document.detachEvent&&document.detachEvent("onmousemove",this._drag_evt_func),"function"==typeof document.detachEvent&&document.detachEvent("onmouseup",this._drag_end_func),"function"==typeof document.removeEventListener&&document.removeEventListener("mousemove",this._drag_evt_func,!0),"function"==typeof document.removeEventListener?document.removeEventListener("mouseup",this._drag_end_func,!0):void 0},A}();var Ve;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ve=function(t){function e(t){var A;e.__super__.constructor.call(this,t),this.select=Ee({parentNode:this.ed,nodeName:"input",type:"button",value:this.model.txt(),onclick:(A=this,function(){return A.model.toggle()}),style:{width:this.ew+"%"}}),this.model.disabled.equals(!0)&&(this.select.disabled="true")}return n(e,Se),e.prototype.onchange=function(){if(this.select.value=this.model.txt(),this.model.disabled.has_been_modified())return this.select.disabled=this.model.disabled.get()},e}();var Ye;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ye=function(t){function e(t){var A,n,i,o;e.__super__.constructor.call(this,t),this.input=Ee({parentNode:this.ed,type:"text",nodeName:"textarea",style:{width:this.ew+"%"},onchange:(i=this,function(){return i.snapshot(),i.model.set(i.input.value)}),onfocus:(n=this,function(){var t;return null!=(t=n.get_focus())?t.set(n.process_id):void 0})}),null!=(A=this.ev)&&(A.onmousedown=(o=this,function(){var t;return null!=(t=o.get_focus())?t.set(o.process_id):void 0}))}return n(e,Se),e.prototype.onchange=function(){var t,e;if(this.model.has_been_modified()&&(this.input.value=this.model.get()),null!=(t=this.get_focus())?t.has_been_modified():void 0)return this.get_focus().get()===this.process_id?setTimeout((e=this,function(){return e.input.focus()}),1):this.input.blur()},e.prototype.set_disabled=function(t){return this.input.disabled=t},e}();var Xe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Xe=function(t){function e(t){var A,n,i,o;e.__super__.constructor.call(this,t),this.legend_focus=t.parent.legend_focus,n=Ee({parentNode:this.ed,nodeName:"span",style:{width:this.ew+"%",display:"inline-block"}}),this.input=Ee({parentNode:n,type:"checkbox",nodeName:"input",onchange:(i=this,function(){return i.snapshot(),i.model.set(i.input.checked)})}),!1!==this.legend_focus&&null!=(A=this.ev)&&(A.onmousedown=(o=this,function(){var t;return null!=(t=o.get_focus())&&t.set(o.process_id),o.model.toggle()}))}return n(e,Se),e.prototype.onchange=function(){var t;if(this.model.has_been_modified()&&(this.input.checked=this.model.toBoolean(),null!=this.label&&(this.model.toBoolean()?we(this.label,"modelEditor_checked"):Ne(this.label,"modelEditor_checked"))),!1!==this.legend_focus&&(null!=(t=this.get_focus())?t.has_been_modified():void 0))return this.get_focus().get()===this.process_id?this.input.focus():this.input.blur()},e}();var He;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;He=function(e){var A;function i(t){var e,A,n,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w,x,b,E,B;this.onPopupClose=Ct(this.onPopupClose,this),i.__super__.constructor.call(this,t),this.use_breadcrumb=null==t.use_breadcrumb||t.use_breadcrumb,this.use_icons=null==t.use_icons||t.use_icons,this.initial_path=null!=t.initial_path?t.initial_path:"Root",this.use_use=null==t.use_use||t.use_use,this.use_upload=null==t.use_upload||t.use_upload,this.use_manage=null==t.use_manage||t.use_manage,this.use_share=null==t.use_share||t.use_share,this.use_download=null==t.use_download||t.use_download,this.display=null!=t.display?t.display:"all",this.breadcrumb=new Lst,this.breadcrumb.push(this.model),this.breadcrumb.bind(this),this.initial_path=this.make_initial_path_as_dom(this.initial_path),this.index_sorted=new Lst,this.selected_file=new Lst,this.clipboard=new Lst,this.selected_file.bind(this),this.clipboard.bind(this),this.allow_shortkey=!1,this.line_height=30,this.ed.ondrop=(A=this,function(t){return A.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.handle_files(t.dataTransfer.files),n.cancel_natural_hotkeys(t),!1})}),(this.use_icons||this.use_upload)&&(this.icon_scene=Ee({parentNode:this.container,nodeName:"div",className:"icon_scene"}),Ee({parentNode:this.icon_scene,nodeName:"div",txt:"Files",style:{cssFloat:"left",padding:"6px 40px 0 30px"}})),this.use_icons&&(this.icon_up=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw8oBY1zlQkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABoElEQVQ4y6WUP3ITMRTGv2c2csKY3ewCKdPTcgK4Bwdg6DZ1inCBpCMX4DwcgI5JAwOWVnKGsZ7NfinsxFl75bGJKs378+n3/oyAPc73nw5POo1XAID18X0z0XcA0Ez0aWIuaO2C0vpIF2INAP529n+i92IuaOtCbJf3ej+ycE8WL+yDmNIFpQ3aLkj1c6p8SZB9JHAtANdjCBCkiMinMjfX67mDjZ55vViK9T4ogIgISH5Zkc66hI1XHBcGLsSaxKWIMEXfQ3pW5ubK385QjA5WSc7HGiKXWAZCZHuzSWD18FmZm6sHQhviqUB+dOMJSYkuxNatp2VubsR5RVmYjudm/FdGB5kH8CJR7uTXdF68OXnOx3YbFIOyMPhtp52EkcmOCMqWcuXkMDt6bPrTRFS5WUz5dXW4/9azA4dXx8Pu2myux5ahbBnYIL0W3JluB0FuXDpOSW9pvyCzqUBapvFbmSPuLFjmz1qS5wIK+9oLOa+q4b/+3vcc6xVVYTD2+nYg+AAiAwAK5iC/VsXw2zgoXuZm962wIf2Jjptp0ncHS8XpIDn7KIUAAAAASUVORK5CYII=",alt:"Parent",title:"Parent",style:{cssFloat:"left",height:20},onclick:(h=this,function(t){return h.load_model_from_breadcrumb(h.breadcrumb.length-2)})}),this.icon_new_folder=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw8qM3D/YhIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACvklEQVRIx72Wu2tUaxTFf+vkOKMYz5mJryLgVa42FpaCzoj4qAURba5ol4uN4P9gdQWNhVbio7CRgCYoiKCNxsZG8FVZSBQfmDmZgwZPLjnrFnNmzI2POElwV4fvg7X2Xnt/ax8l6dQK8EmjvwVl/h+2eYU4Lnxz3PLGuES3oSSdOgscb4MCmsWDLYS3VOPyk27AG82MvriMkjT7Aip/n6DNgiwuyv4HqTw3vP+tRuUXbSI1mpkl/Yhghm4YbEm/Wsgzm/19cemlknTKRRWvgM8sPAwsM/5TMGRzOCwu3tg+BDwTWjCJ8UrEU9Au5OVhQZ0I3lbj8uQiVEKjmb3GJIjVGIVFMzRXT7oaWRHMhAv4DRHgDv+ig9st8KAzkVpM8FmV+Ec3C+tJkbaCWXJ1HzvyCtvz6JvzyrtSbvuc5DcSCr8+4O70quUR94MJAOqO12N2IiLguaS7wKnx5pdhoYnwq5/8ekk1R4wqpZ7Hq43PGR+UBG4ZXc3xhMzRlcHSEYCwW4lqeYug5mgVcFNoa8dN1FJEdsXScD2PBoAL8x9hcx6ztS2B0aDRIeExJMvG0mlL64JuJ3c0SKk5+gM4iFroRaKPgCFg0nbb1nsFR0PENLDMcrWRZslPDdLOC3/b3bJ8YzQIPJK5b2zQCYkq5oztNYg9IeYG8gGhy8D7OTx8DBgAemccPwSG2vsTuG3cA5wsds9yNZpZv6QrwJ45t4RoVCaX9G9f27stcM89JGSPISZBJ4xvC13HbERsAkrGVzvajE9klWLOf/aWp/u85J0qmq47TmxXJNm2JP1lfE3WY8ubhVQktlcfkylWVbv/A6nl0T5Jw3bHRj4Um7XfuFRId8v2gWA+BHXHjAbpiM2A5E9ujdcazAagJAvbtzDHRoM0C+fnsnn76wJwR9YRYK/lXswL4JKkBw/UzAD+A9XaQDGhzUlDAAAAAElFTkSuQmCC",alt:"New folder",title:"New folder",style:{cssFloat:"left",height:20},onclick:(c=this,function(t){var e;return e=new Directory,c.model.add_file("New folder",e)})}),this.icon_cut=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw8vEdjo17MAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEGElEQVQ4y42VT4hlxRXGf99reLdntN/td3uh4jgz+eOfSETUUUxQiC5cmEUSDEiMwYkQN8oEFy5UUBQFdRAxZDHMRlCjCxFUDLgPhJAgEZLIBI1OIGKidFVX9fTMVPV0fy7ufT2dmSg5myrqnPPVOd85p4pjaycACKleH3M5yCCrxzf4Komp9Guu3wqpPHiWQUj1UMzVMZdbAZZXypeD5V4Xct0ZUjkSc/1DzLUFGA0GF0i+xgbQoZjr3qXFZstxu6R0kumkAUD2YUmX2uwxXLIFiNkN2i2B7YuAp0IqczPH7dK287OUf2pxG4Dk87F3nwaUdmDv6LfC9g8k/Xg7VwAx1lmqe4wekpnHM60WTgPiFaTcp4wlzdt+OqZy4bRtWF7pC+c5E1MZAQ8JLkfCGBDg9S3A6aR5z+a30un7kPYgHQYYj+cJqdBNGkDfx9yDBrJ6+UjwLsAopDr4c8Dmbz3XuKfTt8Zc71vYKbq2IeSyaPmlAWcITSdsH5y2zRGAUdeOibkynYyL5Vts3pfcxyoZeCrmcsUQ9utYrSSbIUZ8sGubQ33rlVnKY0KuLE2aT7Fvw/rIsmSwfcroeMz1Adnf0+wqwPbjXds8OgPr2mZWFOgmY2Jap1tsjhjvF/rcWEj3A2PgwMD5wJ6fQ3pyO9j/lGN1fZicsj+k8vLQOq+FXB1S2ezX+puYS8P/I2GlnjFm9UBMxf1YVsdUXo+pLAy6s/xHZx50iz2fw0jus/2sZ4zZIJVp26x+FteYTsZnASqtrXOqnGKp2/Hfka5tjNnY+Cv2xeqrjfvOL8BPurZ546w5X62z0kM6Vs/Z3OTbQAus2d4P3C1pZPv3wMeS7sDI+D1JDw69eAL8j+mk+YRZxWKuVwFPgG+0WRgUm/RgfwJu79rm45jqY4hHTufPCNiQ9D7419NJc1gx1wts/xHYJelT228jfVNwEz1nL04n47uGyl+NeFcI2x8C70i6BvMdYyT9nJDKczEXx1xf+Wx5batIy6n8KKSaQyrHQyrXDq/Mn2OumyHXF9Lq+pZtyPVnMdeTIddIyGU55PLvmOqV/Ut9cvsz/2bMZTOk+nBIdVdMZTWkshxTOW+7bUhlLqTydszVI6FumIoEsLQ4v9VfhiMDzx2wSD9269O2+c/MFqBrmw1JwTYj4KjtvZK+Pots1l+SbrJ1SvI/gX/1e+1cyXXfGX/Mku1vSGIE/ErSubafCancEHLdFXP5Wsz1aZt9gs8xb3TteAV4B1gwfj7mel1I9cKY66WgR4DvGv6ikOoEOCz5dqMi+++GRcFupFXbd3Zt81bPWe0kvybpZpsscdT2FOki4BPsH2ogdQdwl6RfApcBa4bfYR/o2uaD2be6tNiwnEor8Quhe4G9wLLtVwXPzs3p6BceOpI2Xx8WxAAAAABJRU5ErkJggg==",alt:"cut",title:"Cut",style:{cssFloat:"left",height:20},onclick:(l=this,function(t){return l.cut()})}),this.icon_copy=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw80LCm2UDgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAC5UlEQVRIx62WP4hcVRTGf9/srsTBOXdERESxMYVobxBJ0ICILtqIlcRGEGJEGwu1ESvRQgQLQcTCQhFhmwSsZCGwEUUMggREYZFoP/fuZnbdN/M+i30PdseZ2cnigcf7d9/5zvm+c8954oBtbW3R6/UopdwPfAg8Y1ssYNL+Mtu/SnotItYBtre3+Y+DUsq9tjck3Wf7W0m7CwJZ0hJw2vbtkp6NiIs558Mgw+GQqqr6kp6y/ZekjYiop3nMOQtYaTNogWw/KmkdWI+Is8A+SCkF26SUyDmfknTKtg9QMEnNEvBDRHw/I4ARcBU4k1LaWS6lEBHknG8tpXwDrM7ieyJkSimfAK9HRNX6mfbNcvtC0nu2V4E14EtJnsF9ZftJSRdsn5dUA69ubm7OFGu5oWsFeEQSdV2/0O/3d+cpnHO+o43W9oVSSkTEi7PWd5rUl5rr+iiAxm4coMXAuVLKF3NBjmEXgV+aANWcz+Wc35pJ15S9csL205K6Plxa46asr+ecV4FVSXfbHkl60/YTOzs77+/t7R0NArws6QNgaUpQn5VSXomIv3POnwJKKbmUch7ojkajlYUyAa7Y/hGIiee17Y2UUgWQUgLwUdxOBYmIn4Az/E82KxOGw+FKXde3zPu40+n80+12R0eBdGYI/1xVVTfG4/H2vKOqqr2mAI6ViYHfJZ2Y7FsT7aa2PT4WiKQ121dtz6XL9q6k68cC6fV6AJvH1NmLbsaHbL8D3DatA7ddWNKW7XdTStda+uq6vktSx3YNjOZp8rCk5xcZt03XvtYMrDuBz5s5daXdT7NAvrb987wSb2wk6Y8DNJ2UdNL2JeBtgMFgsO9kkpKIGLYN8CasI+lP4KWU0nelFAaDAf1+fx8kInZzzltAp5TyWPMjsbjS9gPAPcCa7cs550NTcvnA2PxI0uPAmqTLQL2A85aF0839V60Oh/TLObeNjpzzWeBjSQ/eRBYAvwFvpJQuTVvzL1ehmJFssZ5TAAAAAElFTkSuQmCC",alt:"copy",title:"Copy",style:{cssFloat:"left",height:20},onclick:(a=this,function(t){return a.copy()})}),this.icon_paste=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw8zCFr0Ii4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAADK0lEQVRIx52VT4gcRRTGf1/v4O5O7OoVo8GsuJCgByGeDOLFICJKhBg2KCqIXkRCEMFDjnowIMaT4CkgguJFMTksHrxFPCmehJxEjOD6BwIzVZNd1zjTn5futaedmc3uBwVd9frVV+9771VBC5ubm/T7/e15SulwjPFyjHEQY1yLMd5Z2waDATeDrP6IMQLQ7XZZWloipTSXUsqBt4A/gCeBeUlvxhgXAfI852YIlVLCNkVR1Ce/D+gA79u+DTgi6fkQwsUY4+uS3rV9RVLP9gtAtyiKq5UvIYT/kzRkWbX9EfA1cEHSZ8CibSQNgG+qaDIA2zckPWX7DUkP2j5eFMX3k4iySqrHbH8iKUg6ICkCQwBJADlwvEGApAy4BiwBdwCXU0oPTIokSyndArwsqWvbwO22r9n+FtgArreHpL9srwFJ0kp1mH3Aq3Vum+gAC5Lub5z6EHBG0qptVWtjsE2WZZRl+SFwsOF7T0W20SYB6FQSCLCkM7ZfkvR7M291HiWVZVkelpRVfjV5DnSBjWZuOpMqDjBwq+17Gxsg6VfbP1X5+K2St7bNSzoGfJBSeiWEkGqizrTSbsskacv2I5L+tJ217bbvlnTF9rPA/pTSiRDCRkppWyYmad/CL0VR/DzNmFK6DoyqKB8FvowxngghpKwpxw6Y+YPtnu0vgC3gb+CYpLdTSp0Ou0RK6RngaINUQAohnIsxngY+r5L/BPA40N2NXDWeA1ZbayPgXFEUfeBi1eC5pIdtsxu5AFhfXz9VluViWZbdauwLIXRa0dY3gqeV8EwsLy/vBw60NlXVuLKdQghXY4zb6uyaBDgPnATKVokDZJKG/X5/uSn/XnKyZrvUZIc54MfRaPRPlmX/kbQ6ekeGEMIl4NIOFTi2315K+CTw0JS+yYB+WZbnxyLZg1wvTijhNt4bu4UluerQuqtnsvV6vVN5ns9Nsw+Hw9HCwsK4XLa3gO8kHZ1FUL33rKys1M03EzHGg8ANwKoWjkj6yvZdknDrtarntj+V9ENVRdMOY0mF7dckXQDOqsF8CHgHeFrS/ARHANkeNfpiGtFI0sfA2RBC718AbrkqtNBKYwAAAABJRU5ErkJggg==",alt:"paste",title:"Paste",style:{cssFloat:"left",height:20},onclick:(s=this,function(t){return s.paste()})}),this.icon_del_folder=Ee({parentNode:this.icon_scene,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw84NeFot/QAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAB3ElEQVRIx62WMYsUQRCFv7d3CCfak4gIpyYmirG5cGCi0f4AvVR/iD/DxFQwFAQRLjg480sMRDhEA2XpxnVP72afgT2wjjszvetVNNPVVdX16nV1wYDEGIkxdupTSkMuEIWSUroH3ATm2e5zCOFFie3mspOFEP7ZaHsX2AaclyYppdchhNTOvKqq4Uym0+lGXde7tm8DlgQwsv23sTRf8PMReBZC+D4IV0rpvO3nwDg7LxbbB5LuhxC+9cJle1vSLdvvM/6lIknXbd8A+oMAH4AxcNf2uRWCnEraBw6L2BVjvAO8kXTRNouwNXVpr0k6BsYhhFdtf6MueCWdADVwYPtLXj8G9oCmuBNgT9IpcNIF76gD3OaEPyU9kfTWf+SrpIeSjvLWQ+ARMOvDcdTDlObzRz4l+Y7MgHnW17ZnbnO7JEi7Dn3ZZlaxViYr3o/V2kpzyiHDRf1amZTCVdoRzgSutYKs0bNWr0mJ4ZD+zGvyvxR2q100/00ac+DXuhRWNtwEdoCruZlu5f8LWX9J0k7eV3c1XHW859eAd7avlJAgwzux/aCqqv3SN/4oxvhU0mPbGwW1se2XywJ0Pb8AhBBIKV22vbVQgy661yGET32DyNJZqmSeWjajLZPf5lf2OD9SK7MAAAAASUVORK5CYII=",alt:"Delete",title:"Delete",style:{cssFloat:"left",height:22},onclick:(r=this,function(t){return r.delete_file()}),ondragover:function(t){return!1},ondrop:(o=this,function(t){return o.delete_file(),t.stopPropagation(),!1})})),this.use_upload&&(this.upload_form=Ee({parentNode:this.icon_scene,nodeName:"form",style:{cssFloat:"left",padding:"0px 0px 0 30px"}}),this.upload=Ee({parentNode:this.icon_scene,nodeName:"input",type:"file",multiple:"true",style:{cssFloat:"left",fontWeight:"normal",fontSize:14,padding:"0px 0px 0 0px",border:"none",background:"#4dbce9"},onchange:(d=this,function(t){return d.handle_files(d.upload.files)})})),this.use_breadcrumb&&(this.breadcrumb_line=Ee({parentNode:this.container,nodeName:"div",style:{width:"100%",borderBottom:"1px solid #262626"}}),this.breadcrumb_dom=Ee({parentNode:this.breadcrumb_line,nodeName:"div",style:{fontWeight:"normal",fontSize:14,padding:"5px 0px 0 20px",border:"none"}})),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"}),e={8:(E=this,function(t){return E.load_model_from_breadcrumb(E.breadcrumb.length-2)}),13:(b=this,function(t){var e,A,n,i,o,r;if(b.selected_file.length>0){for(r=[],n=0,i=(o=b.selected_file.get()).length;n<i;n++)e=o[n],A=b.search_ord_index_from_id(e),r.push(b.open(b.model[A],b.path()));return r}}),37:(x=this,function(t){var e,A;return x.selected_file.length>0?t.shiftKey?(A=x.selected_file[x.selected_file.length-1].get(),null==x.reference_file&&(x.selected_file.clear(),x.selected_file.push(A),x.reference_file=A),A>0?A<=x.reference_file?x.selected_file.push(A-1):x.selected_file.pop():void 0):(0!==(e=x.selected_file[x.selected_file.length-1].get())?(x.selected_file.clear(),x.selected_file.push(e-1)):(x.selected_file.clear(),x.selected_file.push(0)),x.reference_file=void 0):(x.selected_file.push(0),x.reference_file=void 0)}),38:(w=this,function(t){if(t.altKey)return w.load_model_from_breadcrumb(w.breadcrumb.length-2)}),39:(y=this,function(t){var e,A;return y.selected_file.length>0?t.shiftKey?(A=y.selected_file[y.selected_file.length-1].get(),null==y.reference_file&&(y.selected_file.clear(),y.selected_file.push(A),y.reference_file=A),A<y.model.length-1?A>=y.reference_file?y.selected_file.push(A+1):y.selected_file.pop():void 0):((e=y.selected_file[y.selected_file.length-1].get())<y.model.length-1?(y.selected_file.clear(),y.selected_file.push(e+1)):(y.selected_file.clear(),y.selected_file.push(y.model.length-1)),y.reference_file=void 0):y.selected_file.push(0)}),40:(v=this,function(t){var e,A,n,i,o,r;if(t.altKey&&v.selected_file.length>0){for(r=[],n=0,i=(o=v.selected_file.get()).length;n<i;n++)e=o[n],A=v.search_ord_index_from_id(e),r.push(v.open(v.model[A],v.path()));return r}}),65:(g=this,function(t){var e,A,n,i,o;if(t.ctrlKey){for(g.selected_file.clear(),o=[],e=A=0,n=(i=g.model).length;A<n;e=++A)i[e],o.push(g.selected_file.push(e));return o}}),88:(m=this,function(t){if(t.ctrlKey)return m.cut()}),67:(f=this,function(t){if(t.ctrlKey)return f.copy()}),86:(_=this,function(t){if(t.ctrlKey)return _.paste()}),46:(p=this,function(t){return p.delete_file()}),113:(u=this,function(t){var e,A;if(null!=(e=null!=(A=document.getElementsByClassName("selected_file")[0])?A.getElementsByClassName("linkDirectory"):void 0)&&e.length>0)return u.rename_file(e[0],u.model[u.search_ord_index_from_id(u.selected_file[0].get())])})},document.onkeydown=(B=this,function(t){if(!0===B.allow_shortkey&&null!=e[t.keyCode])return t.stopPropagation(),t.preventDefault(),e[t.keyCode](t),!0})}return n(i,Se),i._action_list={Directory:[function(t,e,A){return A.load_folder(t)}]},i._action_list_2=[],i.prototype.cut=function(){var t,e,A,n,i;if(this.use_manage&&this.selected_file.length>0){for(this.clipboard.clear(),e=0,A=(i=this.selected_file.get()).length;e<A;e++)t=i[e],n=this.search_ord_index_from_id(t),this.clipboard.push(this.model[n]);return this.cutroot=this.model}},i.prototype.copy=function(){var t,e,A,n,i;if(this.use_manage&&this.selected_file.length>0){for(this.clipboard.clear(),e=0,A=(i=this.selected_file.get()).length;e<A;e++)t=i[e],n=this.search_ord_index_from_id(t),this.clipboard.push(this.model[n]);return this.cutroot=void 0}},i.prototype.paste=function(){var t,e,A,n,i,o,r,s,a,l;if(this.use_manage){if(null!=this.cutroot)for(t=0,e=(s=this.clipboard.get()).length;t<e;t++)n=s[t],-1!==(r=this.cutroot.indexOf(n))&&this.cutroot.splice(r,1);for(l=[],i=0,A=(a=this.clipboard).length;i<A;i++)o=a[i].deep_copy(),l.push(this.model.push(o));return l}},i.prototype.rename_file=function(t,e){if(this.use_manage)return this.allow_shortkey=!1,t.contentEditable="true",t.focus(),t.onblur=(A=this,function(n){var i;return A.allow_shortkey=!0,i=t.innerHTML,e.name.set(i),t.contentEditable="false",A.selected_file.clear()});var A},i.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified()||this.breadcrumb.has_been_modified())return this.refresh()},i.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},i.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},i.prototype.load_folder=function(t){return this.model.unbind(this),t._ptr.load((e=this,function(A,n){return e.model=A,e.model.bind(e),e.breadcrumb.push(t),e.selected_file.clear()}));var e},i.prototype.open=function(t,e){var A;if(null!=t._info.model_type&&null!=(A=i._action_list[t._info.model_type])&&A.length)return A[0](t,e,this)},i.prototype.open_2=function(t,e){var A;if(null!=t._info.model_type&&null!=(A=i._action_list_2[t._info.model_type])&&A.length)return A[0](t,e,this)},i.prototype.ends_with=function(t,e){var A;return(null!=(A=t.match(e+"$"))?A.length:void 0)&&A[0]===e},i.prototype.handle_files=function(t){var e,A,n,i;if(t.length>0&&"undefined"!=typeof FileSystem&&null!==FileSystem){for(FileSystem.get_inst(),i=[],A=0,n=t.length;A<n;A++)e=t[A],this.ends_with(e.name,".tiff")||this.ends_with(e.name,".tif")?i.push(this.model.add_tiff_file(e.name,new Path,new Path(e))):i.push(this.model.add_file(e.name,new Path(e)));return i}},i.prototype.make_initial_path_as_dom=function(t){var e;return e=new RegExp("[/]+","g"),t.split(e)},i.prototype.draw_breadcrumb=function(){var t,e,A,n,i,o;for(this.breadcrumb_dom.innerHTML="",o=[],e=A=0,n=(i=this.breadcrumb).length;A<n;e=++A)t=i[e],o.push(function(e){return function(A){return 0===A?Ee({parentNode:e.breadcrumb_dom,nodeName:"span",className:"breadcrumb",txt:"Root",onclick:function(t){return e.load_model_from_breadcrumb(0)}}):(Ee({parentNode:e.breadcrumb_dom,nodeName:"span",txt:" > "}),Ee({parentNode:e.breadcrumb_dom,nodeName:"span",className:"breadcrumb",txt:t.name,onclick:function(t){return e.load_model_from_breadcrumb(A)}}))}}(this)(e));return o},i.prototype.load_model_from_breadcrumb=function(t){if(-1!==t)return this.delete_breadcrumb_from_index(t),0===t?this.model=this.breadcrumb[0]:this.breadcrumb[t]._ptr.load((e=this,function(t,A){return e.model=t}));var e},i.prototype.delete_breadcrumb_from_index=function(t){var e,A,n,i;for(i=[],e=A=this.breadcrumb.length-1,n=t;A<=n?e<n:e>n;A<=n?++e:--e)i.push(this.breadcrumb.pop());return i},i.prototype.search_ord_index_from_id=function(t){var e,n,i,o,r,s;for(s=this.model.sorted(A),e=this.index_sorted[t],n=0,i=(r=this.model).length;n<i;n++)if(r[n],-1!==(o=this.model.indexOf(s[e])))return o},function(t,e){return t-e},i.prototype.delete_file=function(){var t,e,A,n,i,o,r,s;if(this.use_manage&&this.selected_file.length){for(A=[],n=0,i=(r=this.selected_file.get()).length;n<i;n++)t=r[n],e=this.search_ord_index_from_id(t),A.push(e);for(A.sort(this.sort_numerically),t=o=s=A.length-1;s<=0?o<=0:o>=0;t=s<=0?++o:--o)this.model.splice(A[t],1);return this.selected_file.clear()}},i.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("file_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},i.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},A=function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},i.prototype.init=function(){var e,n,i,o,r,s,a,l,c,h;if(e=this.model.sorted(A),this.index_sorted.clear(),h=new Array,"all"===this.display)for(i=o=0,r=e.length;o<r;i=++o)"Session"!==(n=e[i])._info.model_type.get()&&(h.push(n),this.index_sorted.push(i));else if("Session"===this.display)for(i=l=0,s=e.length;l<s;i=++l)"Session"!==(n=e[i])._info.model_type.get()&&"Directory"!==n._info.model_type.get()||(h.push(n),this.index_sorted.push(i));for(this.allow_shortkey=!0,i=c=0,a=h.length;c<a;i=++c)(n=h[i]).name.get().match(/^__/)&&n.name.get().match(/__$/)||function(e){return function(A,n){var i,o,r,s,a,l,c,d,u;if(o=Ee({parentNode:e.all_file_container,nodeName:"div",className:"file_container",ondragstart:function(t){return null!=document.getElementById("popup_closer")&&(e.popup_closer_zindex=document.getElementById("popup_closer").style.zIndex,document.getElementById("popup_closer").style.zIndex=-1),e.drag_source=[],e.drag_source=e.selected_file.slice(0),-1===parseInt(e.selected_file.indexOf(n))&&e.drag_source.push(n),t.dataTransfer.effectAllowed=t.ctrlKey?"copy":"move",t.dataTransfer.setData("text/plain",e.selected_file.get())},ondragover:function(t){return!1},ondragend:function(t){if(null!=document.getElementById("popup_closer"))return document.getElementById("popup_closer").style.zIndex=e.popup_closer_zindex},ondrop:function(t){var A,i,o,r,s,a,l,c,d;if("Directory"===h[n]._info.model_type.get()){for(s=0,o=(a=e.drag_source.get()).length;s<o;s++){if(A=a[s],h[A]===h[n])return!1;h[n]._ptr.load(function(t,e){return t.push(h[A])})}for(c=0,r=(l=e.drag_source.get()).length;c<r;c++)d=l[c],i=e.search_ord_index_from_id(d),e.model.splice(i,1);e.selected_file.clear()}else t.stopPropagation(),t.preventDefault(),e.handle_files(t.dataTransfer.files);return e.cancel_natural_hotkeys(t)},onmousedown:function(t){var A,i,o,r,s,a,l;if(t.ctrlKey)return-1!==(A=parseInt(e.selected_file.indexOf(n)))?e.selected_file.splice(A,1):e.selected_file.push(n);if(t.shiftKey){if(0===e.selected_file.length)return e.selected_file.push(n);for(i=e.selected_file[e.selected_file.length-1].get(),e.selected_file.clear(),l=[],o=r=s=i,a=n;s<=a?r<=a:r>=a;o=s<=a?++r:--r)l.push(e.selected_file.push(o));return l}return e.selected_file.clear(),e.selected_file.push(n)}}),null!=A._info.img?(r=Ee({parentNode:o,nodeName:"span",ondblclick:function(t){return e.open(h[n],e.path()),e.cancel_natural_hotkeys(t)},style:{maxWidth:100,height:100,display:"inline-block"}}),e.picture=Ee({parentNode:r,className:"picture",nodeName:"img",src:A._info.img.get(),alt:A.name.get(),title:A.name.get(),style:{maxWidth:100,maxHeight:100}})):null!=A._info.icon?e.picture=Ee({parentNode:o,className:"picture icon_"+A._info.icon.get()+"_128",title:A.name.get(),ondblclick:function(t){return e.open(h[n],e.path()),e.cancel_natural_hotkeys(t)},width:100,height:100}):e.picture=Ee({parentNode:o,nodeName:"img",src:"data:image/png;base64,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",alt:"",title:"",ondblclick:function(t){return e.open(h[n],e.path()),e.cancel_natural_hotkeys(t)}}),c="",(null!=(a=A._info)&&null!=(l=a.remaining)?l.get():void 0)&&(s=A._info.remaining.get(),c+=" ("+(100*((u=A._info.to_upload.get())-s)/u).toFixed(0)+"%)"),d=Ee({parentNode:o,className:"linkDirectory",nodeName:"div",txt:A.name.get()+c,onclick:function(t){return e.rename_file(d,h[n])}}),i=Ee({parentNode:o,className:"line_button",nodeName:"div"}),e.use_use&&Ee({parentNode:i,nodeName:"div",className:"use_button",txt:"use",style:{color:"#4dbce9"},onclick:function(t){return e.open_2(h[n],e.path()),e.cancel_natural_hotkeys(t)}}),e.use_share&&Ee({parentNode:i,className:"share_button",nodeName:"div",alt:"Share",title:"Share",onclick:function(t){return e.share_popup(t,A,A.name.get())}}),e.use_download&&"Session"!==A._info.model_type.get()&&"Directory"!==A._info.model_type.get())return Ee({parentNode:i,className:"download_button",nodeName:"div",alt:"Download",title:"Download",onclick:function(e){return A instanceof TiffFile?A.load_tiff(function(A,n){if("undefined"!=typeof Path&&null!==Path&&A instanceof Path)return e.preventDefault(),t.open("/sceen/_?u="+A._server_id,"_blank")}):A.load(function(A,n){return"undefined"!=typeof Path&&null!==Path&&A instanceof Path?(e.preventDefault(),t.open("/sceen/_?u="+A._server_id,"_blank")):alert("TODO: download models")})}})}}(this)(n,i);return this.use_breadcrumb&&this.draw_breadcrumb(),Ee({parentNode:this.all_file_container,nodeName:"div",style:{clear:"both"}})},i.prototype.path=function(){return"test_need_to_be_complete"},i.prototype.share_popup=function(t,e,A){var n,i,o,r;if((o=(n=prompt("share '"+A+"' with (is'sim login) ?")).indexOf("@"))<0)return alert("Please enter a valid login (email adress)");r=n,console.log(n,o,r),(i=FileSystem.get_inst()).load("__users__/"+r,function(t,n){return n?alert("Please enter a valid login (email adress --)"):i.load_or_make_dir("__users__/"+r+"/inbox",function(t,n){var i,o;if(n)return alert("??");for(o=A;t.has(o);)(i=o.indexOf("."))<0&&(i=o.length),o=o.slice(0,i)+"_"+o.slice(i,o.length);return t.push(e)})})},i.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.popup_share_div)},i.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},i.add_action=function(t,e){return null==i._action_list[t]&&(i._action_list[t]=[]),i._action_list[t].push(e)},i.add_action_2=function(t,e){return null==i._action_list_2[t]&&(i._action_list_2[t]=[]),i._action_list_2[t].push(e)},i}(),Se.default_types.unshift(function(t){if(t instanceof Directory)return He});var We;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;We=function(t){function e(t){var A,n,i;e.__super__.constructor.call(this,t),this.select=Ee({parentNode:this.ed,nodeName:"select",onchange:(n=this,function(){return n.snapshot(),n.model.set(n.select.value)}),style:{width:this.ew+"%"}}),null!=(A=this.ev)&&(A.onmousedown=(i=this,function(){var t;return null!=(t=i.get_focus())?t.set(i.process_id):void 0}))}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s;if(this.model.lst.has_been_modified()){for(;null!=this.select.firstChild;)this.select.removeChild(this.select.firstChild);for(t=0,A=0,n=(i=this.model._nlst()).length;A<n;A++)r="",(e=i[A]).toString()===this.model.item().toString()&&(r="selected"),Ee({parentNode:this.select,nodeName:"option",selected:r,txt:e.toString(),value:t}),t+=1}if(this.model.num.has_been_modified()&&(this.select.value=this.model.num.get()),null!=(o=this.get_focus())?o.has_been_modified():void 0)return this.get_focus().get()===this.process_id?setTimeout((s=this,function(){return s.select.focus()}),1):this.select.blur()},e}();var Ke;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ke=function(t){function e(t){var A;e.__super__.constructor.call(this,t),this.line_height=30,this.container=Ee({parentNode:this.ed,nodeName:"span",className:"ModelEditorChoiceRoll",onclick:(A=this,function(t){return A.snapshot(),A.model.set((A.model.num.get()+1)%A.model._nlst().length),"function"==typeof t.stopPropagation?t.stopPropagation():void 0}),style:{color:"rgba(0,0,0,0)",display:"inline-block",width:this.ew+"%"}}),this.window=Ee({parentNode:this.container,className:"ModelEditorChoiceRollWindow",txt:"."}),this._cl=[]}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s;if(this.model.lst.has_been_modified()||0===this._cl.length){for(A=0,i=(r=this._cl).length;A<i;A++)(e=r[A]).parentNode.removeChild(e);for(this._cl=[],t=0,n=0,o=(s=this.model._nlst()).length;n<o;n++)e=s[n],this._cl.push(Ee({parentNode:this.window,txt:e.get(),value:t,style:{position:"absolute",left:0,right:0,top:this.line_height*t+"px"}})),t+=1}return this.window.style.top=-this.line_height*this.model.num.get()+"px"},e}();var je;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;je=function(t){function e(t){var A,n,i,o,r,s,a,l;e.__super__.constructor.call(this,t),this.downdown=Ee({parentNode:this.ed,nodeName:"button",txt:"<<",style:{width:.2*this.ew+"%"},onmousedown:(n=this,function(){return n.model._down.set(!0)}),onmouseup:(A=this,function(){return A.model._down.set(!1)})}),this.down=Ee({parentNode:this.ed,nodeName:"button",txt:"<",style:{width:.2*this.ew+"%"},onclick:(i=this,function(){return i.model._down._signal_change(),i.model.val.set(i.model.val.get()-i.model.step.get())})}),this.input=Ee({parentNode:this.ed,type:"text",nodeName:"input",style:{width:.2*this.ew+"%",textAlign:"center"},onchange:(r=this,function(){return r.snapshot(),r.model.step.set(r.input.value)}),onfocus:(o=this,function(){var t;return null!=(t=o.get_focus())?t.set(o.process_id):void 0})}),this.up=Ee({parentNode:this.ed,nodeName:"button",txt:">",style:{width:.2*this.ew+"%"},onclick:(s=this,function(){return s.model._up._signal_change(),s.model.val.set(s.model.val.get()+s.model.step.get())})}),this.upup=Ee({parentNode:this.ed,nodeName:"button",txt:">>",style:{width:.2*this.ew+"%"},onmousedown:(l=this,function(){return l.model._up.set(!0)}),onmouseup:(a=this,function(){return a.model._up.set(!1)})})}return n(e,Se),e.prototype.onchange=function(){var t,e;if(!0===this.model._down.get()&&(this.model._down._signal_change(),this.model.val.set(this.model.val.get()-this.model.step.get())),!0===this.model._up.get()&&(this.model._up._signal_change(),this.model.val.set(this.model.val.get()+this.model.step.get())),this.model.has_been_modified()&&(this.input.value=this.model.step.get()),null!=(t=this.get_focus())?t.has_been_modified():void 0)return this.get_focus().get()===this.process_id?setTimeout((e=this,function(){return e.input.focus()}),1):this.input.blur()},e}();var Je;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Je=function(t){function e(t){var A,n,i,o,r;e.__super__.constructor.call(this,t),this.container=Ee({parentNode:this.ed,className:"ModelEditorColorSelector",style:{display:"inline-block",width:this.ew+"%"},onclick:function(t){}}),o="","bottom"===this.picker_pos&&(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCgwrM1Ga25IAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABm0lEQVQoz42QTWsTURSGn3Mn7QyjRiwEYgQR1I3ipgbMRwtZzULEX2BdCs2+7jpJf0LdhQaZ0t/g5m5t+sHshChq8xvuqkOinVw3M6MlFvrCuzjvOec9HxhjxBhDxgda6wFgtdadTPPyPMYYJw+01oN6vW63t0ObNfSNMa/yvAJS4F4cx4MgCN5tbLzF9Tx2dz8QBEEvjuM6cBcAY8x9rfWgWq3+CsOejfYP7LfvE6L9AxuGPVur1fIJSKfT+Tgej99sbnaXHj56zItGW8hwejKyk7OfDId7RFG0I0qp+dbWe3ny9BmN5t/CHCfHIzs5+8FwuId0u13baK7RbK0tFOY4Pjq0X8dfUK7r0mqvi4hwFVvtdSmXy5QqlQoiiuugBKDU/zdI0xTHcYpYAYgo0jTFdT1EVEGg0Apna+c4jsNsNl1w/1dTAI7jXMtZAdy64bK8VCJJzrm4+F18ASBJzrnpL18+8HbZL8bN5zY72ru0kmit+0BvdfW53FlZWfjCdDrjaPTZWmtfC4DW+lOSJC9937/qxTtBEPT/APAHvhsShFl7AAAAAElFTkSuQmCC"),"top"===this.picker_pos&&(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCwkPLn0D82MAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABh0lEQVQoz42QwWoaURSGv3sdmzCS0GZlLJQ+Q+qipSBduSilL+IzZDTQujcgKE3DxDxDN2ebGH2DUNEncHHBJNZxMp4umhm0bSA/nMX9///855xrAETkx3w+/+j7Po/gqFqtNoyINID6wcEb82JvD4AkScjlcgAsFhFX/QtV1c+m2WxqrVYz6zGrlWLtBkW73VYvFW9uf7GM7wHI558BEMdLAJ7vFgCwADd3Ecv4Ht8v4Hl5VBVVBcD3C9zO/zR56ztG0eKfy9Y5C2CMJUkStra2McZmBWRclqy6elJyduD/YIzd0LzpdIrqiqfARlH26TxWV/0Lnc1meJ1OR3d2do2q6tt3783facNBXyfjEb1eD1upVMLT0+/xZDxiOLjcmDAcXOpkPOLk5BthGB7hnHslIt1isbgMgrqGZ+d6/XNCeHauQVDXUqmkItJwzoFzDufcSxHpAtpqHeuXr01ttY4VSI37qTn30ICIdMvlsh4eBuvGT6mOc86kD+fc63SCiHx44LZT/TfFMxnQNUaP0gAAAABJRU5ErkJggg=="),"left"===this.picker_pos&&(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCwkQJ8mFRVkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABoUlEQVQoz42Sz2oTURjFf3cmEZk0RfsEgrpR3FSGpq0E3Aw04BtIwM1IDdh9FE1cZF9XKU1LyAsERDd3JdSklZkn0MSF4Cq7JMbMnzvXjRNipdLf5izO4XD4+ASAlLLm+/5rLmA0GhEEAc1mUxeLxXa3260B3wETSDJSyg9AqVKpiCTRTH4GKKUQwkDrhCTRaJ3Q753ofH5VHB8fPfY8L7Jt+w3wA8CYzWal9fX7AmAy/UUYhgDEcfTXms2tB+LO3Xvs7j7LlsvlJ57nvUo9w7Isrq+tARBGMZaVA1joMoXNbXHz1m1c92nWcRzX87wD4EbmfDBdkup5NgrbQmut9/ffUq1W3UajgQGglCJJNNnsFS7DRmFLTKZTdnZKOI7jZgBM08QwBJfl81lf51dWePmiipTyobFsRlFIHEcopRb6b0FPfxsO2Nt7jpSybtv2RwNgPg8WIcvKYZrmQpc5O+3p4eArrdZhWuADVw2g3u+daIBrq7kLD3va/6SHgy+0Woe02+26bdsHwHtgLv587CPf99/97w7j8ZhOp5MW1Ja93+hxwv/F38EpAAAAAElFTkSuQmCC"),"right"===this.picker_pos&&(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAALCAYAAACZIGYHAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCwkQFQFSFNkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABpUlEQVQoz42SQWsTQRiGn5npJrJJU1vIQQQRbPWgeNqlscWDl4F6EHIOLNtatznZsznYpP0F9VbsvxA87Eli1STjP7D1L+zBHmo2k/UQExKr0ufyDh98DzPDK5IkEYAELHCrWq022+12WK/XRT6fp1wu8y88z2tprZsiSZLx7KYx5nWtVtvc2nru3H/wkLX1x0IIiZQCISRZNkQpxXwhj5SCbrebAe8nEmPMURAEm1G049xZvvtbMFqWUmCtRSmFtZacM8dCySVNB5ycfMwkcNsYc6S1jkaCFSqP1sWfV3fdwiT76QCAxaUlXNdlzhjzqtFoRIeHb1i4vshq5bIAoN/vz+Q0UmsdbWw85cf5OauVNcEVcJwcw2GGtXYkieP4ycHBPvPFIt3O54wrIqVAKTU6+77/IY7j1u7uS76fndLtfLokstYyGKSTTNPZJ0ngmu/7X+M4bh0fv+Xs9BudL7MipRSuW5jkmIuLnwBM9+SGMWYnDMO97e0XLK/c+2tPhJAU3RyOo+j1elmWZa1pybgvzTAM94IgoFQq/fdfPM97prV+9wvs56UsZC2ExAAAAABJRU5ErkJggg=="),this.picture=Ee({parentNode:this.container,nodeName:"img",src:o,style:{position:"relative",zIndex:"4",color:"rgba(0,0,0,0)"}}),"bottom"===this.picker_pos&&(i="-12px",r="10px",A="11px"),"top"===this.picker_pos&&(i="-16px",r="10px",A="11px"),"left"===this.picker_pos&&(i="-10px",n="1px",r="13px",A="9px"),"right"===this.picker_pos&&(i="-10px",n="4px",r="13px",A="9px"),this.color=Ee({parentNode:this.container,style:{position:"relative",zIndex:"3",marginTop:i,marginLeft:n,width:r,height:A}})}return n(e,Se),e.prototype.onchange=function(){return this.color.style.background=this.model.to_hex()},e}();var qe;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;qe=function(t){function e(t){var A,n;e.__super__.constructor.call(this,t),this.sat_size=200,A=Ee({parentNode:this.ed,style:{position:"relative"}}),n=Ee({parentNode:A,style:{position:"relative",display:"inline-block"}}),this._init_sat(n),this._init_val(n),this._init_edt(A),this._old_h=-1,this._old_s=-1}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,l,c,h,d,u,p;if(this.new_color_block.style.background=this.model.to_hex(),o=(c=this.model.to_hsv())[0],u=c[1],p=c[2],this.value_cur.style.top=(1-p)*this.sat_size-5,this._old_h!==o||this._old_s!==u)return this._old_h=o,this._old_s=u,this.sat_lum_cur.style.left=(this.sat_lum.width-1)*o-5,this.sat_lum_cur.style.top=(this.sat_lum.height-1)*(1-u)-5,A=this.val_can.getContext("2d"),s=(h=a.hsv_to_rgb(o,u,1))[0],n=h[1],t=h[2],l=(d=a.hsv_to_rgb(o,u,0))[0],i=d[1],e=d[2],(r=A.createLinearGradient(0,0,0,this.sat_lum.height)).addColorStop(0,"rgb("+s+","+n+","+t+")"),r.addColorStop(1,"rgb("+l+","+i+","+e+")"),A.fillStyle=r,A.fillRect(0,0,this.sat_lum.width,this.sat_lum.height)},e.prototype._init_sat=function(t){var e,A,n,i,o,r,s,l,c,h,d,u,p,_,f,m,g,v;for(v=this,A=function(t){var e,A,n,i,o,r,s,l,c,h;return c=t.clientX-xe(v.sat_lum),h=t.clientY-be(v.sat_lum),n=(o=v.model.to_hsv())[0],s=o[1],l=o[2],n=c/(v.sat_lum.width-1),s=1-h/(v.sat_lum.height-1),n=Math.max(0,Math.min(1,n)),s=Math.max(0,Math.min(1,s)),i=(r=a.hsv_to_rgb(n,s,l))[0],A=r[1],e=r[2],v.model.r.set(i),v.model.g.set(A),v.model.b.set(e),"function"==typeof t.preventDefault?t.preventDefault():void 0},e=function(t){return"function"==typeof document.detachEvent&&document.detachEvent("onmousemove",A),"function"==typeof document.detachEvent&&document.detachEvent("onmouseup",e),"function"==typeof document.removeEventListener&&document.removeEventListener("mousemove",A,!0),"function"==typeof document.removeEventListener?document.removeEventListener("mouseup",e,!0):void 0},this.sat_lum=Ee({parentNode:t,nodeName:"canvas",width:this.sat_size,height:this.sat_size,onmousedown:function(t){return document.addEventListener("mousemove",A,!0),document.addEventListener("mouseup",e,!0),A(t)}}),this.sat_lum_cur=Ee({parentNode:t,className:"ColorPickerSatLumSelect",style:{position:"absolute"}}),o=this.sat_lum.getContext("2d"),m=[],g=c=0,p=this.sat_lum.width;0<=p?c<p:c>p;g=0<=p?++c:--c)l=g/(this.sat_lum.width-1),d=(_=a.hsv_to_rgb(l,1,1))[0],r=_[1],n=_[2],u=(f=a.hsv_to_rgb(l,0,1))[0],s=f[1],i=f[2],(h=o.createLinearGradient(0,0,0,this.sat_lum.height)).addColorStop(0,"rgb("+d+","+r+","+n+")"),h.addColorStop(1,"rgb("+u+","+s+","+i+")"),o.fillStyle=h,m.push(o.fillRect(g,0,g,this.sat_lum.height));return m},e.prototype._init_val=function(t){var e,A,n;return n=this,A=function(t){var e,A,i,o,r,s,l,c,h;return h=t.clientY-be(n.sat_lum),i=(r=n.model.to_hsv())[0],l=r[1],c=r[2],c=1-h/(n.sat_lum.height-1),c=Math.max(0,Math.min(1,c)),o=(s=a.hsv_to_rgb(i,l,c))[0],A=s[1],e=s[2],n.model.r.set(o),n.model.g.set(A),n.model.b.set(e),"function"==typeof t.preventDefault?t.preventDefault():void 0},e=function(t){return"function"==typeof document.detachEvent&&document.detachEvent("onmousemove",A),"function"==typeof document.detachEvent&&document.detachEvent("onmouseup",e),"function"==typeof document.removeEventListener&&document.removeEventListener("mousemove",A,!0),"function"==typeof document.removeEventListener?document.removeEventListener("mouseup",e,!0):void 0},this.val_can=Ee({parentNode:t,nodeName:"canvas",width:23,height:this.sat_size,onmousedown:function(t){return document.addEventListener("mousemove",A,!0),document.addEventListener("mouseup",e,!0),A(t)},style:{marginLeft:10}}),this.value_cur=Ee({parentNode:t,className:"ColorPickerChromiSelect",style:{position:"absolute",left:204}})},e.prototype._init_edt=function(t){var e;return e=Ee({parentNode:t,nodeName:"span",style:{marginLeft:10,display:"inline-block",width:200}}),this.old_color_block=Ee({parentNode:e,nodeName:"span",style:{display:"inline-block",marginBottom:15,width:"49%",height:100,background:this.model.to_hex()}}),this.new_color_block=Ee({parentNode:e,nodeName:"span",style:{display:"inline-block",marginLeft:"2%",marginBottom:15,width:"49%",height:100}}),Le({el:e,model:this.model.r,label:"R",label_ratio:.1}),Le({el:e,model:this.model.g,label:"G",label_ratio:.1}),Le({el:e,model:this.model.b,label:"B",label_ratio:.1}),Le({el:e,model:this.model.a,label:"A",label_ratio:.1}),Ee({parentNode:e,style:{display:"inline-block",width:1,height:1}})},e}();var Ze;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Ze=function(t){function e(t){var A;e.__super__.constructor.call(this,t),this.canvas=Ee({parentNode:this.ed,nodeName:"canvas",className:"ModelEditorGradientSelector",style:{width:this.ew+"%",height:20},onclick:(A=this,function(t){return null!=A.spec_click?A.spec_click(t):A.forbid_picker?void 0:(Be(A.label||"Gradient picker",{event:t}).appendChild(A.d),A.gp.build_color_picker())})}),this.forbid_picker||(this.d=Ee(),this.gp=new $e({el:this.d,model:this.model,parent:this})),this.forbid_picker&&we(this.canvas,"predefinedGradient")}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o;for(i=(e=this.canvas.getContext("2d")).createLinearGradient(0,0,this.canvas.width,0),1,A=0,n=(o=this.model.color_stop).length;A<n;A++)t=o[A],i.addColorStop(1-t.position.get(),"rgba("+t.color.r.get()+","+t.color.g.get()+","+t.color.b.get()+","+t.color.a.get()+")");return e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height)},e}(),Se.default_types.push(function(t){if(t instanceof s)return Ze});var $e;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;$e=function(t){function e(t){var A,n;this.add_color_picker=Ct(this.add_color_picker,this),this._focus_color=Ct(this._focus_color,this),this.remove_color_picker=Ct(this.remove_color_picker,this),this.create_color_picker=Ct(this.create_color_picker,this),this.build_color_picker=Ct(this.build_color_picker,this),this.save_current_gradient=Ct(this.save_current_gradient,this),this.apply_predefined_gradient=Ct(this.apply_predefined_gradient,this),e.__super__.constructor.call(this,t),this.predef_grad=new Lst,this.popupWidth=535,this.picker_pos="right","right"===this.picker_pos||"left"===this.picker_pos?(this.way="vertical",this.canvasContainerWidth="5%",this.canvasWidth=100,this.canvasHeight=350):(this.way="horizontal",this.canvasWidth=80,this.canvasHeight=20,this.canvasContainerWidth=this.ew-1.5+"%"),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"containerGradientPicker",style:{width:this.popupWidth,minHeight:this.canvasHeight+3,display:"inline-block"}}),this.rightContainer=Ee({parentNode:this.container,nodeName:"div",className:"rightContainer"}),this.colorPicker=Ee({parentNode:this.rightContainer,className:"inlineColorPicker"}),new qe({el:this.colorPicker,model:this.model.color_stop[0].color}),Ee({parentNode:this.rightContainer,nodeName:"hr",style:{marginRight:"12px"}}),this.containerPreDefinedGradient=Ee({parentNode:this.rightContainer,nodeName:"div",className:"containerPreDefinedGradient",txt:"Predefined gradient"}),Ee({parentNode:this.containerPreDefinedGradient,nodeName:"br"}),this.build_predefined_gradient(),this.savePreDefinedGradient=Ee({parentNode:this.rightContainer,nodeName:"a",href:"javascript:void(0)",onclick:(A=this,function(t){return A.save_current_gradient(t)}),className:"savePredefinedGradient"}),this.savePreDefinedGradientImg=Ee({parentNode:this.savePreDefinedGradient,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAUCAIAAACS+POVAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKFA4BHCZi3iEAAACKSURBVEjHY/z//z8DEvj79++vX79+/fr18+fPX8QBZJW/f/+mRDsTw2ACo67BDVjoY82dyVuQuWz+eqMxNZpusIB9pdPwyP7aeImBgYGNgYGNgYGHgeG5Af9oTI2mGwYGBgan7izkyuha7zq08ga5nmJg+DUaU6PpBgtQyfVBadTAEspoTA1R1wAAX6ixHh6n9uUAAAAASUVORK5CYII=",alt:"Save Current Gradient",title:"Save Current Gradient"}),this.canvasContainer=Ee({parentNode:this.container,className:"canvasContainer",style:{width:this.canvasContainerWidth,position:"absolute"}}),this.canvas=Ee({parentNode:this.canvasContainer,nodeName:"canvas",className:"gradientPicker",style:{display:"inline-block",width:this.canvasWidth+"%",height:this.canvasHeight},onclick:(n=this,function(t){return n.add_color_picker(t)})}),this.build_color_picker()}return n(e,Se),e.prototype.onchange=function(){var t,e,A,n,i,o;for(e=this.canvas.getContext("2d"),i="vertical"===this.way?e.createLinearGradient(0,0,0,this.canvas.height):e.createLinearGradient(0,0,this.canvas.width,0),A=0,n=(o=this.model.color_stop).length;A<n;A++)t=o[A],i.addColorStop(t.position.get(),t.color.to_rgba());return e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.apply_predefined_gradient=function(t){var e,A,n,i,o,r,s;for(A=0,i=(r=this.model.color_stop).length;A<i;A++)e=r[A],this.model.remove_color(e);for(n=0,o=(s=this.predef_grad[t].color_stop.get()).length;n<o;n++)e=s[n],this.model.add_color([e.color.r,e.color.g,e.color.b,e.color.a],e.position);return this.build_color_picker()},e.prototype.build_predefined_gradient=function(){var t,e,A,n,i,o,r,a,l;for((o=new s).add_color([255,255,255,255],0),o.add_color([0,0,0,255],1),this.predef_grad.push(o),(o=new s).add_color([255,0,0,255],0),o.add_color([255,255,255,255],.5),o.add_color([0,0,255,255],1),this.predef_grad.push(o),(o=new s).add_color([255,255,255,255],0),o.add_color([255,255,0,255],.33),o.add_color([255,0,0,255],.67),o.add_color([0,0,0,255],1),this.predef_grad.push(o),(o=new s).add_color([255,0,0,255],0),o.add_color([255,255,0,255],.25),o.add_color([0,255,0,255],.5),o.add_color([0,255,255,255],.75),o.add_color([0,0,255,255],1),this.predef_grad.push(o),A=0,r=this.predef_grad,l=this,t=function(t){return new Ze({el:l.containerPreDefinedGradient,model:e,forbid_picker:!0,item_width:48,spec_click:function(e){return l.apply_predefined_gradient(t)}})},a=[],n=0,i=r.length;n<i;n++)e=r[n],t(A),a.push(A++);return a},e.prototype.save_current_gradient=function(t){var e,A,n,i,o,r,a;for(o=new s,n=0,i=(r=this.model.color_stop).length;n<i;n++)e=r[n],o.add_color([e.color.r,e.color.g,e.color.b,e.color.a],e.position);return A=this.predef_grad.length,new Ze({el:this.containerPreDefinedGradient,model:o,forbid_picker:!0,item_width:48,spec_click:(a=this,function(t){return a.apply_predefined_gradient(A)})}),this.predef_grad.push(o),this.build_color_picker()},e.prototype.build_color_picker=function(){for(var t,e,A,n;this.canvasContainer.children.length>1;)t=this.canvasContainer.children[1],this.canvasContainer.removeChild(t);for(e=A=0,n=this.model.color_stop.length;0<=n?A<n:A>n;e=0<=n?++A:--A)this.create_color_picker(e);return this._focus_color(0)},e.prototype.create_color_picker=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u;return s=0,r=0,a=0,o=!1,!1,2,10,n=parseInt(getComputedStyle(this.canvas).height),i=parseInt(getComputedStyle(this.canvas).width),"horizontal"===this.way&&(l=this.model.color_stop[t].position.get()*this.canvasWidth-1+"%","top"===this.picker_pos&&(c="-9px"),"bottom"===this.picker_pos&&(c=parseInt(getComputedStyle(this.canvas).height)-5+"px")),"vertical"===this.way&&(c=this.model.color_stop[t].position.get()*this.canvasHeight-5+"px","left"===this.picker_pos&&(l="-10px"),"right"===this.picker_pos&&(l=parseInt(getComputedStyle(this.canvas).width)-4+"px")),this.cp=Ee({parentNode:this.canvasContainer,nodeName:"div",id:"cp"+t,style:{position:"absolute",top:c,left:l,width:"2%",height:"10px",cursor:"pointer"},onmousedown:(h=this,function(o){return r=o.clientX,s=o.clientY,a="vertical"===h.way?h.model.color_stop[t].position.get()*n:h.model.color_stop[t].position.get()*i,document.addEventListener("mousemove",A,!0),document.addEventListener("mouseup",e,!0),"function"==typeof o.preventDefault&&o.preventDefault(),h.cp.style.border,h._focus_color(t)})}),new Je({el:this.cp,model:this.model.color_stop[t].color,picker_pos:this.picker_pos}),d=this,A=function(e){var A,l,c;return l=document.getElementById("cp"+t),("vertical"===d.way?Math.abs(e.clientX-r):Math.abs(e.clientY-s))>50?(l.style.opacity=.2,l.style.border="medium solid red",o=!0):(l.style.opacity=1,l.style.border="none",o=!1),(c="vertical"===d.way?(a+=e.clientY-s)/n:(a+=e.clientX-r)/i)>1&&(c=1,a="vertical"===d.way?n:i),c<0&&(c=0,a=0),d.model.color_stop[t].position.set(c),"vertical"===d.way?(l.style.top=a-5,s=e.clientY):(A=parseInt(getComputedStyle(l).width),l.style.left=a-A/2,r=e.clientX),"function"==typeof e.preventDefault?e.preventDefault():void 0},u=this,e=function(n){var i,r,s,a,l,c,h,d;if(document.getElementById("cp"+t),"function"==typeof document.detachEvent&&document.detachEvent("onmousemove",A),"function"==typeof document.detachEvent&&document.detachEvent("onmouseup",e),"function"==typeof document.removeEventListener&&document.removeEventListener("mousemove",A,!0),"function"==typeof document.removeEventListener&&document.removeEventListener("mouseup",e,!0),!0===o&&(u.remove_color_picker(t),u.model.remove_color(t),t!==u.model.color_stop.length)){for(i=r=a=t+1,l=u.model.color_stop.length;a<=l?r<=l:r>=l;i=a<=l?++r:--r)u.remove_color_picker(i);for(d=[],i=s=c=t,h=u.model.color_stop.length;c<=h?s<=h:s>=h;i=c<=h?++s:--s)d.push(u.create_color_picker(i));return d}}},e.prototype.remove_color_picker=function(t){var e;if(e=document.getElementById("cp"+t),this.canvasContainer.removeChild(e),"undefined"!==document.getElementById("cp0"))return this._focus_color(0)},e.prototype._focus_color=function(t){return this.colorPicker.removeChild(this.colorPicker.firstChild),new qe({el:this.colorPicker,model:this.model.color_stop[t].color})},e.prototype.add_color_picker=function(t){var e,A,n,i;return i=(n=this.find_color_by_event(t))[0],A=n[1],e=this.model.color_stop.length,this.model.add_color([i[0],i[1],i[2],i[3]],A),this.create_color_picker(e),this._focus_color(e)},e.prototype.find_color_by_event=function(t){var e,A,n,i,o,r;return o=this.canvas.getContext("2d"),A=parseInt(getComputedStyle(this.canvas).width),e=parseInt(getComputedStyle(this.canvas).height),n=o.getImageData(0,0,this.canvas.width,this.canvas.height),i=this.get_cursor_position(t),r="vertical"===this.way?4*Math.round(45e3*i[1]/e):4*Math.round(300*i[0]/A),[[n.data[r+0],n.data[r+1],n.data[r+2],n.data[r+3]],"vertical"===this.way?i[1]/e:i[0]/A]},e.prototype.get_cursor_position=function(t){var e;return e=[xe(this.canvas),be(this.canvas)],[t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-Math.floor(e[0]),t.clientY+document.body.scrollTop+document.documentElement.scrollTop-Math.floor(e[1])-1]},e}();var tA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;tA=function(t){function e(t){var A;e.__super__.constructor.call(this,t),this.container=Ee({parentNode:this.ed,nodeName:"span",className:"ModelEditorColorSelectorBackground"}),this.color_selector=Ee({parentNode:this.container,nodeName:"span",className:"ModelEditorColorSelector",txt:".",style:{display:"inline-block",color:"rgba(0,0,0,0)",width:this.ew+"%"},onclick:(A=this,function(t){return null==A.d&&(A.d=Ee(),A.item_cp=new qe({el:A.d,model:A.model,parent:A})),Be(A.label||"Color picker",{event:t}).appendChild(A.d)})})}return n(e,Se),e.prototype.onchange=function(){return this.color_selector.style.background=this.model.to_hex()},e}(),Se.default_types.push(function(t){if(t instanceof a)return tA});var eA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;eA=function(t){function e(t){var A,n,i,o,r,s;e.__super__.constructor.call(this,t),this.current_path="/scripts",this.button=Ee({parentNode:this.ed,nodeName:"input",type:"button",value:"FullScreen",onclick:(n=this,function(t){return Be(n.label||"Code Editor",{event:t,width:"50",onclose:function(){return n.onPopupClose()}}).appendChild(n.textarea),n.code_mirror.save(),n.model.set(n.code_mirror.getValue()),n.fullscreen_code_mirror=CodeMirror.fromTextArea(n.textarea,{lineNumbers:!0,mode:n.model.get_language(),lineWrapping:!0,onChange:function(){var t,e,A;return e=n.fullscreen_code_mirror.getValue(),n.model.set(e),"function"==typeof(t=n.model).callback&&t.callback(),null!=(A=n.get_focus())?A.set(n.process_id):void 0},onCursorActivity:function(){return n.fullscreen_code_mirror.setLineClass(n.hlLine,null),n.hlLine=n.fullscreen_code_mirror.setLineClass(n.fullscreen_code_mirror.getCursor().line,"activeline"),n.fullscreen_code_mirror.matchHighlight("CodeMirror-matchhighlight")}}),n.hlLine=n.fullscreen_code_mirror.setLineClass(0,"activeline")})}),this.textarea=Ee({parentNode:this.ed,nodeName:"textarea",className:"code_editor",txt:this.model.get()}),null!=(A=this.ev)&&(A.onmousedown=(i=this,function(){var t;return null!=(t=i.get_focus())?t.set(i.process_id):void 0})),this.code_mirror=CodeMirror.fromTextArea(this.textarea,{lineNumbers:!0,mode:this.model.get_language(),lineWrapping:!0,onChange:(r=this,function(){var t;return r.model.set(r.code_mirror.getValue()),"function"==typeof(t=r.model).callback&&t.callback(),setTimeout(function(){return r.code_mirror.focus()},1)}),onCursorActivity:(o=this,function(){return o.code_mirror.setLineClass(o.hlLine2,null),o.hlLine2=o.code_mirror.setLineClass(o.code_mirror.getCursor().line,"activeline"),o.code_mirror.matchHighlight("CodeMirror-matchhighlight")})}),this.code_mirror.getWrapperElement().onmousedown=(s=this,function(){var t;return null!=(t=s.get_focus())?t.set(s.process_id):void 0}),this.hlLine2=this.code_mirror.setLineClass(0,"activeline")}return n(e,Se),e.prototype.onchange=function(){var t,e;if((null!=(t=this.get_focus())?t.has_been_modified():void 0)&&this.get_focus().get()===this.process_id)return setTimeout((e=this,function(){return e.code_mirror.focus()}),1)},e.prototype.onPopupClose=function(){var t;return t=this.fullscreen_code_mirror.getValue(),this.model.set(t),this.code_mirror.setValue(t)},e}(),Se.default_types.push(function(t){if(t instanceof l)return eA});var AA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;AA=function(e){function A(t){var e,n,i,o,r,s,a,l,c,h,d,u,p,f,m;for(i in t)o=t[i],this[i]=o;r=this,(n=function(t,e){if(null==r[t])return r[t]=e()})("items",function(){return new Lst}),n("cam",(s=this,function(){return new B(s.want_aspect_ratio)})),n("allow_gl",function(){return!1}),n("theme",function(){return new _}),n("time",function(){return new ConstrainedVal(0,{min:0,max:-1,div:0})}),n("padding_ratio",function(){return 1.5}),n("constrain_zoom",function(){return!1}),n("width",function(){return 100}),n("auto_fit",function(){return!1}),n("class_name",function(){return""}),A.__super__.constructor.call(this,[this.items,this.cam,this.time]),this.canvas=Ee({style:{width:this.width+"%"},nodeName:"canvas",className:null!=this.class_name?this.class_name||"":void 0,parentNode:this.el}),this.canvas.onmousewheel=(a=this,function(t){return a._mouse_wheel(t)}),this.canvas.onmousedown=(l=this,function(t){return l._mouse_down(t)}),this.canvas.onmousemove=(c=this,function(t){return c._mouse_move(t)}),this.canvas.onmouseout=(h=this,function(t){return h._mouse_out(t)}),this.canvas.ondblclick=(d=this,function(t){return d._dbl_click(t)}),this.canvas.onmouseup=(u=this,function(t){return u._mouse_up(t)}),"function"==typeof(e=this.canvas).addEventListener&&e.addEventListener("DOMMouseScroll",this.canvas.onmousewheel,!1),this._init_ctx(),this.x_min=[0,0,0],this.x_max=[1,1,1],this.click_fun=[],this.dblclick_fun=[],this.select_canvas_fun=[],this._buf_list={vert:{buf:{},del:(m=this,function(t){return m.ctx.deleteShader(t)})},frag:{buf:{},del:(f=this,function(t){return f.ctx.deleteShader(t)})},prog:{buf:{},del:(p=this,function(t){return p.ctx.deleteProgram(t)})}},this.fit()}return n(A,ve),A.ctx_id=-1,A.prototype.active_items=function(){return this.items},A.prototype.selected_items=function(){return[]},A.prototype.onchange=function(){if(this.need_to_redraw())return this.draw()},A.prototype.need_to_redraw=function(){var t,e,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g,v,y,w;if("function"==typeof(t=this.items).has_been_directly_modified?t.has_been_directly_modified():void 0)return!0;if("function"==typeof(e=this.cam).has_been_modified?e.has_been_modified():void 0)return!0;if("function"==typeof(n=this.theme).has_been_modified?n.has_been_modified():void 0)return!0;if("function"==typeof(i=this.time).has_been_modified?i.has_been_modified():void 0)return!0;for(y="",a=0,c=(f=this.active_items()).length;a<c;a++)("function"==typeof(v=f[a]).has_nothing_to_draw?v.has_nothing_to_draw():void 0)||(y+=" "+v.model_id);if(this._old_str_act!==y)return this._old_str_act=y,!0;for(w="",l=0,h=(m=this.selected_items()).length;l<h;l++)("function"==typeof(v=m[l]).has_nothing_to_draw?v.has_nothing_to_draw():void 0)||(w+=" "+v.model_id);if(this._old_str_sel!==w)return this._old_str_sel=w,!0;for(r=[],p=0,d=(g=this.active_items()).length;p<d;p++)s=g[p],A._get_flat_list(r,s);for(_=0,u=r.length;_<u;_++)if("function"==typeof(o=r[_]).has_been_modified?o.has_been_modified():void 0)return!0;return!1},A.prototype.bounding_box=function(){var t,e,A,n,i,o,r;if(null!=this._bounding_box)return this._bounding_box;for(t=function(e,A,n){var i,o,r,s,a;if("function"==typeof e.update_min_max&&e.update_min_max(A,n),null!=e.sub_canvas_items){for(s=[],i=0,o=(r=e.sub_canvas_items()).length;i<o;i++)a=r[i],s.push(t(a,A,n));return s}},r=[1e40,1e40,1e40],o=[-1e40,-1e40,-1e40],A=0,n=(i=this.active_items()).length;A<n;A++)e=i[A],t(e,r,o);return 1e40===r[0]?[[-1,-1,-1],[1,1,1]]:(this._bounding_box=[r,o],this._bounding_box)},A.prototype.fit=function(t){var e,A,n,i,o,r,s,a,l,c;return null==t&&(t=1),e=[.5*((A=this.bounding_box())[1][0]+A[0][0]),.5*(A[1][1]+A[0][1]),.5*(A[1][2]+A[0][2])],0===(n=this.padding_ratio*Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1],A[1][2]-A[0][2]))&&(n=1),null!=this.cam.r&&(c=this.canvas.width,r=this.canvas.height,i=A[1][0]-A[0][0],0===(o=A[1][1]-A[0][1])&&(o=1),s=1/this.padding_ratio,c>r?(l=s*c/(c-r*(1-s)),this.aset(this.cam.r,l*(r*i)/(c*o),t),n=o*this.padding_ratio):(a=(r-c*(1-s))/(s*r)*(r*i)/(c*o),this.aset(this.cam.r,a,t),n=i/a*this.padding_ratio)),this.aset(this.cam.O,e,t),this.aset(this.cam.d,n,t),this.aset(this.cam.C,this.cam.O,t)},A.prototype.aset=function(t,e,A){return null==A&&(A=1),dt.set(t,e,A*this.theme.anim_delay.get())},A.prototype.top=function(){return this.aset(this.cam.X,[1,0,0]),this.aset(this.cam.Y,[0,0,-1])},A.prototype.bottom=function(){return this.aset(this.cam.X,[1,0,0]),this.aset(this.cam.Y,[0,0,1])},A.prototype.right=function(){return this.aset(this.cam.X,[0,0,-1]),this.aset(this.cam.Y,[0,1,0])},A.prototype.left=function(){return this.aset(this.cam.X,[0,0,1]),this.aset(this.cam.Y,[0,1,0])},A.prototype.origin=function(){return this.aset(this.cam.X,[1,0,0]),this.aset(this.cam.Y,[0,1,0])},A.prototype.draw=function(){var t,e,n,i,o,r,s,a,l,c,d,u,p,_,f,m,g,v,y,w,x,b;for(this._flat=[],s=0,l=(_=this.active_items()).length;s<l;s++)r=_[s],A._get_flat_list(this._flat,r);for(i=!1,o=!1,a=0,c=(f=this._flat).length;a<c;a++)i|="function"==typeof(n=f[a]).draws_a_background?n.draws_a_background():void 0,o|="function"==typeof n.has_been_modified?n.has_been_modified():void 0;o&&(delete this._bounding_box,e=this.bounding_box(),this.cam._O.set(h.mus(.5,h.add(e[1],e[0]))),this.cam._d.set(h.len(h.sub(e[1],e[0])))),"gl"===this.ctx_type?this.ctx.clear(this.ctx.GL_DEPTH_BUFFER_BIT):i||this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),null!=this.sup_canvas_ctx&&this.sup_canvas_ctx.clearRect(0,0,this.sup_canvas.width,this.sup_canvas.height),this.auto_fit&&o&&(null!=this.first_fit?this.fit(1):(this.first_fit=!0,this.fit(0))),m=this._buf_list;for(b in m){g=(t=m[b]).buf;for(u in g)(x=g[u]).used=!1}for(this._mk_cam_info(),this._flat.sort(function(t,e){return null!=t.z_index&&null!=e.z_index||console.log(t,e),t.z_index()-e.z_index()}),p=0,d=(v=this._flat).length;p<d;p++)(r=v[p]).draw(this.cam_info);this.ctx.finish(),y=this._buf_list,w=[];for(b in y)t=y[b],w.push(function(){var e,A;e=t.buf,A=[];for(u in e)(x=e[u]).used?A.push(void 0):(t.del(x.val),A.push(delete t.buf[u]));return A}());return w},A.prototype.resize=function(t,e){if(this.canvas.width=t,this.canvas.height=e,this.sup_canvas&&(this.sup_canvas.width=t,this.sup_canvas.height=e),"gl"===this.ctx_type)return this.ctx.viewport(0,0,this.canvas.width,this.canvas.height)},A.prototype.make_sub_canvas=function(){if(null==this.sup_canvas)return this.sup_canvas=Ee({style:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0},nodeName:"canvas",className:null!=this.class_name?this.class_name||"":void 0,parentNode:this.el}),this.sup_canvas_ctx=this.sup_canvas.getContext("2d"),this.sup_canvas.width=this.canvas.width,this.sup_canvas.height=this.canvas.height},A.prototype.fillText=function(t,e,A,n,i,o){var r;return null==n&&(n="16pt Arial"),null==i&&(i="center"),null==o&&(o="White"),"2d"===this.ctx_type?(this.ctx.font=n,this.ctx.textAlign=i,this.ctx.textBaseline="middle",this.ctx.fillText(t,e,A)):(this.make_sub_canvas(),this.sup_canvas_ctx.font=n,this.sup_canvas_ctx.fillStyle=o,"center-limited"===i?(e+(r=this.sup_canvas_ctx.measureText(t)).width/2+10>=this.sup_canvas.width&&(e=this.sup_canvas.width-10-r.width/2),this.sup_canvas_ctx.textAlign="center"):this.sup_canvas_ctx.textAlign=i,this.sup_canvas_ctx.textBaseline="middle",this.sup_canvas_ctx.fillText(t,e,A))},A.prototype.active_items_rec=function(t){var e,A,n,i,o,r,s,a;for(null==t&&(t=this.active_items()),s=[],A=0,i=t.length;A<i;A++)if(e=t[A],s.push(e),null!=e.sub_canvas_items)for(n=0,o=(r=this.active_items_rec(e.sub_canvas_items())).length;n<o;n++)a=r[n],s.push(a);return s},A.prototype.selected_and_always_active_rec=function(){var t,e,A,n,i;for(i=this.selected_items_rec(),e=0,A=(n=this.active_items_rec()).length;e<A;e++)("function"==typeof(t=n[e]).always_active?t.always_active():void 0)&&i.push(t);return i},A.prototype.selected_items_rec=function(t){var e,A,n,i,o,r,s,a;for(null==t&&(t=this.selected_items()),s=[],A=0,i=t.length;A<i;A++)if(e=t[A],s.push(e),null!=e.sub_canvas_items)for(n=0,o=(r=this.selected_items_rec(e.sub_canvas_items())).length;n<o;n++)a=r[n],s.push(a);return s},A.prototype.gl_vert=function(t){return this._get_buf_obj("vert",t,(e=this,function(){return e._make_gl_shader(t,e.ctx.VERTEX_SHADER)}));var e},A.prototype.gl_frag=function(t){return this._get_buf_obj("frag",t,(e=this,function(){return e._make_gl_shader(t,e.ctx.FRAGMENT_SHADER)}));var e},A.prototype.gl_prog=function(t,e){var A,n,i,o;return i=this.gl_vert(t),A=this.gl_frag(e),n=t+"**"+e,this._get_buf_obj("prog",n,(o=this,function(){return o._make_gl_program(i,A)}))},A.prototype._get_buf_obj=function(t,e,A){var n;return null!=(n=this._buf_list[t].buf)[e]?n[e].used=!0:n[e]={used:!0,val:A()},n[e].val},A.prototype._make_gl_shader=function(t,e){var A;return A=this.ctx.createShader(e),this.ctx.shaderSource(A,t),this.ctx.compileShader(A),this.ctx.getShaderParameter(A,this.ctx.COMPILE_STATUS)?A:alert("An error occurred compiling the shader: "+t+this.ctx.getShaderInfoLog(A))},A.prototype._make_gl_program=function(t,e){var A;return A=this.ctx.createProgram(),this.ctx.attachShader(A,t),this.ctx.attachShader(A,e),this.ctx.linkProgram(A),this.ctx.getProgramParameter(A,this.ctx.LINK_STATUS)?A:alert("Unable to initialize the shader program.")},A.prototype._catch_evt=function(t){return"function"==typeof t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1},A.prototype._dbl_click=function(e){var A,n,i,o,r,s,a,l,c,h;for(n=0,o=(l=this.select_canvas_fun).length;n<o;n++)(0,l[n])(this,e);for(null==e&&(e=t.event),this.mouse_x=e.clientX-xe(this.canvas),this.mouse_y=e.clientY-be(this.canvas),i=0,r=(c=this.selected_and_always_active_rec()).length;i<r;i++)if("function"==typeof(A=c[i]).on_dbl_click?A.on_dbl_click(this,e,[this.mouse_x,this.mouse_y],this.mouse_b):void 0)return this._catch_evt(e);for(a=0,s=(h=this.dblclick_fun).length;a<s;a++)if((0,h[a])(this,e,[this.mouse_x,this.mouse_y],this.mouse_b))return this._catch_evt(e);return this._catch_evt(e)},A.prototype._mouse_down=function(e){var A,n,i,o,r,s,a,l,c,h;for(this.mouse_has_moved_since_mouse_down=!1,n=0,o=(l=this.select_canvas_fun).length;n<o;n++)(0,l[n])(this,e);for(null==e&&(e=t.event),this.mouse_b=null!=e.which?e.which<2?"LEFT":2===e.which?"MIDDLE":"RIGHT":e.button<2?"LEFT":4===e.button?"MIDDLE":"RIGHT",this.mouse_x=e.clientX-xe(this.canvas),this.mouse_y=e.clientY-be(this.canvas),i=0,r=(c=this.selected_and_always_active_rec()).length;i<r;i++)if("function"==typeof(A=c[i]).on_mouse_down?A.on_mouse_down(this,e,[this.mouse_x,this.mouse_y],this.mouse_b):void 0)return this._catch_evt(e);for(a=0,s=(h=this.click_fun).length;a<s;a++)if((0,h[a])(this,e,[this.mouse_x,this.mouse_y],this.mouse_b))return this._catch_evt(e);return"RIGHT"===this.mouse_b&&(this.canvas.oncontextmenu=function(){return!1},e.stopPropagation(),e.cancelBubble=!0,document.oncontextmenu=function(){return!1}),this._catch_evt(e)},A.prototype._mouse_up=function(t){var e,A,n,i;if(!this.mouse_has_moved_since_mouse_down)for(A=0,n=(i=this.selected_and_always_active_rec()).length;A<n;A++)if("function"==typeof(e=i[A]).on_mouse_up_wo_move?e.on_mouse_up_wo_move(this,t,[this.mouse_x,this.mouse_y],this.mouse_b):void 0)return delete this.mouse_b,delete this.clk_x,delete this.clk_y,this._catch_evt(t);return delete this.mouse_b,delete this.clk_x,delete this.clk_y},A.prototype._mouse_out=function(t){return delete this.mouse_b,delete this.clk_x,delete this.clk_y},A.prototype._mouse_wheel=function(e){var A,n,i,o,r,s,a,l;for(null==e&&(e=t.event),this.mouse_x=e.clientX-xe(this.canvas),this.mouse_y=e.clientY-be(this.canvas),o=0,null!=e.wheelDelta?(o=e.wheelDelta/120,t.opera&&(o=-o)):e.detail&&(o=-e.detail/3),s=0,a=(l=this.selected_and_always_active_rec()).length;s<a;s++)if("function"==typeof(r=l[s]).on_mouse_wheel?r.on_mouse_wheel(this,e,[this.mouse_x,this.mouse_y],this.mouse_b,o):void 0)return this._catch_evt(e);return A=Math.pow(1.2,o),n=e.shiftKey||"y"===this.constrain_zoom?1:A,i=e.altKey||"x"===this.constrain_zoom?1:A,this.cam.zoom(this.mouse_x,this.mouse_y,[n,i],this.canvas.width,this.canvas.height),this._catch_evt(e)},A.prototype._mouse_move=function(e){var A,n,i,o,r,s,a,l,c,h,d,u;for(a=this.mouse_x,l=this.mouse_y,null==e&&(e=t.event),this.mouse_has_moved_since_mouse_down=!0,this.rea_x=e.clientX-xe(this.canvas),this.rea_y=e.clientY-be(this.canvas),e.ctrlKey&&this.mouse_b?(null==this.clk_x&&(this.clk_x=this.rea_x,this.clk_y=this.rea_y),this.mouse_x=this.clk_x+(this.rea_x-this.clk_x)/10,this.mouse_y=this.clk_y+(this.rea_y-this.clk_y)/10):(this.mouse_x=this.rea_x,this.mouse_y=this.rea_y),o=0,r=(c=this.selected_and_always_active_rec()).length;o<r;o++)if("function"==typeof(i=c[o]).on_mouse_move?i.on_mouse_move(this,e,[this.mouse_x,this.mouse_y],this.mouse_b,[a,l]):void 0)return this._catch_evt(e);return h=this.canvas.width,n=this.canvas.height,s=Math.min(h,n),"LEFT"===this.mouse_b&&e.shiftKey?(A=Math.atan2(this.mouse_y-.5*n,this.mouse_x-.5*h)-Math.atan2(l-.5*n,a-.5*h),this.cam.rotate(0,0,A),this._catch_evt(e)):"MIDDLE"===this.mouse_b||"RIGHT"===this.mouse_b||"LEFT"===this.mouse_b&&e.ctrlKey?(d="y"!==this.constrain_zoom,u="x"!==this.constrain_zoom,this.cam.pan((this.mouse_x-a)*d,(this.mouse_y-l)*u,h,n),this._catch_evt(e)):"LEFT"===this.mouse_b?(d=2*(this.mouse_x-a)/s,u=2*(this.mouse_y-l)/s,this.cam.rotate(u,d,0),this._catch_evt(e)):this._catch_evt(e)},A.prototype._init_ctx=function(t){var e,n,i,o;if(this.allow_gl)for(e=0,n=(i=["experimental-webgl","webgl","webkit-3d","moz-webgl"]).length;e<n;e++){o=i[e];try{if(this.ctx=this.canvas.getContext(o,t))return this.ctx_type="gl",this.ctx.enable(this.ctx.DEPTH_TEST),this.ctx.depthFunc(this.ctx.LESS),this.ctx.blendFunc(this.ctx.SRC_ALPHA,this.ctx.ONE_MINUS_SRC_ALPHA),this.ctx.enable(this.ctx.BLEND),this.ctx.ctx_id=A.ctx_id+=1,!0}catch(t){t;continue}}return this.ctx_type="2d",this.ctx=this.canvas.getContext("2d")},A.prototype._get_x_min=function(){return this.bounding_box()[0]},A.prototype._get_x_max=function(){return this.bounding_box()[1]},A.prototype._mk_cam_info=function(){var t,e,n,i,o,r,s,a,l,c;for(s=this.canvas.width,t=this.canvas.height,e={},i=0,o=(r="function"==typeof this.selected_items?this.selected_items():void 0).length;i<o;i++)n=r[i],A._get_items_in_an_hash_table_rec(e,n);return this.cam_info={w:s,h:t,cm:this,mwh:Math.min(s,t),ctx:this.ctx,cam:this.cam,ctx_type:this.ctx_type,get_x_min:(c=this,function(){return c._get_x_min()}),get_x_max:(l=this,function(){return l._get_x_max()}),re_2_sc:this.cam.re_2_sc(s,t),sc_2_rw:this.cam.sc_2_rw(s,t),sel_item:e,time:this.time.get(),time_ref:this.time,theme:this.theme,padding:(1-1/this.padding_ratio)*Math.min(s,t),ctx_2d:(a=this,function(){return"gl"===a.ctx_type?(a.make_sub_canvas(),a.sup_canvas_ctx):a.ctx})}},A._get_flat_list=function(t,e){var n,i,o,r;if(null!=e.sub_canvas_items)for(n=0,i=(o=e.sub_canvas_items()).length;n<i;n++)r=o[n],A._get_flat_list(t,r);if(!("function"==typeof e.has_nothing_to_draw?e.has_nothing_to_draw():void 0))return t.push(e)},A._get_items_in_an_hash_table_rec=function(t,e){var n,i,o,r,s;if(t[e.model_id]=!0,null!=e.sub_canvas_items){for(s=[],n=0,i=(r=e.sub_canvas_items()).length;n<i;n++)o=r[n],s.push(A._get_items_in_an_hash_table_rec(t,o));return s}},A}();var nA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;nA=function(e){function A(t){var e,n;A.__super__.constructor.call(this,t),this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.line_height=30,this.ed.ondrop=(e=this,function(t){return e.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.cancel_natural_hotkeys(t),!1})}),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"})}return n(A,Se),A.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},A.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},A.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},A.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("line_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},A.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},A.prototype.init=function(){var t,e,A,n,i,o,r,s,a;for(t=this.model,this.index_sorted.clear(),a=new Array,A=n=0,o=t.length;n<o;A=++n)e=t[A],a.push(e),this.index_sorted.push(A);for(s=[],A=i=0,r=a.length;i<r;A=++i)e=a[A],s.push(function(t){return function(e,A){return Ee({parentNode:t.all_file_container,nodeName:"div",className:"line_container",style:{width:"100%",height:30,cursor:"pointer",borderBottom:"1px solid grey"},onclick:function(t){return e.load(function(e,A){return new hA(e,t)})}}),Ee({parentNode:user_line,nodeName:"div",className:"line_message_container",txt:e.application.name,style:{margin:"5px 0px 0px 10px",padding:"0px 0px 0px 30px",textAlign:"left",cssFloat:"left",fontSize:"18px"}})}}(this)(e,A));return s},A.prototype.path=function(){return"test_need_to_be_complete"},A.add_action=function(t,e){return null==He._action_list[t]&&(He._action_list[t]=[]),He._action_list[t].push(e)},A}();var iA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;iA=function(e){function A(t){var e,n;this.onPopupClose=Ct(this.onPopupClose,this),this.new_application=Ct(this.new_application,this),A.__super__.constructor.call(this,t),this.use_icons=null==t.use_icons||t.use_icons,this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.line_height=30,this.ed.ondrop=(e=this,function(t){return e.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.cancel_natural_hotkeys(t),!1})}),this.use_icons&&A.new_application_button(this),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"})}return n(A,Se),A.new_application_button=function(t){var e;return e=Ee({parentNode:t.container,className:"desk_panel_title"}),Ee({parentNode:e,nodeName:"div",txt:"Application",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}}),Ee({parentNode:e,nodeName:"button",className:"desk_panel_button",txt:"New application",style:{margin:"3px 0px 0px 0px",padding:"0px 10px 0px 10px",height:"20px",cssFloat:"left"},onclick:function(e){return t.new_application(e)}})},A.prototype.new_application=function(t){var e;return this.d=Ee({className:"apps_container",id:"id_apps_container"}),new A({el:this.d,model:APPS,use_icons:!1,add_app:!0,config:this.config}),100,100,800,500,Be("Apps store",{event:t,child:this.d,top_x:100,top_y:100,width:800,height:500,onclose:(e=this,function(){return e.onPopupClose(e.d)})})},A.prototype.onPopupClose=function(t){return document.onkeydown=void 0,this.clear_page(t)},A.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},A.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},A.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},A.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},A.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("line_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},A.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},A.prototype.init=function(){var e,A,n,i,o,r,s,a,l,c;for(e=this.model,this.index_sorted.clear(),c=new Array,i=o=0,s=e.length;o<s;i=++o)n=e[i],c.push(n),this.index_sorted.push(i);for(l=[],i=r=0,a=c.length;r<a;i=++r)A=c[i],l.push(function(e){return function(A,n){var i,o,r,s,a,l,c,h,d,u,p;if(null!=A.actions){for(s=Ee({parentNode:e.all_file_container,className:"app_group",nodeName:"div"}),u=[],h=0,l=(d=A.actions).length;h<l;h++)i=d[h],a=Ee({parentNode:s,className:"app_icon",nodeName:"div"}),null!=e.app&&null!=e.use_in_lab?(o=e.app,a.onmousedown=function(t){return i.fun(t,o)}):null!=e.config&&null!=e.add_app&&(r=e.config,a.onmousedown=function(t){var e,n,o,s,a,l,c;for(e=!1,s=0,n=(l=r.selected_organisation[0].list_applications).length;s<n;s++)for(a=0,o=(c=l[s].actions).length;a<o;a++)c[a].ico===i.ico&&(e=!0);if(!e)return r.selected_organisation[0].list_applications.push(A)}),Ee({parentNode:a,className:"app_picture",nodeName:"img",src:i.ico,alt:i.txt,title:i.txt,style:{maxWidth:150,maxHeight:75}}),p=Ee({parentNode:s,className:"app_group_text",nodeName:"div"}),Ee({parentNode:p,className:"app_group_title",nodeName:"div",txt:A.name}),Ee({parentNode:p,className:"app_group_name",nodeName:"div",style:{fontWidth:.8},txt:"powered by"}),Ee({parentNode:p,className:"app_group_name",nodeName:"div",txt:A.powered_with}),c=Ee({parentNode:s,className:"app_group_link",nodeName:"div"}),Ee({parentNode:c,className:"app_group_publication_link",nodeName:"div",src:i.ico,alt:"Related publications",title:"Related publications",onmousedown:function(e){var n;return(n=t.open("","")).document.location.href=A.publication_link,n.focus()}}),u.push(Ee({parentNode:c,className:"app_group_tutorial_link",nodeName:"div",src:i.ico,alt:A.tutorial_link,title:"Video tutorial",onmousedown:function(e){var n;return(n=t.open("","")).document.location.href=A.tutorial_link,n.focus()}}));return u}}}(this)(A,i));return l},A.prototype.path=function(){return"test_need_to_be_complete"},A}();var oA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;oA=function(e){function A(t){var e,n;this.onPopupClose=Ct(this.onPopupClose,this),A.__super__.constructor.call(this,t),this.use_icons=null==t.use_icons||t.use_icons,this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.line_height=30,this.ed.ondrop=(e=this,function(t){return e.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.cancel_natural_hotkeys(t),!1})}),this.use_icons&&iA.new_application_button(this),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"})}return n(A,Se),A.prototype.onPopupClose=function(t){return document.onkeydown=void 0,this.clear_page(t)},A.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},A.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},A.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},A.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},A.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("line_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},A.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},A.prototype.init=function(){var t,e,A,n,i,o,r,s,a,l;for(t=this.model,this.index_sorted.clear(),l=new Array,n=i=0,r=t.length;i<r;n=++i)A=t[n],l.push(A),this.index_sorted.push(n);for(a=[],n=o=0,s=l.length;o<s;n=++o)e=l[n],a.push(function(t){return function(e,A){var n,i,o,r,s,a,l,c,h,d;if(null!=e.actions){for(r=Ee({parentNode:t.all_file_container,className:"app_group",nodeName:"div"}),h=[],l=0,a=(c=e.actions).length;l<a;l++)n=c[l],s=Ee({parentNode:r,className:"app_icon",nodeName:"div"}),null!=t.app&&null!=t.use_in_lab?(i=t.app,s.onmousedown=function(t){return n.fun(t,i)}):null!=t.config&&null!=t.add_app&&(o=t.config,s.onmousedown=function(t){var A,i,r,s,a,l,c;for(A=!1,s=0,i=(l=o.selected_organisation[0].list_applications).length;s<i;s++)for(a=0,r=(c=l[s].actions).length;a<r;a++)c[a].ico===n.ico&&(A=!0);if(!A)return o.selected_organisation[0].list_applications.push(e)}),Ee({parentNode:s,className:"app_picture",nodeName:"img",src:"data:image/png;base64,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",alt:n.txt,title:n.txt,style:{position:"absolute",zIndex:1,maxWidth:150,maxHeight:75}}),Ee({parentNode:s,className:"app_group_title",nodeName:"div",txt:e.name,style:{position:"absolute",zIndex:2}}),d=Ee({parentNode:r,className:"app_group_text",nodeName:"div"}),Ee({parentNode:d,className:"app_group_name",nodeName:"div",style:{fontWidth:.8},txt:"powered by"}),Ee({parentNode:d,className:"app_group_name",nodeName:"div",txt:e.powered_with}),h.push(Ee({parentNode:r,className:"app_group_text",nodeName:"div",txt:e.description}));return h}}}(this)(e,n));return a},A.prototype.path=function(){return"test_need_to_be_complete"},A}();var rA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;rA=function(t){function e(t,A){this.el=t,this.config=A,e.__super__.constructor.call(this,this.config),this.edit_view=new sA,this.he=Ee({parentNode:this.el,nodeName:"div",style:{position:"absolute",left:0,right:0,top:"0px",height:"30px",withd:"100%",borderBottom:"1px solid grey"}})}return n(e,ve),e.prototype.onchange=function(){if(this.config.has_been_modified){for(;null!=this.he.firstChild;)this.he.removeChild(this.he.firstChild);return Ee({parentNode:this.he,nodeName:"div",className:"logo"})}},e}();var sA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;sA=function(t){function e(){this.onPopupClose=Ct(this.onPopupClose,this),this.modifie_information=Ct(this.modifie_information,this),this.affich_information=Ct(this.affich_information,this),this.affich_pwscomment=Ct(this.affich_pwscomment,this),this.change_password=Ct(this.change_password,this),this.change_information=Ct(this.change_information,this),this.edit_user_information=Ct(this.edit_user_information,this),this.edit_user=Ct(this.edit_user,this),this.user_email=Cookies.set("email")}return n(e,ve),e.prototype.edit_user=function(t){var A;return this.edit_user_div=Ee({id:"edit_user_container"}),100,100,800,320,this.container_list_action_div=Ee({parentNode:this.edit_user_div,className:"edit_user_container",nodeName:"div",style:{cssFloat:"left",height:220,width:200,margin:"8px 0 0 10px"}}),this.edit_user_information_div=Ee({parentNode:this.edit_user_div,nodeName:"div",style:{cssFloat:"left",height:220,width:560,margin:"0px 0 0 0px"}}),e.get_user_information(this),Be("Account information",{event:t,child:this.edit_user_div,top_x:100,top_y:100,width:800,height:320,background:"#262626",onclose:(A=this,function(){return A.onPopupClose()})})},e.prototype.edit_user_information=function(){var t,e,A,n,i,o,r;for(this.clear_page(this.edit_user_information_div),n=["email"],i=[this.user_email],e=t=0,A=n.length;t<A;e=++t)o=n[e],this.affich_information(o,i[e],this.edit_user_information_div);return Ee({parentNode:this.edit_user_information_div,nodeName:"div",txt:"Change password",style:{height:20,width:150,margin:"15px 0 0 30px",cssFloat:"right",fontSize:"15px",color:"#4dbce9",cursor:"pointer"},onmousedown:(r=this,function(t){return r.change_password()})}),this.affich_pwscomment(this.edit_user_information_div)},e.prototype.change_information=function(){var t,A,n,i,o,r,s,a,l;for(this.clear_page(this.edit_user_information_div),i=["email"],o=["email"],r=[this.user_email],A=t=0,n=i.length;t<n;A=++t)s=i[A],this.modifie_information(s,o[A],r[A],this.edit_user_information_div);return Ee({parentNode:this.edit_user_information_div,nodeName:"button",txt:"Valid",className:"user_line",style:{height:40,width:100,border:"none",margin:"15px 0 0 10px",cssFloat:"right",fontSize:"18px",color:"#262626",cursor:"pointer",background:"#4dbce9"},onmousedown:(a=this,function(t){return e.get_change_user_information(a)})}),Ee({parentNode:this.edit_user_information_div,nodeName:"button",txt:"Cancel",className:"user_line",style:{height:40,width:100,border:"none",margin:"15px 0 0 10px",cssFloat:"right",fontSize:"18px",color:"#262626",cursor:"pointer",background:"#4dbce9"},onmousedown:(l=this,function(t){return l.edit_user_information()})}),this.affich_pwscomment(this.edit_user_information_div)},e.prototype.change_password=function(){var t,A,n,i,o,r,s,a;for(this.clear_page(this.edit_user_information_div),o=["password","new_password","confirme_password"],A=t=0,n=(i=["Current password","New password","Confirme password"]).length;t<n;A=++t)r=i[A],this.modifie_information(r,o[A],"",this.edit_user_information_div,"password");return Ee({parentNode:this.edit_user_information_div,nodeName:"button",txt:"Valid",className:"user_line",style:{height:40,width:100,border:"none",margin:"15px 0 0 10px",cssFloat:"right",fontSize:"18px",color:"#262626",cursor:"pointer",background:"#4dbce9"},onmousedown:(s=this,function(t){return e.get_change_user_password(s)})}),Ee({parentNode:this.edit_user_information_div,nodeName:"button",txt:"Cancel",className:"user_line",style:{height:40,width:100,border:"none",margin:"15px 0 0 10px",cssFloat:"right",fontSize:"18px",color:"#262626",cursor:"pointer",background:"#4dbce9"},onmousedown:(a=this,function(t){return a.edit_user_information()})}),this.affich_pwscomment(this.edit_user_information_div)},e.prototype.affich_pwscomment=function(t){return Ee({parentNode:t,nodeName:"div",id:"pwscomment",style:{width:"100%",height:30,border:"none",fontSize:"20px",cssFloat:"left",margin:"10px 0 0 0px",textAlign:"center",color:"red"}})},e.prototype.affich_information=function(t,e,A){var n;return n=Ee({parentNode:A,nodeName:"div",className:"user_line",style:{cssFloat:"left",height:40,width:"100%",fontSize:"18px",background:"#262626",margin:"10px 0 0 0px"}}),Ee({parentNode:n,nodeName:"div",txt:t+" : ",style:{cssFloat:"left",height:30,width:200,margin:"10px 0 0 10px"}}),Ee({parentNode:n,nodeName:"div",txt:e,style:{cssFloat:"left",height:30,margin:"10px 0 0 0px",fontWeight:"bold"}})},e.prototype.modifie_information=function(t,e,A,n,i){var o;return null==A&&(A=""),null==i&&(i="text"),o=Ee({parentNode:n,nodeName:"div",className:"user_line",style:{cssFloat:"left",height:40,width:"100%",fontSize:"18px",background:"#262626",margin:"10px 0 0 0px"}}),Ee({parentNode:o,nodeName:"div",txt:t+" : ",style:{cssFloat:"left",height:30,width:200,margin:"10px 0 0 10px"}}),Ee({parentNode:o,nodeName:"input",type:i,id:e,value:A,style:{cssFloat:"left",height:30,width:300,margin:"5px 0 0 0px",fontWeight:"bold"}})},e.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.edit_user_div)},e.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},e.get_user_information=function(t){var e,A,n;return e=Cookies.set("email"),A=Cookies.set("password"),(n=FileSystem._my_xml_http_request()).open("GET","get_user_id?u="+encodeURI(e)+"&p="+encodeURI(A),!0),n.onreadystatechange=function(){var e;if(4===this.readyState&&200===this.status){if(e=this.responseText.split(" "),parseInt(e[0])>0)return t.edit_user_information();if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="You need to log in"}},n.send()},e.get_change_user_information=function(t){var e,A,n;return e=Cookies.set("email"),A=Cookies.set("password"),(n=FileSystem._my_xml_http_request()).open("GET","get_user_id?u="+encodeURI(e)+"&p="+encodeURI(A),!0),n.onreadystatechange=function(){var e,A;if(4===this.readyState&&200===this.status)if(e=this.responseText.split(" "),A=parseInt(e[0]),alert(A),A>0){if(t.user_email="modified email",t.edit_user_information(),document.getElementById("pwscomment")&&(document.getElementById("pwscomment").innerHTML="Your informations have been modified"),document.getElementById("pwscomment"))return document.getElementById("pwscomment").style.color="green"}else if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="You need to log in"},n.send()},e.get_change_user_password=function(t){var e,A,n,i,o;return A=Cookies.set("email"),i=document.getElementById("password").value,n=document.getElementById("new_password").value,e=document.getElementById("confirme_password").value,i===Cookies.set("password")&&n===e?((o=FileSystem._my_xml_http_request()).open("GET","get_change_user_password?e="+encodeURI(A)+"&op="+encodeURI(i)+"&np="+encodeURI(n)+"&cp="+encodeURI(e),!0),o.onreadystatechange=function(){var e;if(4===this.readyState&&200===this.status)if(e=this.responseText.split(" "),parseInt(e[0])>0){if(Cookies.set("password",n,{expires:7}),t.edit_user_information(),document.getElementById("pwscomment")&&(document.getElementById("pwscomment").innerHTML="Your password have been modified"),document.getElementById("pwscomment"))return document.getElementById("pwscomment").style.color="green"}else if(t.edit_user_information(),document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="You need to log in"},o.send()):document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="confirmed password do not match !":void 0},e}();var aA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;aA=function(e){function A(t){var e,n;A.__super__.constructor.call(this,t),this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.line_height=30,this.ed.ondrop=(e=this,function(t){return e.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.cancel_natural_hotkeys(t),!1})}),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"})}return n(A,Se),A.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},A.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},A.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},A.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("line_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},A.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},A.prototype.init=function(){var t,e,A,n,i,o,r,s,a;for(t=this.model,this.index_sorted.clear(),a=new Array,A=n=0,o=t.length;n<o;A=++n)e=t[A],a.push(e),this.index_sorted.push(A);for(s=[],A=i=0,r=a.length;i<r;A=++i)e=a[A],s.push(function(t){return function(e,A){var n;return n=Ee({parentNode:t.all_file_container,nodeName:"div",className:"line_container",style:{width:"100%",height:30,cursor:"pointer",borderBottom:"1px solid grey"},onclick:function(t){return e.load(function(e,A){return new hA(e,t)})}}),Ee({parentNode:n,nodeName:"div",className:"line_user_container",txt:e.email,style:{margin:"5px 0px 0px 10px",padding:"0px 0px 0px 30px",textAlign:"left",cssFloat:"left",fontSize:"18px"}})}}(this)(e,A));return s},A.prototype.path=function(){return"test_need_to_be_complete"},A.add_action=function(t,e){return null==He._action_list[t]&&(He._action_list[t]=[]),He._action_list[t].push(e)},A}();var lA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;lA=function(e){function A(t){this.el=t,this.page_container=Ee({nodeName:"div",parentNode:this.el}),this.container_bakground=Ee({parentNode:this.page_container,nodeName:"div",className:"LoginBackground"}),this.create_login_div()}return n(A,ve),A.prototype.clear_page=function(){var t;for(t=[];null!=this.container_bakground.firstChild;)t.push(this.container_bakground.removeChild(this.container_bakground.firstChild));return t},A.prototype.create_login_div=function(){var t,e,A,n,i,o,r,s;return this.clear_page(),Ee({parentNode:this.container_bakground,nodeName:"div",txt:"Connect to access your Desk and Lab",style:{height:30,width:"100%",fontWeight:"bold",fontSize:"20px",textAlign:"center",margin:"20px 0 0 0px",cssFloat:"left"}}),e=Ee({parentNode:this.container_bakground,nodeName:"div",style:{height:470,width:600,margin:"0px 0 0 100px",cssFloat:"left"}}),t=Ee({parentNode:e,nodeName:"div",style:{height:250,width:600,margin:"210px 0 0 0px",border:"1px solid grey",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"div",txt:"email",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"input",type:"text",id:"email",name:"email",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center",cssFloat:"left"},onkeypress:(A=this,function(t){return A.keypresslogin(t)})}),Ee({parentNode:t,nodeName:"div",txt:"password",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"input",id:"password",type:"password",name:"password",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center",cssFloat:"left"},onkeypress:(n=this,function(t){return n.keypresslogin(t)})}),Ee({parentNode:t,nodeName:"button",txt:"Log in",style:{width:300,height:30,border:"none",fontSize:"20px",margin:"10px 0 0 150px",textAlign:"center",background:"#4dbce9",cssFloat:"left"},onmousedown:(i=this,function(t){return i.try_username()})}),Ee({parentNode:t,nodeName:"div",id:"pwscomment",style:{width:"100%",height:30,border:"none",fontSize:"15px",margin:"10px 0 0 0px",textAlign:"center",cssFloat:"left",color:"red"}}),Ee({parentNode:t,nodeName:"div",txt:"New account",style:{height:20,margin:"10px 0 0 60px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer"},onmousedown:(o=this,function(t){return o.create_new_account_div()})}),Ee({parentNode:t,nodeName:"div",txt:"Forgot your password ?",style:{height:20,margin:"10px 0 0 20px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer"},onmousedown:(r=this,function(t){return r.create_lost_password_div()})}),Ee({parentNode:t,nodeName:"div",txt:"Resend confirmation instructions",style:{height:20,margin:"10px 0 0 20px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer"},onmousedown:(s=this,function(t){return s.create_confirmation_istructions_div()})})},A.prototype.create_new_account_div=function(){var t,e,A,n,i,o,r,s;return this.clear_page(),Ee({parentNode:this.container_bakground,nodeName:"div",txt:"Create your account to access your online lab",style:{height:30,width:"100%",fontWeight:"bold",fontSize:"20px",textAlign:"center",margin:"20px 0 0 0px",cssFloat:"left"}}),e=Ee({parentNode:this.container_bakground,nodeName:"div",style:{height:470,width:600,margin:"0px 0 0 100px",cssFloat:"left",background:"#262626"}}),t=Ee({parentNode:e,nodeName:"div",style:{height:320,width:600,margin:"140px 0 0 0px",border:"1px solid grey",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"div",txt:"email",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px"}}),Ee({parentNode:t,nodeName:"input",type:"text",id:"new_email",name:"new_email",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center"},onkeypress:(n=this,function(t){return n.keypress_new_account(t)})}),Ee({parentNode:t,nodeName:"div",txt:"new password",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px"}}),Ee({parentNode:t,nodeName:"input",type:"password",id:"new_password",name:"new_password",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center"},onkeypress:(i=this,function(t){return i.keypress_new_account(t)})}),Ee({parentNode:t,nodeName:"div",txt:"confirmed password",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px"}}),Ee({parentNode:t,nodeName:"input",type:"password",id:"confirmed_password",name:"confirmed_password",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center"},onkeypress:(o=this,function(t){return o.keypress_new_account(t)})}),Ee({parentNode:t,nodeName:"button",id:"new_account_button",txt:"Create account",style:{width:300,height:30,border:"none",fontSize:"20px",margin:"10px 0 0 150px",textAlign:"center",cssFloat:"left",background:"#4dbce9"},onmousedown:(r=this,function(t){return r.try_new_account()})}),A=Ee({parentNode:t,nodeName:"div",id:"wait_new_account",style:{width:300,height:40,border:"none",margin:"10px 0 0 150px",cssFloat:"left",textAlign:"center"}}),Ee({parentNode:A,nodeName:"div",className:"Loading"}),$("#wait_new_account").hide(),Ee({parentNode:t,nodeName:"div",id:"pwscomment",style:{width:"100%",height:30,border:"none",fontSize:"15px",margin:"10px 0 0 0px",textAlign:"center",cssFloat:"left",color:"red"}}),Ee({parentNode:t,nodeName:"div",txt:"Login page",style:{height:20,width:"100%",margin:"10px 0 0 0px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer",textAlign:"center"},onmousedown:(s=this,function(t){return s.create_login_div()})})},A.prototype.create_lost_password_div=function(){var t,e,A,n,i,o;return this.clear_page(),Ee({parentNode:this.container_bakground,nodeName:"div",txt:"Ask for a new password",style:{height:30,width:"100%",fontWeight:"bold",fontSize:"20px",textAlign:"center",margin:"20px 0 0 0px",cssFloat:"left"}}),e=Ee({parentNode:this.container_bakground,nodeName:"div",style:{height:470,width:600,margin:"0px 0 0 100px",cssFloat:"left"}}),t=Ee({parentNode:e,nodeName:"div",style:{height:180,width:600,margin:"280px 0 0 0px",border:"1px solid grey",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"div",txt:"email",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px"}}),Ee({parentNode:t,nodeName:"input",type:"text",id:"email",name:"email",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center"},onkeypress:(n=this,function(t){return n.keypress_new_password(t)})}),Ee({parentNode:t,nodeName:"button",txt:"Get your new password",id:"new_password_button",style:{width:300,height:30,border:"none",fontSize:"20px",margin:"10px 0 0 150px",textAlign:"center",background:"#4dbce9",cssFloat:"left"},onmousedown:(i=this,function(t){return i.try_new_password()})}),A=Ee({parentNode:t,nodeName:"div",id:"wait_new_password",style:{width:300,height:40,border:"none",margin:"10px 0 0 150px",cssFloat:"left",textAlign:"center"}}),Ee({parentNode:A,nodeName:"div",className:"Loading"}),$("#wait_new_password").hide(),Ee({parentNode:t,nodeName:"div",id:"pwscomment",style:{width:"100%",height:30,border:"none",fontSize:"15px",margin:"10px 0 0 0px",textAlign:"center",cssFloat:"left",color:"red"}}),Ee({parentNode:t,nodeName:"div",txt:"Login page",style:{height:20,width:"100%",margin:"10px 0 0 0px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer",textAlign:"center"},onmousedown:(o=this,function(t){return o.create_login_div()})})},A.prototype.create_confirmation_istructions_div=function(){var t,e,A,n,i,o;return this.clear_page(),Ee({parentNode:this.container_bakground,nodeName:"div",txt:"Resend confirmation instructions",style:{height:30,width:"100%",fontWeight:"bold",fontSize:"20px",textAlign:"center",margin:"20px 0 0 0px",cssFloat:"left"}}),e=Ee({parentNode:this.container_bakground,nodeName:"div",style:{height:470,width:600,margin:"0px 0 0 100px",cssFloat:"left"}}),t=Ee({parentNode:e,nodeName:"div",style:{height:180,width:600,margin:"280px 0 0 0px",border:"1px solid grey",cssFloat:"left"}}),Ee({parentNode:t,nodeName:"div",txt:"email",style:{width:"100%",height:25,fontSize:"20px",textAlign:"center",margin:"10px 0 0 0px"}}),Ee({parentNode:t,nodeName:"input",type:"text",id:"email",name:"email",style:{width:300,height:25,fontSize:"15px",margin:"10px 0 0 150px",textAlign:"center"},onkeypress:(n=this,function(t){return n.keypress_confirmation_instructions(t)})}),Ee({parentNode:t,nodeName:"button",id:"confirmation_button",txt:"Get your new password",style:{width:300,height:30,border:"none",fontSize:"20px",margin:"10px 0 0 150px",textAlign:"center",background:"#4dbce9",cssFloat:"left"},onmousedown:(i=this,function(t){return i.try_confirmation_instructions()})}),A=Ee({parentNode:t,nodeName:"div",id:"wait_confirmation",style:{width:300,height:40,border:"none",margin:"10px 0 0 150px",cssFloat:"left",textAlign:"center"}}),Ee({parentNode:A,nodeName:"div",className:"Loading"}),$("#wait_confirmation").hide(),Ee({parentNode:t,nodeName:"div",id:"pwscomment",style:{width:"100%",height:30,border:"none",fontSize:"15px",margin:"10px 0 0 0px",textAlign:"center",cssFloat:"left",color:"red"}}),Ee({parentNode:t,nodeName:"div",txt:"Login page",style:{height:20,width:"100%",margin:"10px 0 0 0px",cssFloat:"left",fontSize:"15px",color:"#4dbce9",cursor:"pointer",textAlign:"center"},onmousedown:(o=this,function(t){return o.create_login_div()})})},A.prototype.try_username=function(){var e,A,n;return e=document.getElementById("email").value,A=document.getElementById("password").value,(n=FileSystem._my_xml_http_request()).open("GET","get_user_id?u="+encodeURI(e)+"&p="+encodeURI(A),!0),n.onreadystatechange=function(){var n;if(4===this.readyState&&200===this.status){if(n=this.responseText.split(" "),parseInt(n[0])>0)return Cookies.set("email",e,{expires:7}),Cookies.set("password",A,{expires:7}),t.location="desk.html";if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="Wrong email/password"}},n.send()},A.prototype.keypresslogin=function(t){return 13===t.which?this.try_username():document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="":void 0},A.prototype.try_new_account=function(){var e,A,n,i;return A=document.getElementById("new_email").value,(n=document.getElementById("new_password").value)!==(e=document.getElementById("confirmed_password").value)&&document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="confirmed password do not match !":A.indexOf("@")<=0&&document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="Invalid email !":((i=FileSystem._my_xml_http_request()).open("GET","get_new_account?e="+encodeURI(A)+"&p="+encodeURI(n)+"&cp="+encodeURI(e),!0),i.onreadystatechange=function(){var e;if(4===this.readyState&&200===this.status){if(e=this.responseText.split(" "),parseInt(e[0])>0)return t.location="desk.html";if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="Existing user"}},i.send())},A.prototype.keypress_new_account=function(t){return 13===t.which?this.try_new_account():document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="":void 0},A.prototype.try_new_password=function(){var t,e;return t=document.getElementById("email").value,$("#new_password_button").slideUp(500),$("#wait_new_password").slideDown(500),(e=FileSystem._my_xml_http_request()).open("GET","get_new_password?e="+encodeURI(t),!0),e.onreadystatechange=function(){var t,e;if(4===this.readyState&&200===this.status)if(t=this.responseText.split(" "),e=parseInt(t[0]),$("#new_password_button").slideDown(500),$("#wait_new_password").slideUp(500),e>0){if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="We have sent you a mail with your new password"}else if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="Wrong email"},e.send()},A.prototype.keypress_new_password=function(t){return 13===t.which?this.try_new_password():document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="":void 0},A.prototype.try_confirmation_instructions=function(){var t,e;return t=document.getElementById("email").value,$("#confirmation_button").slideUp(500),$("#wait_confirmation").slideDown(500),(e=FileSystem._my_xml_http_request()).open("GET","get_resend_confirmation?e="+encodeURI(t),!0),e.onreadystatechange=function(){var t,e;if(4===this.readyState&&200===this.status)if(t=this.responseText.split(" "),e=parseInt(t[0]),$("#confirmation_button").slideDown(500),$("#wait_confirmation").slideUp(500),e>0){if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="We have sent you a mail with your instructions"}else if(document.getElementById("pwscomment"))return document.getElementById("pwscomment").innerHTML="Wrong email"},e.send()},A.prototype.keypress_confirmation_instructions=function(t){return 13===t.which?this.try_confirmation_instructions():document.getElementById("pwscomment")?document.getElementById("pwscomment").innerHTML="":void 0},A}();var cA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;cA=function(e){var A;function i(t){var e,A;this.onPopupClose=Ct(this.onPopupClose,this),i.__super__.constructor.call(this,t),this.initial_path=null!=t.initial_path?t.initial_path:"Root",this.initial_path=this.make_initial_path_as_dom(this.initial_path),this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.line_height=30,this.ed.ondrop=(e=this,function(t){return e.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(A=this,function(t){return t.stopPropagation(),t.preventDefault(),A.handle_files(t.dataTransfer.files),A.cancel_natural_hotkeys(t),!1})}),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"})}return n(i,Se),i._action_list={Directory:[function(t,e,A){return A.load_folder(t)}]},i.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},i.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},i.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},i.prototype.load_folder=function(t){return this.model.unbind(this),t._ptr.load((e=this,function(t,A){return e.model=t,e.model.bind(e),e.selected_file.clear()}));var e},i.prototype.open=function(t,e){var A;if(null!=t._info.model_type&&null!=(A=He._action_list[t._info.model_type])&&A.length)return A[0](t,e,this)},i.prototype.handle_files=function(t){var e,A,n,i;if(t.length>0&&"undefined"!=typeof FileSystem&&null!==FileSystem){for(FileSystem.get_inst(),i=[],A=0,n=t.length;A<n;A++)e=t[A],i.push(this.model.add_file(e.name,new Path(e)));return i}},i.prototype.make_initial_path_as_dom=function(t){var e;return e=new RegExp("[/]+","g"),t.split(e)},i.prototype.search_ord_index_from_id=function(t){var e,n,i,o,r,s;for(s=this.model.sorted(A),e=this.index_sorted[t],n=0,i=(r=this.model).length;n<i;n++)if(r[n],-1!==(o=this.model.indexOf(s[e])))return o},function(t,e){return t-e},i.prototype.delete_file=function(t){var e,A,n;for(e=A=0,n=this.model.length;0<=n?A<=n:A>=n;e=0<=n?++A:--A)if(this.model[e]===t)return void this.model.splice(e,1)},i.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("line_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},i.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},A=function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},i.prototype.init=function(){var t,e,n,i,o,r,s,a,l;for(t=this.model.sorted(A),this.index_sorted.clear(),l=new Array,n=i=0,o=t.length;i<o;n=++i)e=t[n],l.push(e),this.index_sorted.push(n);for(a=[],n=s=0,r=l.length;s<r;n=++s)(e=l[n]).name.get().match(/^__/)&&e.name.get().match(/__$/)?a.push(void 0):a.push(function(t){return function(e,A){var n;return n=Ee({parentNode:t.all_file_container,nodeName:"div",className:"line_container",style:{width:"100%",height:30,cursor:"pointer",borderBottom:"1px solid grey"},ondblclick:function(t){return e.load(function(e,A){return new hA(e,t)})}}),Ee({parentNode:n,nodeName:"div",className:"line_message_container",txt:e.name,style:{margin:"5px 0px 0px 10px",padding:"0px 0px 0px 30px",textAlign:"left",cssFloat:"left",fontSize:"18px"}}),Ee({parentNode:n,className:"delete_button",nodeName:"div",alt:"Delete message",title:"Delete message",style:{cssFloat:"right",margin:"0px 10px 0px 0px"},onclick:function(A){return t.delete_file(e)}}),Ee({parentNode:n,className:"share_message_button",nodeName:"div",alt:"Share",title:"Share",style:{cssFloat:"right",margin:"0px 10px 0px 0px"},onclick:function(A){return t.share_popup(A,e,e.name.get())}})}}(this)(e,n));return a},i.prototype.path=function(){return"test_need_to_be_complete"},i.prototype.share_popup=function(t,e,A){var n,i,o,r;if((o=(n=prompt("share '"+A+"' with (is'sim login) ?")).indexOf("@"))<0)return alert("Please enter a valid login (email adress)");r=n,console.log(n,o,r),(i=FileSystem.get_inst()).load("__users__/"+r,function(t,n){return n?alert("Please enter a valid login (email adress --)"):i.load_or_make_dir("__users__/"+r+"/__messages__",function(t,n){var i,o;if(n)return alert("??");for(o=A;t.has(o);)(i=o.indexOf("."))<0&&(i=o.length),o=o.slice(0,i)+"_"+o.slice(i,o.length);return t.push(e)})})},i.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.popup_share_div)},i.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},i.add_action=function(t,e){return null==He._action_list[t]&&(He._action_list[t]=[]),He._action_list[t].push(e)},i}();var hA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;hA=function(t){function e(t,A){var n;this.onPopupClose=Ct(this.onPopupClose,this),this.user_email=Cookies.set("email"),e.__super__.constructor.call(this,t),this.model=t,this.container_global=Ee({id:"list_message_container",nodeName:"div",style:{overflowY:"hidden",overflowX:"hidden"}}),Be("Message",{event:A,child:this.container_global,top_x:100,top_y:100,width:400,height:500,background:"#262626",onclose:(n=this,function(){return n.onPopupClose()})})}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n;return this.clear_page(this.container_global),e=Ee({parentNode:this.container_global,nodeName:"div",style:{cssFloat:"left",width:"96%",margin:"0px 0 0 0px",position:"absolute",bottom:"120px",top:"40px",border:"1px solid grey",overflowY:"auto"}}),this.view_model_messages(e),e.scrollTop=e.scrollHeight,t=Ee({parentNode:this.container_global,nodeName:"div",style:{cssFloat:"left",width:"96%",height:"70px",margin:"0px 0 0 0px",position:"absolute",bottom:"40px"}}),A=Ee({parentNode:t,id:"message_input",nodeName:"input",type:"textarea",value:this.model.text,style:{cssFloat:"left",width:"100%",height:"60px",margin:"5px 0 0 0px",border:"1px solid grey",backgroundColor:"#ffffff"}}),Ee({parentNode:this.container_global,nodeName:"button",txt:"Post",style:{width:"96%",height:"30px",margin:"0px 0 0 0px",position:"absolute",bottom:"5px",textAlign:"center",color:"#262626",cursor:"pointer",background:"#4dbce9"},onclick:(n=this,function(t){return n.model.text=A.value,n.model.add_message(),A.value=""})})},e.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.container_global)},e.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},e.prototype.view_model_messages=function(t){var e,A,n,i,o,r,s,a;for(r=[],e=0,A=(o=this.model.list_messages).length;e<A;e++)n=o[e],i=Ee({parentNode:t,nodeName:"div",style:{cssFloat:"left",width:"97%",margin:"5px 0 0 0px",color:"black"}}),a=Ee({parentNode:i,nodeName:"div",style:{cssFloat:"left",width:"100%",margin:"0px 0 0 px"}}),Ee({parentNode:a,nodeName:"div",txt:n.user,style:{cssFloat:"left",margin:"0px 0 0 5px",color:"#4dbce9"}}),Ee({parentNode:a,nodeName:"div",txt:n.date,style:{cssFloat:"right",margin:"0px 0 0 5px",color:"#4dbce9"}}),s=Ee({parentNode:i,nodeName:"div",style:{cssFloat:"left",width:"100%",margin:"5px 0 0 0px",color:"black"}}),r.push(Ee({parentNode:s,nodeName:"div",txt:n.text,style:{cssFloat:"left",margin:"0px 0 0 5px",color:"black"}}));return r},e}();var dA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;dA=function(t){function e(t,e){var A;this.bel=t,this.data=e,this.user_email=Cookies.set("email"),this.layout=this.data.layout,this.el=Ee({parentNode:this.bel,id:"organisation_container",style:{position:"absolute",left:0,right:0,top:"32px",bottom:0}}),this.lm=new Pe(this.el,this.layout),this.lm.new_panel_instance=(A=this,function(t){return A._new_panel_instance(t)}),this.lm.show()}return n(e,ve),e.prototype._new_panel_instance=function(t){var e;return"DeskListView"===t.panel_id?((e=new ke(this.el,t,this.data.config.selected_organisation[0].name)).div.className="PanelInstanceTreeView",new NA(e.div,this),e):"DeskNavigatorView"===t.panel_id?((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",new BA(e.div,this),e):"MessageListView"===t.panel_id?((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",new CA(e.div,this),e):((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",e)},e}();var uA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;uA=function(e){var A;function i(t){var e,A,n,o,r,s,a,l,c,h,d;this.onPopupClose=Ct(this.onPopupClose,this),this.get_fs_instance=Ct(this.get_fs_instance,this),this.new_organisation=Ct(this.new_organisation,this),i.__super__.constructor.call(this,t),this.use_icons=null==t.use_icons||t.use_icons,this.initial_path=null!=t.initial_path?t.initial_path:"Root",this.initial_path=this.make_initial_path_as_dom(this.initial_path),this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.allow_shortkey=!1,this.line_height=30,this.ed.ondrop=(A=this,function(t){return A.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.handle_files(t.dataTransfer.files),n.cancel_natural_hotkeys(t),!1})}),this.use_icons&&i.new_organisation_button(this),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"}),e={13:(h=this,function(t){var e,A,n,i,o,r;if(h.selected_file.length>0){for(r=[],n=0,i=(o=h.selected_file.get()).length;n<i;n++)e=o[n],A=h.search_ord_index_from_id(e),r.push(h.open(h.model[A],h.path()));return r}}),37:(c=this,function(t){var e,A;return c.selected_file.length>0?t.shiftKey?(A=c.selected_file[c.selected_file.length-1].get(),null==c.reference_file&&(c.selected_file.clear(),c.selected_file.push(A),c.reference_file=A),A>0?A<=c.reference_file?c.selected_file.push(A-1):c.selected_file.pop():void 0):(0!==(e=c.selected_file[c.selected_file.length-1].get())?(c.selected_file.clear(),c.selected_file.push(e-1)):(c.selected_file.clear(),c.selected_file.push(0)),c.reference_file=void 0):(c.selected_file.push(0),c.reference_file=void 0)}),39:(l=this,function(t){var e,A;return l.selected_file.length>0?t.shiftKey?(A=l.selected_file[l.selected_file.length-1].get(),null==l.reference_file&&(l.selected_file.clear(),l.selected_file.push(A),l.reference_file=A),A<l.model.length-1?A>=l.reference_file?l.selected_file.push(A+1):l.selected_file.pop():void 0):((e=l.selected_file[l.selected_file.length-1].get())<l.model.length-1?(l.selected_file.clear(),l.selected_file.push(e+1)):(l.selected_file.clear(),l.selected_file.push(l.model.length-1)),l.reference_file=void 0):l.selected_file.push(0)}),40:(a=this,function(t){var e,A,n,i,o,r;if(t.altKey&&a.selected_file.length>0){for(r=[],n=0,i=(o=a.selected_file.get()).length;n<i;n++)e=o[n],A=a.search_ord_index_from_id(e),r.push(a.open(a.model[A],a.path()));return r}}),65:(s=this,function(t){var e,A,n,i,o;if(t.ctrlKey){for(s.selected_file.clear(),o=[],e=A=0,n=(i=s.model).length;A<n;e=++A)i[e],o.push(s.selected_file.push(e));return o}}),46:(r=this,function(t){return r.delete_file()}),113:(o=this,function(t){var e,A;if(null!=(e=null!=(A=document.getElementsByClassName("selected_file")[0])?A.getElementsByClassName("linkDirectory"):void 0)&&e.length>0)return o.rename_file(e[0],o.model[o.search_ord_index_from_id(o.selected_file[0].get())])})},document.onkeydown=(d=this,function(t){if(!0===d.allow_shortkey&&null!=e[t.keyCode])return t.stopPropagation(),t.preventDefault(),e[t.keyCode](t),!0})}return n(i,Se),i._action_list={Directory:[function(t,e,A){return A.load_folder(t)}]},i.prototype.rename_file=function(t,e){return this.allow_shortkey=!1,t.contentEditable="true",t.focus(),t.onblur=(A=this,function(n){var i;return A.allow_shortkey=!0,i=t.innerHTML,e.name.set(i),e.load(function(t,e){return t.name.set(i)}),t.contentEditable="false",A.selected_file.clear()});var A},i.new_organisation_button=function(t){var e;return e=Ee({parentNode:t.container,className:"desk_panel_title"}),Ee({parentNode:e,nodeName:"div",txt:"Organisation",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}}),Ee({parentNode:e,nodeName:"button",className:"desk_panel_button",txt:"New organisation",style:{margin:"3px 0px 0px 0px",padding:"0px 10px 0px 10px",height:"20px",cssFloat:"left"},onclick:function(e){return t.new_organisation()}})},i.prototype.new_organisation=function(){var t,e,A,n,i;return A=this.get_fs_instance(),t=FileSystem._home_dir+"/__organisations__",e=this.config,""!==(n=prompt("Orgnaisation name",""))?(i=new ct(n,e),A.load_or_make_dir(t,function(t,e){return t.add_file(n,i,{model_type:"Organisation"})}),A.load_or_make_dir("/__organisations__",function(t,e){return t.force_add_file(n,i,{model_type:"Organisation"})})):alert("you must type a name !")},i.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},i.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},i.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},i.prototype.load_folder=function(t){return this.model.unbind(this),t._ptr.load((e=this,function(t,A){return e.model=t,e.model.bind(e),e.selected_file.clear()}));var e},i.prototype.open=function(t,e){var A;if(null!=t._info.model_type&&null!=(A=i._action_list[t._info.model_type])&&A.length)return A[0](t,e,this)},i.prototype.handle_files=function(t){var e,A,n,i;if(t.length>0&&"undefined"!=typeof FileSystem&&null!==FileSystem){for(FileSystem.get_inst(),i=[],A=0,n=t.length;A<n;A++)e=t[A],i.push(this.model.add_file(e.name,new Path(e)));return i}},i.prototype.make_initial_path_as_dom=function(t){var e;return e=new RegExp("[/]+","g"),t.split(e)},i.prototype.search_ord_index_from_id=function(t){var e,n,i,o,r,s;for(s=this.model.sorted(A),e=this.index_sorted[t],n=0,i=(r=this.model).length;n<i;n++)if(r[n],-1!==(o=this.model.indexOf(s[e])))return o},function(t,e){return t-e},i.prototype.delete_file=function(){var t,e,A,n,i,o,r,s;if(this.selected_file.length){for(A=[],n=0,i=(r=this.selected_file.get()).length;n<i;n++)t=r[n],e=this.search_ord_index_from_id(t),A.push(e);for(A.sort(this.sort_numerically),t=o=s=A.length-1;s<=0?o<=0:o>=0;t=s<=0?++o:--o)this.model.splice(A[t],1);return this.selected_file.clear()}},i.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("file_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},i.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},A=function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},i.prototype.init=function(){var e,n,i,o,r,s,a,l,c;for(e=this.model.sorted(A),this.index_sorted.clear(),c=new Array,i=o=0,r=e.length;o<r;i=++o)"Organisation"===(n=e[i])._info.model_type.get()&&(c.push(n),this.index_sorted.push(i));for(this.allow_shortkey=!0,l=[],i=a=0,s=c.length;a<s;i=++a)n=c[i],l.push(function(e){return function(A,n){var i,o,r;return o=Ee({parentNode:e.all_file_container,nodeName:"div",className:"file_container",onmousedown:function(t){var A,i,o,r,s,a,l;if(t.ctrlKey)return-1!==(A=parseInt(e.selected_file.indexOf(n)))?e.selected_file.splice(A,1):e.selected_file.push(n);if(t.shiftKey){if(0===e.selected_file.length)return e.selected_file.push(n);for(i=e.selected_file[e.selected_file.length-1].get(),e.selected_file.clear(),l=[],o=r=s=i,a=n;s<=a?r<=a:r>=a;o=s<=a?++r:--r)l.push(e.selected_file.push(o));return l}return e.selected_file.clear(),e.selected_file.push(n)}}),e.picture=Ee({parentNode:o,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAYAAADGWyb7AAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94FGw4TOZ9sbIEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAATI0lEQVR42u1de3BcV33+vnPvriTbcvyILFuWHSV+KLZjWXs3aQOTQMJjOiSkaaAdHoHSJB0Kw5Bmpi3TUmDakraZgYHwCKU0D9opybTMQAlQEh4JkIIdEq3WNorwEzvBMY4Tx29J+zhf/9iz8tVqV1qt3tL9zeix9577Ot/5fff3+85jgcgiiyyyyCKLLLLIIossssgiiyyyyCKLLLLIIptv1tHRMa+fnzPlRhKJxCaSHyD5LgBd58+fv6G3t1cAEATBAgDfJ7nBWvtFa+1DO3fu/E0E3PR5TYPneW8yxrxF0tUkWyU1kbSSbkylUo854P4MwL+QJIAXJb0AYLukR7u7u5+cj8D50wBWve/7r5f0IZKvI3kRABQwGfxrSL4dwGNu2w2hRtZCsgXA75K8K5lMHpP0A0lfkvRMOp3ORcDVYEEQIJVKDX5OJpON1tpLACQB3ETyOgDLjTEAAEliEbWQSQoDcFYSyhdTM8n3kHyPpMPJZPKnkr5DMp3P5w+n0+mBYuHNmzfjueeei4ALW2dnJ9Lp9CBoiUTiapLvAPAmks0AmkIVr6IHVQANJG3ocyVKHzzcHXOJpPeSfA+AY8aYF4Mg+F9r7X+l0+lfFkHr6OjArl275h9wq1evxpEjR8KgeST9RCKxmeRtJN8NYHmoQsf0bnXlGf4sCVUcEz52JYCVJAPP8z4WBMEhSf9prX3Y87wDnZ2duXQ6bWcrcGYshZPJJAAMgpZMJi9PJpPvNcZ8leQvSaZIfljScudV5UCbusjrgjeKZJsx5mO+7z8H4BljzJeCIPjDRCJxaSlzzCmP27hxI7q6upBMJpustXeRfDOA9QAWk/TCLx3HXxOG2GjeVgWADFM0yQ4AHZJuJ3kmCIKdAB7v7+//QjqdPj+nPK6/vx/btm27WtJhY8xHAVwFYAkAr0IlTbjnTHT6QzJGcinJ60neU19fvy+RSLTMhgS/auCWLVv2Ns/zHiXZ4LxqRiXw4wXTPVMLyZ8CmPHBS9XAGWP+hGRTpfB9Mm28VFktnbpnW5dIJK6cM1RJsn8yqFAOFY2AzlS1k+KzSfLmVFQ5QS1fZVr6RIKjCQBQMx24KZe8XDL9W0nPkkxba39C8rUk/76Gc52W9EmSSyVdSfJKkssiyWsUiiulTUlnABwF8ArJqyT5oVxqu6S/BdDT3d39Uvi4YiRXg2UAfCeVSv0qdK5VAN5C8nMkFxWDYklZAI3FZD70V7MxyPLHQSeU9CKAbwE4AOBZSccBvNrb23t08+bNJ4sCsrPnw0p+e3s79uzZUzzXwhop2gCoD2/o7u4+GgTBzx2oRXB+aK39MIArSHYaYzZI2kpymyQznSLBdFHlN1Kp1IeLH7Zs2YKenh40NTWRpBd+d0kacq0iaNW8l6qRvEosVmQDd+xAOp0+BOAQgO8UCwVB8KQTvee25FXGGsMfenp6AACnTp2akblamQaRn4pUYyYCNyWKx2RV7mwI+6cFuJIK5yQ0AEsyX2Z7XlWgPRvfbZOaDqxdu7ZcJWVHOORsjZdaDOCvgyA4COCYpFMk+wAsKHm2/goNy85W8MYLXKbcxv379ysIAlvSybmgo6Njo+/7K621S0muJrnMjTG5thaqJBmX9C4XgFgX2guASMZCRTs7Ozt/X1KW5HEAr6TT6V8DsPPO4xwYKzs7O99gjGmWtJBkq/OClSQXFKNKJwPeFIvFbgIAz/OGRYwj5VMjRZWh6NEbQUnZ7Hnet8L3HgRBvhiczKt0wD3sDcaYmxw4laSjUSWtSe5pGCavus+eC07mVwLuzCvqshUevuK4kpkQVc7mrqlxS17OmyoN+Cl6nELKe5bkgKQBAP0kz0laRbJxAhPwOW/jokoHzllJ/QBOAzgO4BSAUyRvKWqVDuDvAfispFMAzjkAM+64LwB491R73LwEzlHMIwBuTaVSw2o2CIIhWqWknd3d3T8od6IgCOqqaSTlwnkAAyGqJgqDaemebbB3G8OH8g1hjvn2jjvb1dUlYOhg05aWlmFa5ShCcq0udV7SO/P5fI8xZrExZhHJRklrAXya5GJXbh+AxyW1kFxEsl5SA4CtJBvmYx4XL/4THiH88ssvY9WqVVMheRHAq7t27ToU3phIJJpI/oNLTQCgO5VK3dnR0RHzfd8naVxS/l0AvxcpJ+UDlAmJ/kYBb6gOZm3c87ywnBcDgF27dmUBDCo4yWSybrbmcQZz1+Z0RDMrgIuiyomnyrLCcSaTKSfOjyQy58ZBldWcL1+hQeRGo8krvvx1NtS1eJIBtcw+c0f7MH1z3ef24sCfb5w1CThIXp5IJO5AaDSz0yVzJEvPvTWRSNxeck25XO6yGm/DkhzSs9Dc3OxJuij87pO0MgiC10vabIxZKWkZgCZJwYjAbW2EF1vzxgGLt4Mw4MkfBw9uf8xAVgJisXq744+DM6Wgrfv8Phy4c8PMTcABXGOMuabCvtJtb3bzDSbSGiTdHQTBWUmtJFeQXCWpMXwPxphrAfy4ZEbPqEFJ4q4fvS4Hex+B9QAh4ZYs+BJpIIiZbPa32766/aMmz1MgDECbzTUc+eX7N5yZ1VHlZBtJn+Rby4AwPuHY5nXFdi3IPff0pwhshAgJINEEsAmFfB6ENtm8ecxyMBDK0T//cMcDO3YVBQHSHIX4ZJzZnAT4fhw73ndlZl4AN9bgZCKUkPq+syZDLJQIwumuKjYGgoXWQRJLJA1uEfghcfCdSskeB/CLAZg8AGby+fPbvrrjU35eRwpeCgCLz3XdvqVv/Xf3Yf+NG+YOcNMjMlMAxdDk2VIfLm4o/hUoCj4UqldyNYhbpCIFyNo8r8uSGRXf8zrz6Javpe5e0nvw1cMfF7Kf5NymyhnXwMqAC9cnPzhBTzQk1rgZEwXCBT5g+jMLzyxZ8kQLn/jG4VGi7CiPqzqH17jQDP+QEBTy5wLNLgDwfhC3N6oxPmcS8OmTpFhJVRvfSYcASUeXoBV8UyUJzmXJazapZ8QYG2dEldMLWPghpxS4wXmJ4Q8RVdb0kFMDXLhXubiATHEMivtRKbqjoT+PqXJKJS9Keiafz9/m+/6i0K4Ba+3Fnuf9oKTs/5D8hbXWhIYNZAFsNMbcMeMD/bkCnLNjO3fu7Cm3o7iYTfEdJemhVCr1aGm5zs7OrQDGDJy19usoTJlqMcY0hK7lA7jDLUNVLDtA8vEy/JcHsBpA4HrFq3oXCbQAsiidcSwYAD7IQk5X2GYFPCtoN0MHCDAGuF7EpXR62lQCV3aQTyKRWFZG+WiucI4VtQQnJHekUqn/KNMQPGPMWwE0h8qeTKVSN7e3t5tcLjdYQ8YYNTY23gLgYYSGYZTP4xwOBWWrR9beQ5qBktfUG0H8KaRYEQhBFuK3Mgdin/EXxvKwhRN5F+XiaMz+O4BLp8PjxvJSUK0vkAqSV7xC2ViZdzcBYM+ePXYkZihPkUP1agqwwLH8843f7L37ir5w6Y77n14i6naG14wr/JsbePmizN571g9e/6oHf44BGFsoO3YqjvK42qI/xpZmhte2GaFTQhMb7kR53Fglr+K9jMApqhYWTUMe53rA8xUCh0yZire1N/IZlMdVcS+slvpYex433iHoyzs7O1/veV6DA+tVAMjny+KZr3Ce09Mdo48+RG/iJ/TEZG2GRrWee7zBSdIY83gxVSt6le/7LAPQpxOJxJ0kz5E8aq09B2AvgHU1UuWw4QFbtmwZdPqJ8WhVkKZYqSnJdaaWltCRB9bpiq98vyHuL2qWyD7DOCwXiQCl4uqeUwOcy33qRqMzB+rFJC8uAlFck7monIzUa10hqrw6kUjsdQAaABmSZ9z91Jd4k5LJpJfNZut838+/8MILmePHj8vRerbS/L5yUSUIUKC9qL++88HtV0tcChYlPyYJmPAxFClo6+b7t78NakxkxdtA+rAioMW0AIqTOjV1HlcTrZWZaDhWrhCAW40xt7oRZZSUB3DeXWtRybWWSXra9/0+ktk1a9a80traegLAAMnlo7/rQ3lc4Xc7aO7NC9eDbAqFJR4EH6QGE3DIgHyn6P0RJI9AbIh3sTaunK1jTgan2xWHAbqpxPEK5WMAkqHRXaXLDrNqqgQFqoXkrRQIe2HkQnn9g6QUA+gXOHTYlGmOSsETDZykNMlPSLrU0VmTo6q1bgX0cMWfdJMYF7oycbgZrTVSZcUKrzA8sAYnL5OAF31EzqkYjgs5/I4Y+jXSDFgSU0KV7t3xYldX17dL97W2tvrNzc3vKCn/VwB+CKDOWht3U6CWAriO5F+M0ePKYh1aXG2C5rypfFRZ26klqNywlKmlSldBsXL7mpqaFpdp7SaVSh0qo2seGQ24Uo9zuPRYaw8AWE5yBQrrdy201nrGmCVh7Fy3kXXvsrITHKv1uMIGXRAuL0yBV5jxGB4f5CZUQzxB2UOWzAM0BC4DsWw6ROaqtUo3e7ScNy2vsdH8a3d39xfC2zs7O+tRGN38M5KbQtc4S/IjAFZLanFUvdh5fQsKq7mzSr+hwDyATCGOHxQyXoa0j+S1kPxBIAoyylMQnoG1vX3HDz5aH18zwIUL46jL3S/iD2rRv2ZCcGKroeUy2xaUbkun0/2JRAIoGd5G8nwqlfoyAKxfv54NDQ3GTXD0JN0M4CGSddVQpQjAYidkP0Ga/lBmdM7KJkS8lqF6db0Dj5/vWfCZWP3C7L57XmMB4MqvbI9nwByLEeZUBidTp+sOD044OseV/bx//345FScPAMlkMjNSRj28d4CwxIn8wYt+1PvPm4csNbXtwR2bLTjIpKEr53PnFmQP3LvODjK2785bLDvG4GS8IvP5Ch6SmU2C9ugitkqBYOziflNWVBmVVyamGsbrce2JROKDAI5KOkLy6L59+17s6+szixYtKq2YF8MHjuWbpSa7d6AmyUsjwazqhGZVKaVNcDogkpeT/NIQJNvbAeB4yYoLAPCRIAheK+mIpF+T/E0QBKddXjdmqpw6wadMKqDRjhodAFOcQjIYhk5RHlfmHRN+wqbwomoO5GsBXBsCMuOScltjw3llIqmy1t6BdZ//Lg7ceWMRMVuhrA4/sN5u+revmUV+W6NEZGnisIiJdMHp9KUDFQOCMMihf+OoYrxJJaokeWMymTws6QSAY4cOHTp64sSJnBOMcyUrndsJp0pnB+68EU13P2LWtq5py+bZWtCgQ1QpEtDKjq/83xbA+51+a+4k4cvCQGplMQeUOOejSufBNwO4ubitra0t29bWdsLRdFsJGIuDIPgbAL8h+YKk89bakyRftdb6JFVt74AIGKlFSwbe1/HAjowr0pDJ40OALqEQC7MNKSPwg/Jjt8HaOkILCrN3ijhRgx9mYO/AhEZ9oQXdwtJWDIWRXc3hfW5O+gKS/+S2DwAYMMacA3DOeX6saslLhIh2kPfqQq8ACcQK/TMa4jfuDhsgNYAG0jDlsyb9rGrgrLUm3Ic23XncaLlcaN+QYi7RrsOFVYfGJjIXAgoDIT5kaAPL025pB8REjcLwx1B52Yrq7nyzGfD4Zgwe93FJT4VparIZcqryuNFvYQquPxmjvNw3Du+XdL219nPW2h4UvtjouFt/st/1QJcGETVXfOl3AkyPk0/RbB2NvWVURZXpdBoA0N3dnQdwV3NzM1esWNHo+/4SSSs8z1vhVjRfR3I1gFWSlpFc6b6ne2Gl3KkM9RZfKuGViOqnOTyaTPAkqtAJKw1kzWlNGHBh27ZtG3bu3Kljx46dRmF11+dD++j7vpFknDebTCZTH4vFVqAwK+dySZskXWqMuRTAmjKTLQgA2Wz2vhDIO0jegilf+FqTS46FbywlC5FqLzO5f+zdtrevlqR5Qm39+vXYv39/xf0bN25c2NDQ0GyM2YhCn9hGknEAj6RSqZ9s3boVy5cvR29vr2ltbX0SwDWjfPvUhABrc9mrvM/+vDdzqGcHpCswttzYsUko8cNgji0AuQuTdjgA4SkQJ5m19+36wGt+BgBtDz2BQ7e9YfryuJFAA4C9e/eeA3DQ/Qyz3bt3D9Zla2vrTZKus9a2GmPaAKwC0OrktVUAlmHo+l1h5WSsrlAHP1ZVe7gAEkvSF2QAnA/NrCKIXRAehphzsWl/fiD2vdjJ+On9T7+UBYC2Bw/i0G2XTTxVTpd1dXWd3rBhw6N1dXWIx+PI5XKIx+N49tlnAcB0dnY2WWtX+b7fLqndGLNF0mqSa1GYA2eq5EbabPZ5nHwpND5SFZ27kODzKKiTITAtiW+bPB8RjC1GjR5jp3/13+1H+n7YEDqhUWEt8UIsduj26tajmxf52NatWxfHYrEVklYCWE1yC4DLHLCrASwludBNwPxId3f3Fzc8tLO+Id93j8A7wNKxNbQQ0gB6UOiQ/abp854eUqkDi/vSf7lxYLICn3mZSG/atMn4vh/zPK+e5AIAi4wxdZLy2Wx2z+7duy0AbL73qWWxRbFrrBgbHsB7v8ofi++npfpeWpk7eF/TGKbozG/9YlKt7e+eiCph9prGuT+yyCKLLLLIIossssgiiyyyyCKLLLLIIotsbtv/A0MNBkNu70e1AAAAAElFTkSuQmCC",alt:"",title:"",ondblclick:function(n){var i;return i=e.config,A.load(function(e,A){var n;return i.selected_organisation.clear(),i.selected_organisation.push(e),(n=t.open("","")).document.location="organisation.html",n.focus()})}}),i=Ee({parentNode:o,className:"line_button",nodeName:"div"}),Ee({parentNode:i,className:"share_button",nodeName:"div",alt:"Share",title:"Share",onclick:function(t){return e.share_popup(t,A,A.name.get())}}),Ee({parentNode:i,className:null!=e.config.selected_organisation[0]&&e.config.selected_organisation[0].name.get()===A.name.get()?"select_organisation_button":"unselect_organisation_button",nodeName:"div",alt:"Select organisation",title:"Select organisation",onclick:function(t){var n;return n=e.config,A.load(function(t,e){return n.selected_organisation.clear(),n.selected_organisation.push(t)})}}),r=Ee({parentNode:o,className:"linkDirectory",nodeName:"div",txt:A.name.get(),onclick:function(t){return e.rename_file(r,c[n])}})}}(this)(n,i));return l},i.prototype.get_fs_instance=function(){var t;return"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?t=FileSystem.get_inst():(t=new FileSystem,FileSystem._disp=!1,t)},i.prototype.path=function(){return"test_need_to_be_complete"},i.prototype.share_popup=function(t,e,A){var n,i,o,r;if((o=(n=prompt("share '"+A+"' with (is'sim login) ?")).indexOf("@"))<0)return alert("Please enter a valid login (email adress)");r=n,console.log(n,o,r),(i=FileSystem.get_inst()).load("__users__/"+r,function(t,n){return n?alert("Please enter a valid login (email adress --)"):i.load_or_make_dir("__users__/"+r+"/__organisations__",function(t,n){var i,o;if(n)return alert("??");for(o=A;t.has(o);)(i=o.indexOf("."))<0&&(i=o.length),o=o.slice(0,i)+"_"+o.slice(i,o.length);return t.push(e)})})},i.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.popup_share_div)},i.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},i.add_action=function(t,e){return null==i._action_list[t]&&(i._action_list[t]=[]),i._action_list[t].push(e)},i}();var pA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;pA=function(e){var A;function i(t){var e,A,n,o,r,s,a,l,c,h,d;this.onPopupClose=Ct(this.onPopupClose,this),this.get_fs_instance=Ct(this.get_fs_instance,this),i.__super__.constructor.call(this,t),this.use_icons=null==t.use_icons||t.use_icons,this.initial_path=null!=t.initial_path?t.initial_path:"Root",this.initial_path=this.make_initial_path_as_dom(this.initial_path),this.index_sorted=new Lst,this.selected_file=new Lst,this.selected_file.bind(this),this.allow_shortkey=!1,this.line_height=30,this.ed.ondrop=(A=this,function(t){return A.cancel_natural_hotkeys(t)}),this.container=Ee({parentNode:this.ed,nodeName:"div",className:"directory_container",ondragover:function(t){return!1},ondragout:function(t){return!1},ondragleave:function(t){return!1},ondrop:(n=this,function(t){return t.stopPropagation(),t.preventDefault(),n.handle_files(t.dataTransfer.files),n.cancel_natural_hotkeys(t),!1})}),this.use_icons&&i.new_project_button(this),this.all_file_container=Ee({parentNode:this.container,nodeName:"div"}),e={13:(h=this,function(t){var e,A,n,i,o,r;if(h.selected_file.length>0){for(r=[],n=0,i=(o=h.selected_file.get()).length;n<i;n++)e=o[n],A=h.search_ord_index_from_id(e),r.push(h.open(h.model[A],h.path()));return r}}),37:(c=this,function(t){var e,A;return c.selected_file.length>0?t.shiftKey?(A=c.selected_file[c.selected_file.length-1].get(),null==c.reference_file&&(c.selected_file.clear(),c.selected_file.push(A),c.reference_file=A),A>0?A<=c.reference_file?c.selected_file.push(A-1):c.selected_file.pop():void 0):(0!==(e=c.selected_file[c.selected_file.length-1].get())?(c.selected_file.clear(),c.selected_file.push(e-1)):(c.selected_file.clear(),c.selected_file.push(0)),c.reference_file=void 0):(c.selected_file.push(0),c.reference_file=void 0)}),39:(l=this,function(t){var e,A;return l.selected_file.length>0?t.shiftKey?(A=l.selected_file[l.selected_file.length-1].get(),null==l.reference_file&&(l.selected_file.clear(),l.selected_file.push(A),l.reference_file=A),A<l.model.length-1?A>=l.reference_file?l.selected_file.push(A+1):l.selected_file.pop():void 0):((e=l.selected_file[l.selected_file.length-1].get())<l.model.length-1?(l.selected_file.clear(),l.selected_file.push(e+1)):(l.selected_file.clear(),l.selected_file.push(l.model.length-1)),l.reference_file=void 0):l.selected_file.push(0)}),40:(a=this,function(t){var e,A,n,i,o,r;if(t.altKey&&a.selected_file.length>0){for(r=[],n=0,i=(o=a.selected_file.get()).length;n<i;n++)e=o[n],A=a.search_ord_index_from_id(e),r.push(a.open(a.model[A],a.path()));return r}}),65:(s=this,function(t){var e,A,n,i,o;if(t.ctrlKey){for(s.selected_file.clear(),o=[],e=A=0,n=(i=s.model).length;A<n;e=++A)i[e],o.push(s.selected_file.push(e));return o}}),46:(r=this,function(t){return r.delete_file()}),113:(o=this,function(t){var e,A;if(null!=(e=null!=(A=document.getElementsByClassName("selected_file")[0])?A.getElementsByClassName("linkDirectory"):void 0)&&e.length>0)return o.rename_file(e[0],o.model[o.search_ord_index_from_id(o.selected_file[0].get())])})},document.onkeydown=(d=this,function(t){if(!0===d.allow_shortkey&&null!=e[t.keyCode])return t.stopPropagation(),t.preventDefault(),e[t.keyCode](t),!0})}return n(i,Se),i.prototype.rename_file=function(t,e){return this.allow_shortkey=!1,t.contentEditable="true",t.focus(),t.onblur=(A=this,function(n){var i;return A.allow_shortkey=!0,i=t.innerHTML,e.name.set(i),e.load(function(t,e){return t.name.set(i)}),t.contentEditable="false",A.selected_file.clear()});var A},i.new_project_button=function(t){var e;return e=Ee({parentNode:t.container,className:"desk_panel_title"}),Ee({parentNode:e,nodeName:"div",txt:"Projects",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}}),Ee({parentNode:e,nodeName:"button",className:"desk_panel_button",txt:"New project",style:{margin:"3px 0px 0px 0px",padding:"0px 10px 0px 10px",height:"20px",cssFloat:"left"},onclick:function(e){var A,n,i;return A=new Date,n=prompt("Project name",A.toString()),(i=new gt).new_session(),i.modules.push(new Rt),i.modules.push(new Tt),i.modules.push(new Mt),i.modules.push(new Gt),i.modules.push(new Qt),i.modules.push(new Vt),t.get_fs_instance().load_or_make_dir(FileSystem._home_dir+"/__projects__",function(t,e){return t.add_file(n,i,{model_type:"Session",icon:"session"})})}})},i.prototype.onchange=function(){if(this.selected_file.has_been_directly_modified()&&this.draw_selected_file(),this.model.has_been_modified())return this.refresh()},i.prototype.refresh=function(){return this.empty_window(),this.init(),this.draw_selected_file()},i.prototype.empty_window=function(){return this.all_file_container.innerHTML=""},i.prototype.load_folder=function(t){return this.model.unbind(this),t._ptr.load((e=this,function(t,A){return e.model=t,e.model.bind(e),e.selected_file.clear()}));var e},i.prototype.open=function(t,e){var A;if(null!=t._info.model_type&&null!=(A=He._action_list[t._info.model_type])&&A.length)return A[0](t,e,this)},i.prototype.handle_files=function(t){var e,A,n,i;if(t.length>0&&"undefined"!=typeof FileSystem&&null!==FileSystem){for(FileSystem.get_inst(),i=[],A=0,n=t.length;A<n;A++)e=t[A],i.push(this.model.add_file(e.name,new Path(e)));return i}},i.prototype.make_initial_path_as_dom=function(t){var e;return e=new RegExp("[/]+","g"),t.split(e)},i.prototype.search_ord_index_from_id=function(t){var e,n,i,o,r,s;for(s=this.model.sorted(A),e=this.index_sorted[t],n=0,i=(r=this.model).length;n<i;n++)if(r[n],-1!==(o=this.model.indexOf(s[e])))return o},function(t,e){return t-e},i.prototype.delete_file=function(){var t,e,A,n,i,o,r,s;if(this.selected_file.length){for(A=[],n=0,i=(r=this.selected_file.get()).length;n<i;n++)t=r[n],e=this.search_ord_index_from_id(t),A.push(e);for(A.sort(this.sort_numerically),t=o=s=A.length-1;s<=0?o<=0:o>=0;t=s<=0?++o:--o)this.model.splice(A[t],1);return this.selected_file.clear()}},i.prototype.draw_selected_file=function(){var t,e,A,n,i,o;for(o=[],A=n=0,i=(e=document.getElementsByClassName("file_container")).length;n<i;A=++n)t=e[A],-1!==parseInt(this.selected_file.indexOf(A))?o.push(we(t,"selected_file")):o.push(Ne(t,"selected_file"));return o},i.prototype.cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},A=function(t,e){return t.name.get().toLowerCase()>e.name.get().toLowerCase()?1:-1},i.prototype.init=function(){var e,n,i,o,r,s,a,l,c;for(e=this.model.sorted(A),this.index_sorted.clear(),c=new Array,i=o=0,r=e.length;o<r;i=++o)"Session"===(n=e[i])._info.model_type.get()&&(c.push(n),this.index_sorted.push(i));for(this.allow_shortkey=!0,l=[],i=a=0,s=c.length;a<s;i=++a)n=c[i],l.push(function(e){return function(A,n){var i,o,r;return o=Ee({parentNode:e.all_file_container,nodeName:"div",className:"file_container",onmousedown:function(t){var A,i,o,r,s,a,l;if(t.ctrlKey)return-1!==(A=parseInt(e.selected_file.indexOf(n)))?e.selected_file.splice(A,1):e.selected_file.push(n);if(t.shiftKey){if(0===e.selected_file.length)return e.selected_file.push(n);for(i=e.selected_file[e.selected_file.length-1].get(),e.selected_file.clear(),l=[],o=r=s=i,a=n;s<=a?r<=a:r>=a;o=s<=a?++r:--r)l.push(e.selected_file.push(o));return l}return e.selected_file.clear(),e.selected_file.push(n)}}),e.picture=Ee({parentNode:o,nodeName:"img",src:"data:image/png;base64,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",alt:"",title:"",ondblclick:function(e){var n,i;return n=FileSystem._home_dir+"/__projects__",(i=t.open("","")).document.location="lab.html#"+encodeURI(n+"/"+A.name.get()),i.focus()}}),i=Ee({parentNode:o,className:"line_button",nodeName:"div"}),Ee({parentNode:i,className:"share_button",nodeName:"div",alt:"Share",title:"Share",onclick:function(t){return e.share_popup(t,A,A.name.get())}}),r=Ee({parentNode:o,className:"linkDirectory",nodeName:"div",txt:A.name.get(),onclick:function(t){return e.rename_file(r,c[n])}})}}(this)(n,i));return l},i.prototype.get_fs_instance=function(){var t;return"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?t=FileSystem.get_inst():(t=new FileSystem,FileSystem._disp=!1,t)},i.prototype.path=function(){return"test_need_to_be_complete"},i.prototype.share_popup=function(t,e,A){var n,i,o,r;if((o=(n=prompt("share '"+A+"' with (is'sim login) ?")).indexOf("@"))<0)return alert("Please enter a valid login (email adress)");r=n,console.log(n,o,r),(i=FileSystem.get_inst()).load("__users__/"+r,function(t,n){return n?alert("Please enter a valid login (email adress --)"):i.load_or_make_dir("__users__/"+r+"/__projects__",function(t,n){var i,o;if(n)return alert("??");for(o=A;t.has(o);)(i=o.indexOf("."))<0&&(i=o.length),o=o.slice(0,i)+"_"+o.slice(i,o.length);return t.push(e)})})},i.prototype.onPopupClose=function(){return document.onkeydown=void 0,this.clear_page(this.popup_share_div)},i.prototype.clear_page=function(t){var e;for(e=[];null!=t.firstChild;)e.push(t.removeChild(t.firstChild));return e},i.add_action=function(t,e){return null==He._action_list[t]&&(He._action_list[t]=[]),He._action_list[t].push(e)},i}();var _A;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;_A=function(t){function e(t,A,n){this.el=t,this.model=A,this.params=n,e.__super__.constructor.call(this,this.model)}return n(e,ve),e.prototype.onchange=function(){var t,e;if(this.model.has_been_modified)return t=[],this.tojson(t,this.model),e=t[0],this.update_tree(e)},e.prototype.tojson=function(t,e){var A,n,i,o,r;if(0!==e._children.length){for(t.push({name:e._name.get(),children:[]}),r=[],n=0,i=(o=e._children).length;n<i;n++)A=o[n],r.push(this.tojson(t[t.length-1].children,A));return r}return t.push({name:e._name.get()})},e.prototype.update_tree=function(t){var e,A,n,i,o,r,s,a,l;return e=this,this.style={button:{height:15,marginRight:10}},o={top:20,right:20,bottom:20,left:20},a=this.params.width-o.right-o.left,n=this.params.height-o.top-o.bottom,this.el.innerHTML="",r=Ee({className:"popup_toolbar",parentNode:this.el,style:{color:"#000"}}),Ee({parentNode:r,nodeName:"img",alt:"Zoom In",title:"Zoom In",src:"data:image/png;base64,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",className:"graph_icons",style:{height:e.style.button.height,marginRight:e.style.button.marginRight},onmousedown:function(t){return l(.05)}}),Ee({parentNode:r,nodeName:"img",alt:"Zoom Out",title:"Zoom Out",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAQAAACSoYmJAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgAgIRBjf5WuEHAAALqElEQVRo3u2aa4xcZRnHf+c2Z667O9u9lAiF0tJKiNALUqBaIw2QEATiJVwSMDFeguGL10g0kWAMd01oEzUxASRoohhQUbQVED4AUsFioFApWCjQ3bZ7mcuZM+fuh/OeM2dmz9LOzsAuyvtm0p3t7JnfPPN/n+f/Pu+BD8Z7M6T38J2GGSSLhkyAhcUsMwRLE1phjA2czmpGGSJLRkA3meEw+9jNbg7jLRVojTHWczHnMsYwWuprHKY5yFM8xD85jLu4stPYwPd4jgY+wVGnR4NdXM8G1MVDXsMP2XNMuMnp8yI3snoxgHNcxS6cVKjOOfc1Dk9xBbn3FvlE7mA6FdbDw8ONZ/g8DX6amznhvUtqW/gTbgduiOpgY2HRjKeFhY0j8NvRHR5i8/xJQukbssyl3M5mZPE8gBg9BO+Ms0+A35GpJXGtNZzF67yanseVviFfwW2siZ+3Yu3i4sSRDuNrxzH258GGMTZzgL1p2EqfhPEpbuOkjhh7eDg4WDQxadDAEI9GLA9XRDxoAw7/HWIjr6RFuz/F5Rx+yultyH6Hki0sbNWRPdmXCPBlX3U1Mujo6GTJkEFDRUFGSnDt5os8+25AH892LhFXCkAsPwe7FeHRxnHNU5un2ivd5b4eWNJBZb+6J7NHn8wdzhPOHFkyaCjIyAmy3/NlJtvfsPcKlOVaLupAdnGwaGBQo7a6urV2kXGOUW7KluRKHgFSoASar09ln87/sfhI6bUSAxRxyROgoQIygbjmhVzLTVj9jLTEZfyM0TnIJg1qVEZmLp+9cnZjJVvDwMTCxSNAQkFDJ0ehWdo18KuhX5enhhikRJ4sGdS2aE9wLQ/2cyEezx2cmsgZPi42TQwq0vTHj9w++aXJVRPqIQ5zhGlmmKVCjSp16tRp0FDNE61POOu8/f7bQSAhIyMlJkCRZTxBpV/QKl/lSiGxKCM7NDGYVacvO3zn5DkTmUkmOcwUM1SoUqMucogpZhM746xxzw0O8Jrky8hC1VJiQa7gTZ7F7w/0Wq7nxERe9nCwMKgo01ccvnVy1QQTHOIIM1SoYdBI1MLoYePg4I/6mzgovSz7MsocbIXlPNSKtdJTQbmca+IrBHi4WDSoyjOXHLll8qQJEeNZqkLRraLiiMroiPro45elM6WX5FcVFJH65IREhnm1lfp6gR7hO6ztiLNJjZlNR7ZNnhIiT1OhjomFE5fudN8XwJC8Tt6lvq2honbkbIUcv8XpHfoMvh2byAA/ksbA1E2HtkxKkxxhmipGnDMCASAhJb78QOQdkJBHlJz2uGYmC00Ua50neSP6ihcujvMZTMTZF+KoXTp7wYwULjsTG18kuFb1y5JFJ4uOjoaKhI+NSZVZeebimQsqUg0TGzf+XgDG+WSUoBdeXHKcn/jIkaLN8drV1cEKVQxsPGQyqLEpSrNGUdw9LOpUy8WrS4+WDhXJo+MllKByJss40hv06tggESc7i8Z5xpl1DEwcAjQUUdnmK2KRuQKFAJsG9S21s+t/MAMLBx1f6BrgFE7uFXo9AwkbKqAHzK1G2aCJi4SOTpjAlFiZnciB+I480URwMIuNzzT+bNqtlRCthZWs5JneoNdQ6DCiDtby5qYmlohyBo2s0K2cih3mj9BaNbGBAIfm2c1yc9LGEdkmGjonIuMvHFrmQwm9xVb0OGuVhYOPQs7SXyhYRfJkhXdLh3axMIN6vv6Rumoj4WEPW6fZk7aIdHKcQJbGwqFzDHXo0seVnJWO7uACKtps8YahvUOUyAsLJKWII0yU9aDyYe0XUtnAI8DLOavtR93EzrG1m9F7gc6SmfP2vuKdFFpPUMl6xTeHXlnGIEX0eaFDr5JFyfueg4sFeLq7wuvY04SjEPIuFDrTBi2WlOKPhrGRUNAkXc6Rp0iRLCrKvNAqPrZsoKPiAIHqL/MSGTrZt5J7gVZSamkAKlIrG4cZuDWl1Nwhd5ijILxOCjK9Fhcn8gGJC0qBZEqBJEkEBGL30sREwX/HSIcG1cLBFelNMpN+uv0veoC2sDuRkT35rTBLBLhYgeGF1dB6B037OJjUqXh1TGw8FGRbmVA6nEc4GmE2Xyi0SbMNWEJG8dT9aqBKMuDiZbkwONWlQY5MasqLHYtkBLUVFb1GE9BRmurraTtzqIXN4IVHeqotzjIKKtr+zGxmWEPCxR2yr7d8gxw62jyaRmzPLBpKo9jER0NGa+gvRT6vPdIHw1AtvCLux44zSAitoU9kX8huyaASYMnekIFKJmEy0yti2B9x8FHRUNHfzL4SVtL27yfgjXBXvnDoF6mxLOGQFTT0Q7kn81vyZJDxMHHFB5LnMU2tXp8PqORR0P3czpzZ6oG0dD3L/l6t6W5mWZYo6woaupXbWbiqsCKPjoyLidPajs7r8sK/15BR0MlPFB8suPl48bY+6qv8p1fog+zm5NgTh5rWyT9VfLR0TUmuoKPgY2PHtic970pIqGgoKOgUgtKDpT1FsRKUtk3Kngh64TsXh4eFnYyyh4ZO3iz+fODAIIMUyaGJ9GdjxS2DBg0ayQYCLj4yGXKUGNw3eF+pXiAX+5Uo1nWewuwVOuBJ3urIHxmyFP8+eO+QW6bMgACXQfSonbYZuTgFjRxFBik3y/eV/xF+4M40eZDH+rEbt1jL+o7mWkDg+6/4q7w1nuy39Z9Dt9bax0SSygjgYUaDsd+N3zhWHWaQQmxoo6s/zN3R+ugF2kbjArJz/6Ma/CtYG5wcSCQaXJHHCDtI0VY3R5ESQ4wwyvjO8a+NHVhGmVIi0iFyle+ztz8dpinWic5HRzo7Ir0grZZWylK03VLjh4qGhh62HykxyDAjjPrjfxn/1tjLIwxTIswdyTjvYHurBvcGbXA8H2s7i437GhPSM8pyZZWqamLjlSETtxFy5AVwmWFGGTPHHxj/Zog8QCFRWCQRnBt4vl/96Y1cGMtDEstaAwIkpL3qddqu7OcLpxVF49GMnZyEIsRRoMTgC+V7yneVp8oMUUpB9rifx5IJs5f+9HpuYWtb/olOWmzRUq9K1Y2Vz1Uuq66uy3Ua4pQlEJk5S94v/rv4wMD9g7sH/QEGKJBHJyP27xHdc3whGedeoNdxG+d1pMxAtG2iw4sGBoZeW1M/zzjfOM0caGZs1ZN9X3YVO1PLPp97pPBYYW/RLlKkIBrqWgfyNF/h/v6cuWzkZramuonkMZEVFRXZzJlDzZXWSfa4pwdNaUJ5I/OaPptt5vwc4YyaZO2G1OYWboqKSm/QG7i5QxhzsSPw1gmi6EQTiPrZ6u9l0GLgJLLHb/g6B/txunUGt88RRpp7C/DE4Wd0AOrhigIho6II1HDKwj23LFLADq5jH/QOvYFbUoWR3qMLEof5ftwUkBJFRhE/SW0HFuCxg2/wUj+OOTewI+6wHf3+jdYRaBMTgzo1qlTjs5fQMCUPnKPZ4F5W9ecE/Ax2HjNy+20TnefjkcLd1NsnJvgu4/1B3sDOru+WmXvHR3Km3e3h8jQXd7SCeqh+O7qM8tHurUl7xQF+JNxMH8a6roRR45fczVRXH9LjEHdzfpprXGjB7kYYdbYzwgCb+TG759wclDan2M1tbI7b9H0Sht9FlLfFG16V5XyW7TzCPhoprzXYx1+5k08z1o11k44hyrcepZS0m9W7+AGHOn57HKtYwTgjlNCRCGhiMMkhDrCPCfo81nUlDIPtibZC2ll6uFMpknv3bhvc2BVyjW0Ms8hjfVdJrsY2xhYbubvqZ7CdkcVG7lYY2xdfGBv+14VRZ5u4h2lRo9xt9Ssvvpa7Fcbo+08YY4ufl7sVxvBSEMbCbNGiLr/3mTAy3NMV8vbFjzLAWTx+jOJYErYo8tWb+NsxYC+J6pfEPnq0jaUijOQ48x2xl5AwOkXy2DzYS0wYndhp0TbYtvh++Z1F8kQHdm0p2KJjySTe0rJFx4J9No8vJb98rNgf5Qn8pWGLuhmb2MlPlvbyS4v2Wo7jg/F/PP4LFkZHfZBD+8MAAAAASUVORK5CYII=",className:"graph_icons",style:{height:e.style.button.height,marginRight:e.style.button.marginRight},onmousedown:function(t){return l(-.05)}}),Ee({parentNode:r,nodeName:"img",alt:"Rotate",title:"Rotate",src:"data:image/png;base64,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",className:"graph_icons",style:{height:e.style.button.height,marginRight:e.style.button.marginRight},onmousedown:function(t){return s()}}),this.scale=.8,this.orientation=-1,this.canvas=d3.select("svg").remove(),this.canvas=d3.select(this.el).append("svg").attr("width",a+o.right+o.left).attr("height",n+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")"),l=function(t){return e.scale+=t,e.canvas.attr("transform","translate("+o.left+","+o.top+") scale("+e.scale+")")},s=function(){return e.orientation*=-1,e.canvas.selectAll(".link").attr("d",d3.svg.diagonal().projection(function(t){return e.orientation>0?[t.x,t.y]:[t.y,t.x]})),e.node.attr("transform",function(t){return e.orientation>0?"translate("+t.x+","+t.y+")":"translate("+t.y+","+t.x+")"})},this.tree=d3.layout.tree().size([n,a]),this.nodes=this.tree.nodes(t),i=this.tree.links(this.nodes),this.node=this.canvas.selectAll("node").data(this.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"}),this.node.append("circle").attr("r",5).attr("fill","steelblue"),this.node.append("text").attr("dy","20px").text(function(t){return t.name}),A=d3.svg.diagonal().projection(function(t){return[t.y,t.x]}),this.canvas.selectAll(".link").data(i).enter().append("path").attr("class","link").attr("fill","none").attr("stroke","#ADADAD").attr("d",A)},e}();var fA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;fA=function(t){function e(t,A,n){this.el=t,this.tree_app=A,null==n&&(n={}),this.create_list_menu=Ct(this.create_list_menu,this),this.app_data=this.tree_app.data,e.__super__.constructor.call(this,this.app_data),this.icon_container=Ee({nodeName:"div",parentNode:this.el}),this.run_compute_action={txt:"run",fa:"fa-play",loc:!0,fun:function(t,e){var A,n,i,o,r,s;for(s=[],i=0,o=(n=e.data.selected_tree_items).length;i<o;i++)(A=(r=n[i])[r.length-1])._computation_mode.get()||A._computation_state.get()?s.push(void 0):s.push(A.do_it());return s}},this.stop_compute_action={txt:"stop",fa:"fa-stop",loc:!0,fun:function(t,e){var A,n,i,o,r,s;for(s=[],i=0,o=(n=e.data.selected_tree_items).length;i<o;i++)(A=(r=n[i])[r.length-1])._computation_state.get()||A._pending_state.get()||A._processing_state.get()||A._finish_state.get()?s.push(A.stop_it()):s.push(void 0);return s}}}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m,g;if(A=new Lst,p=!1,this.app_data.selected_tree_items.has_been_directly_modified)for(o=0,r=(_=this.app_data.selected_tree_items).length;o<r;o++){for((n=(u=_[o])[u.length-1])instanceof ft&&(n._computation_mode.get()||n._computation_state.get()?(n._computation_state.get()||n._pending_state.get()||n._processing_state.get()||n._finish_state.get())&&(p=!0,A.push(this.stop_compute_action)):A.push(this.run_compute_action)),c=0,s=(g=n.display_context_actions()).length;c<s;c++)(t=g[c])instanceof pt?function(t){var e,n,i,o,r;for(r=[],i=0,n=(o=t.actions).length;i<n;i++)e=o[i],r.push(function(t){if(!A.contains(t))return A.push(t)}(e))}(t):A.contains(t)||A.push(t);if(null!=n._context_actions)for(h=0,a=(f=n._context_actions).length;h<a;h++)(t=f[h])instanceof pt?function(t){var e,n,i,o,r;for(r=[],i=0,n=(o=t.actions).length;i<n;i++)e=o[i],r.push(function(t){if(!A.contains(t))return A.push(t)}(e))}(t):A.contains(t)||A.push(t)}for(this.el.appendChild(this.icon_container);null!=this.icon_container.firstChild;)this.icon_container.removeChild(this.icon_container.firstChild);for(e=Ee({parentNode:this.icon_container,nodeName:"span"}),p&&Ee({parentNode:e,nodeName:"span",className:"fa fa-cog fa-spin fa-3x fa-fw",style:{display:"inline-block",textAlign:"center",width:"100%",margin:"10px 0 0 0"}}),m=[],i=d=0,l=A.length;d<l;i=++d)!1!==(t=A[i]).vis&&m.push(this._select_icon_type_rec(t,e,1));return m},e.prototype.draw_item=function(t,e,A,n,i){return(o=this,function(t){var n,r;return null!=i&&"list"===i?(n=Ee({parentNode:e,nodeName:"img",alt:t.txt,title:t.txt+A,src:t.ico,style:{height:30},onmousedown:function(A){return t.fun(A,o.tree_app),e.classList.toggle("inline")}}),Ee({parentNode:e,nodeName:"br"})):t.txtico?(n=Ee({parentNode:e,nodeName:"span",className:"ContextModule",alt:t.txt,title:t.txt+A,onclick:function(e){return t.fun(e,o.tree_app)}}),Ee({nodeName:"div",className:"text_icon",parentNode:n,txt:t.txtico})):t.fa?(r="fa "+t.fa+" fa-2x",n=Ee({parentNode:e,nodeName:"span",className:"ContextModule",alt:t.txt,title:t.txt+A,onclick:function(e){return t.fun(e,o.tree_app)}}),Ee({nodeName:"i",className:r,parentNode:n})):(n=Ee({parentNode:e,nodeName:"span",className:"ContextModule"}),Ee({nodeName:"img",src:t.ico,parentNode:n,alt:t.txt,title:t.txt,style:{height:30},onclick:function(e){return t.fun(e,o.tree_app)}})),n})(t);var o},e.prototype.display_child_menu_container=function(t,e){var A;if(1===e&&(A=document.getElementsByClassName("menu_container"))[A.length-1].classList.add("block"),0===e)return(A=document.getElementsByClassName("menu_container"))[A.length-1].classList.remove("block")},e.prototype.create_list_menu=function(t,e,A,n){var i,o,r,s,a,l;return r=Ee({parentNode:e,nodeName:"span",className:"ContextModule"}),t.fa?(s="fa "+t.fa+" fa-2x",Ee({parentNode:r,nodeName:"i",alt:t.txt,title:t.txt+A,className:s,onmousedown:(l=this,function(e){var A;return null!=(A=t.sub.act[0])?A.fun(e,l.tree_app):void 0})})):null!=t.ico&&t.ico.length>0&&Ee({parentNode:r,nodeName:"img",alt:t.txt,title:t.txt+A,src:t.ico,className:"parent_list_icon",style:{height:30},onmousedown:(a=this,function(e){var A;return null!=(A=t.sub.act[0])?A.fun(e,a.tree_app):void 0})}),i=Ee({parentNode:r,nodeName:"span",className:"arrow_container",onmousedown:function(t){return o.classList.toggle("block")}}),Ee({parentNode:i,nodeName:"i",className:"fa fa-caret-down fa-lg",alt:""}),o=Ee({parentNode:e,nodeName:"span",className:"container_hidden_icon",id:"id_hidden_icon"})},e.prototype._select_icon_type_rec=function(t,e,A,n){var i,o,r,s,a,l,c,h;if(null==n&&(n=""),s=this.key_as_string(t),null!=t.sub&&null!=t.sub.prf&&null!=t.sub.act?(!1,t.fun=function(e,A){return t.sub.act[0].fun(e,A)},o=this.create_list_menu(t,e,s,A)):o=this.draw_item(t,e,s,A,n),null!=(null!=(c=t.sub)?c.act:void 0)){for(r=a=0,l=(h=t.sub.act).length;a<l;r=++a)i=h[r],this._select_icon_type_rec(i,o,A,t.sub.prf);return!0}return!1},e.prototype.key_as_string=function(t){var e,A,n,i,o,r;if(n="",null!=t.key){for(n=" (",e=i=0,o=(r=t.key).length;i<o;e=++i)A=r[e],e>=1&&(n+=" or "),n+=A;n+=")"}return n},e}();var mA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;mA=function(e){function A(t,e,n){var i;this.bel=t,this.data=null!=e?e:new gt,null==n&&(n=!0),A.__super__.constructor.call(this,this.data),this.layouts={},this.cur_session_model_id=-1,this.active_key=new Bool(!0),this.undo_manager=new u(this.data),this.he=Ee({parentNode:this.bel,style:{position:"absolute",left:0,right:0,top:"31px",height:"30px"}}),this.el=Ee({parentNode:this.bel,id:"main_window",style:{position:"absolute",left:0,right:0,top:"61px",bottom:0}}),n||(this.he.style.top="0px",this.el.style.top="31px"),this.icobar=new vA(this.he,this,{allow_sub:!1}),document.addEventListener("keydown",(i=this,function(t){return i._on_key_down(t)}),!0),this.msg_container=Ee({nodeName:"div",id:"msg_container",parentNode:this.el,txt:""})}return n(A,ve),A.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d;if(null!=(null!=(s=this.treeview)?s.flat:void 0))for(A=0,i=(a=this.treeview.flat).length;A<i;A++)if(null!=(null!=(l=(e=a[A]).item)?l._messages:void 0)&&e.item._messages.has_been_modified())for(n=0,o=(c=e.item._messages).length;n<o;n++)(r=c[n]).has_been_modified()&&function(t){return function(e){var A,n;return A=Ee({nodeName:"span",id:"msg_box",parentNode:t.msg_container}),n=Ee({nodeName:"span",parentNode:A,txt:e.provenance+" : "+e.title}),Ee({nodeName:"br",parentNode:A}),n.classList.add(e.type),setTimeout(function(){return t.msg_container.removeChild(A)},5e3)}}(this)(r);if(this.data.selected_tree_items.has_been_modified()&&null!=(d=this.data.selected_session())&&(null==this.layouts[d.model_id]&&(this.layouts[d.model_id]=this._new_LayoutManager(d)),this.cur_session_model_id!==d.model_id&&(null!=(h=this.layouts[this.cur_session_model_id])&&h.hide(),this.layouts[d.model_id].show(),this.cur_session_model_id=d.model_id)),(t=this.data.selected_display_settings())._layout.has_been_modified())return this.data.update_associated_layout_data(t)},A.prototype.selected_canvas_inst=function(){var t,e,A,n,i,o,r;for(r=this.data.selected_session(),e=this.layouts[r.model_id],o=[],t=0,A=(i=this.data.selected_canvas_pan).length;t<A;t++)n=i[t],null!=e._pan_vs_id[n]&&o.push(e._pan_vs_id[n]);return o},A.prototype.all_canvas_inst=function(){var t,e,A,n,i;i=this.data.selected_session(),e=[],n=this.layouts[i.model_id]._pan_vs_id;for(t in n)(A=n[t])instanceof wA&&e.push(A);return e},A.prototype.fit=function(t){var e,A,n,i,o;for(null==t&&(t=1),o=[],e=0,n=(i=this.selected_canvas_inst()).length;e<n;e++)A=i[e],o.push(A.cm.fit(t));return o},A.prototype._new_LayoutManager=function(t){var e,A,n;return e=t._children.detect(function(t){return t instanceof re}),(A=new Pe(this.el,e._layout)).new_panel_instance=(n=this,function(t){return n._new_panel_instance(e,t)}),A},A.prototype._new_panel_instance=function(t,e){var A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m;if("IcoBar"===e.panel_id)return(u=new ke(this.el,e)).div.className="PanelInstanceIcoBar",this.icobar=new vA(u.div,this,{allow_sub:!1}),u;if("ContextBar"===e.panel_id)return(u=new ke(this.el,e)).div.className="PanelInstanceContextBar",new fA(u.div,this),u;if("TreeView"===e.panel_id)return(u=new ke(this.el,e,"Scene")).div.className="PanelInstanceTreeView",this.treeview=new Ce(u.div,this.data.tree_items,this.data.selected_tree_items,this.data.visible_tree_items,this.data.closed_tree_items,this.data.last_canvas_pan),u.treeview=this.treeview,u.div.onmousedown=(f=this,function(){return f.data.focus.set(f.treeview.process_id),!0}),u;if("EditView"===e.panel_id)return(u=new ke(this.el,e,"Inspector")).div.className="PanelInstanceEditView",new bA(u.div,this.data,this.undo_manager),u;if("MapView"===e.panel_id)return u=new EA(this.el,this.data,_,this.undo_manager);for(_=void 0,n=0,s=(c=t._children).length;n<s;n++)if((A=c[n])._panel_id.get()===e.panel_id){_=A;break}if(null==_&&(_=new qt(this.data,e.panel_id,this._next_view_item_cam),this._next_view_item_child&&_.add_child(this._next_view_item_child),t._children.push(_),delete this._next_view_item_cam),Ct(this.data.selected_canvas_pan,(m=this,function(){return m.data.selected_canvas_pan.contains(e.panel_id)?_._name_class.set("SelectedViewItem"):_._name_class.set("UnselectedViewItem")})),null==this.data.visible_tree_items[e.panel_id]){for(this.data.visible_tree_items.add_attr(e.panel_id,new Lst([_])),o=0,a=(h=this.data.panel_id_list()).length;o<a;o++)if(i=h[o],this.data.visible_tree_items[i].length>=2){for(r=0,l=(d=this.data.visible_tree_items[i]).length;r<l;r++)(p=d[r])instanceof qt||this.data.visible_tree_items[e.panel_id].push(p);break}}else this.data.visible_tree_items[e.panel_id].push(_);return this.data.selected_canvas_pan.clear(),this.data.selected_canvas_pan.push(e.panel_id),this.data.last_canvas_pan.set(e.panel_id),this.undo_manager.snapshot(),new wA(this.el,this.data,_,this.undo_manager)},A.prototype._on_key_down=function(t){var e,A,n,i,o,r,s;if(this.active_key.get()){if(16<=(o=t.keyCode)&&o<=18)return;for(e="",t.ctrlKey&&(e+="Ctrl+"),t.shiftKey&&(e+="Shift+"),t.altKey&&(e+="Alt+"),e+={8:"BackSpace",9:"Tab",13:"Enter",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"LeftArrow",38:"UpArrow",39:"RightArrow",40:"DownArrow",45:"Insert",46:"Del",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock"}[t.keyCode]||String.fromCharCode(t.keyCode).toUpperCase(),s=[],A=0,n=(r=this.data.modules).length;A<n;A++)i=r[A],s.push(this._on_key_down_rec(i.actions,e,t));return s}},A.prototype._on_key_down_rec=function(t,e,A){var n,i,o,r,s,a,l;for(i=0,r=t.length;i<r;i++){if(null!=(n=t[i]).key&&(null==n.ina||!n.ina(this)))for(o=0,s=(a=n.key).length;o<s;o++)if(a[o]===e)return"function"==typeof n.fun&&n.fun(A,this),this._cancel_natural_hotkeys(A),!0;null!=(null!=(l=n.sub)?l.act:void 0)&&this._on_key_down_rec(n.sub.act,e,A)}return!1},A.prototype._cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),!1},A}();var gA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;gA=function(t){function e(t,A,n,i,o,r,s){this.el=t,this.roots=A,this.selected=null!=n?n:new Lst,this.visible=null!=i?i:new Model,this.closed=null!=o?o:new Lst,this.visibility_context=r,this.tree_app=s,e.__super__.constructor.call(this,[this.roots,this.selected,this.visible,this.closed,this.visibility_context]),this.treeview=new Ce(this.el,this.roots,this.selected,this.visible,this.closed,this.visibility_context)}return n(e,ve),e}();var vA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;vA=function(t){function e(t,A,n){var i,o;this.el=t,this.tree_app=A,null==n&&(n={}),this.create_list_menu=Ct(this.create_list_menu,this),this.modules=this.tree_app.data.modules,e.__super__.constructor.call(this,this.modules),this.app_data=this.tree_app.data,e.__super__.constructor.call(this,this.app_data),this.tree_app.data.focus.bind(this),this.loc=!1;for(i in n)o=n[i],this[i]=o;!1===this.loc&&(this.disp_top=0,this.disp_left=0,this.height=0,this.height_ico=24,this.div=Ee({className:"IcoBar",style:{position:"absolute",right:0}})),this.icon_container=Ee({nodeName:"div",className:"FooterTreeView",parentNode:this.el}),this.init()}return n(e,ve),e.prototype.init=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u;for((t=new Lst).set(this.app_data.modules),A=0,n=(h=this.app_data.selected_tree_items).length;A<n;A++)if(null!=(e=(c=h[A])[c.length-1])._context_modules)for(a=0,i=(d=e._context_modules).length;a<i;a++)s=d[a],t.contains(s)||t.push(s);if(this._render_loc_actions(this.tree_app),!0!==this.loc){for(this.el.appendChild(this.div),this.div.style.top=this.disp_top,this.div.style.left=this.disp_left,this.hidden_ico=!1;null!=this.div.firstChild;)this.div.removeChild(this.div.firstChild);for(u=[],l=0,o=t.length;l<o;l++)null!=(r=t[l]).visible&&!1===r.visible||u.push(function(t){return function(e){var A,n,i,o,r,s,a,l,c,h,d,u;for(i=Ee({parentNode:t.div,nodeName:"span",className:"module"}),null!=e.right&&(i.style.cssFloat="right"),h=s=r=n=void 0,o=function(e){var A,o;if(o=e.siz||1,1===e.siz?void 0!==h&&h!==n||(A=Ee({parentNode:i,nodeName:"span",className:"container_icon"}),s=Ee({parentNode:A,nodeName:"span",className:"icon_top_span"}),Ee({parentNode:A,nodeName:"br"}),r=Ee({parentNode:A,nodeName:"span",className:"icon_bot_span"}),h=s):(void 0===h&&(h=n),h!==s&&h!==r||(A=Ee({parentNode:i,nodeName:"span",className:"container_icon"}),n=Ee({parentNode:A,nodeName:"span",className:"big_icon_span"}),h=n)),t._select_icon_type_rec(e,h,o),1===e.siz&&h!==n&&void 0===e.ord||!0===e.ord)return h=h===s?r:s},u=[],a=c=0,l=(d=e.actions).length;c<l;a=++c)!1!==(A=d[a]).vis&&!0!==A.loc&&(o(A),u.push(Ee({parentNode:i,nodeName:"div",className:"module_title",txt:e.name})));return u}}(this)(r));return u}},e.prototype.key_as_string=function(t){var e,A,n,i,o,r;if(n="",null!=t.key){for(n=" (",e=i=0,o=(r=t.key).length;i<o;e=++i)A=r[e],e>=1&&(n+=" or "),n+=A;n+=")"}return n},e.prototype.display_child_menu_container=function(t,e){var A;if(1===e&&(A=document.getElementsByClassName("menu_container"))[A.length-1].classList.add("block"),0===e)return(A=document.getElementsByClassName("menu_container"))[A.length-1].classList.remove("block")},e.prototype.draw_item=function(t,e,A,n,i){var o,r,s,a,l,c,h,d,u;return!1!==t.vis&&(null!=i&&"menu"===i?null!=t.mod?(Le({el:e,model:t.mod(this.tree_app),item_width:85}),s=e):null!=(null!=(r=t.sub)?r.act:void 0)?(o=Ee({parentNode:e,nodeName:"div",className:"elem_container_parent",txt:t.txt,title:t.txt+A,onmouseover:(u=this,function(t){return u.display_child_menu_container(t,1)}),onmouseout:(d=this,function(t){return d.display_child_menu_container(t,0)})}),Ee({parentNode:o,nodeName:"img",className:"menu_img_arrow",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90CGQ0RLrJyU6gAAABLSURBVBjTY/z//z8DqYCFgYGB4evnR0Tr5OaVY2SCMYjVwMDAwMCELkBIA4omfBrRxZkIKcBq0P///7HiL58e/sclx0hOkDMxkAEAsgUzZcOBlXMAAAAASUVORK5CYII=",alt:""})):(s=Ee({parentNode:e,nodeName:"div",className:"elem_container",title:t.txt+A,onmousedown:(h=this,function(A){return t.fun(A,h.tree_app),e.classList.toggle("block")})}),Ee({parentNode:s,nodeName:"span",txt:t.txt}),Ee({parentNode:s,nodeName:"span",className:"elem_container_key",txt:A})):null!=i&&"list"===i?(s=Ee({parentNode:e,nodeName:"img",alt:t.txt,title:t.txt+A,src:t.ico,style:{height:this.height_ico*n},onmousedown:(c=this,function(A){return t.fun(A,c.tree_app),e.classList.toggle("inline")})}),Ee({parentNode:e,nodeName:"br"})):null!=t.ico&&t.ico.length>0?s=Ee({parentNode:e,nodeName:"img",alt:t.txt,title:t.txt+A,src:t.ico,style:{height:this.height_ico*n,cursor:"pointer"},onmousedown:(l=this,function(e){return t.fun(e,l.tree_app)})}):null!=t.mod?(Le({el:e,model:t.mod(this.tree_app),item_width:85}),s=e):null!=t.txt&&(s=Ee({parentNode:e,nodeName:"span",txt:t.txt,title:t.txt+A,style:{height:this.height_ico*n,cursor:"pointer"},onmousedown:(a=this,function(e){return t.fun(e,a.tree_app)})}))),s},e.prototype.create_hierarchical_menu=function(t,e,A){var n,i;return"menu_container"===e.className?Ee({parentNode:e,nodeName:"div",className:"menu_container",style:{left:"100%"},onmouseover:(i=this,function(t){return i.display_child_menu_container(t,1)}),onmouseout:(n=this,function(t){return n.display_child_menu_container(t,0)})}):Ee({parentNode:e,nodeName:"div",className:"menu_container",style:{top:"70%"}})},e.prototype.create_list_menu=function(t,e,A,n){var i,o,r,s,a;return r=Ee({parentNode:e,nodeName:"span",className:"click_container"}),null!=t.ico&&t.ico.length>0?Ee({parentNode:r,nodeName:"img",alt:t.txt,title:t.txt+A,src:t.ico,className:"parent_list_icon",style:{height:this.height_ico*n},onmousedown:(a=this,function(e){var A;return null!=(A=t.sub.act[0])?A.fun(e,a.tree_app):void 0})}):null!=t.mod?Le({el:r,model:t.mod(this.tree_app),item_width:85}):null!=t.txt&&Ee({parentNode:r,nodeName:"span",txt:t.txt,title:t.txt+A,style:{height:this.height_ico*n},onmousedown:(s=this,function(e){return t.fun(e,s.tree_app)})}),i=Ee({parentNode:r,nodeName:"span",className:"arrow_container",onmousedown:function(t){return o.classList.toggle("inline")}}),Ee({parentNode:i,nodeName:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90CGQ0RLrJyU6gAAABLSURBVBjTY/z//z8DqYCFgYGB4evnR0Tr5OaVY2SCMYjVwMDAwMCELkBIA4omfBrRxZkIKcBq0P///7HiL58e/sclx0hOkDMxkAEAsgUzZcOBlXMAAAAASUVORK5CYII=",alt:"",className:"arrow"}),o=Ee({parentNode:e,nodeName:"span",className:"container_hidden_icon",id:"id_hidden_icon"})},e.prototype._select_icon_type_rec=function(t,e,A,n){var i,o,r,s,a,l,c,h,d;if(null==n&&(n=""),s=this.key_as_string(t),null!=t.sub&&null!=t.sub.prf&&null!=t.sub.act?"list"===t.sub.prf?(c=!1,t.fun=function(e,A){return t.sub.act[0].fun(e,A)},o=this.create_list_menu(t,e,s,A)):"menu"===t.sub.prf&&(o=this.create_hierarchical_menu(t.sub,e,s),c=!1,this.draw_item(t,e,s,A,n),t.fun=function(t,e){return o.classList.toggle("block")}):!1!==t.vis&&!1!==c&&(o=this.draw_item(t,e,s,A,n)),null!=(null!=(h=t.sub)?h.act:void 0)){for(r=a=0,l=(d=t.sub.act).length;a<l;r=++a)i=d[r],this._select_icon_type_rec(i,o,A,t.sub.prf);return!0}return!1},e.prototype._render_loc_actions=function(t){var e,A,n,i,o;for(this.tree_app=t;null!=this.icon_container.firstChild;)this.icon_container.removeChild(this.icon_container.firstChild);for(o=[],e=0,A=(i=this.modules).length;e<A;e++)n=i[e],o.push(function(t){return function(e){var A,n,i,o,r,s;for(s=[],n=o=0,i=(r=e.actions).length;o<i;n=++o)!0===(A=r[n]).loc&&s.push(function(e){var A;return A=Ee({nodeName:"img",src:e.ico,className:"FooterTreeViewIcon",parentNode:t.icon_container,alt:e.txt,title:e.txt,style:{cursor:"pointer"},onclick:function(A){return e.fun(A,t.tree_app)}}),t.bnd&&null!=e.bnd&&null!=e.vis?e.bnd(t.tree_app.data).bind(function(){return e.vis(t.tree_app)?A.style.display="none":A.style.display="inline-block"}):t.bnd||null==e.bnd?void 0:A.style.display="none"}(A));return s}}(this)(n));return o},e}();var yA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;yA=function(e){function A(t,e,n){var i;this.bel=t,this.data=null!=e?e:new gt,null==n&&(n=!0),A.__super__.constructor.call(this,this.data),this.layouts={},this.cur_session_model_id=-1,this.active_key=new Bool(!0),this.undo_manager=new u(this.data),this.he=Ee({parentNode:this.bel,style:{position:"absolute",left:0,right:0,top:"31px",height:"30px"}}),this.el=Ee({parentNode:this.bel,id:"main_window",style:{position:"absolute",left:0,right:0,top:"61px",bottom:0}}),n||(this.he.style.top="0px",this.el.style.top="31px"),this.icobar=new vA(this.he,this,{allow_sub:!1}),document.addEventListener("keydown",(i=this,function(t){return i._on_key_down(t)}),!0),this.msg_container=Ee({nodeName:"div",id:"msg_container",parentNode:this.el,txt:""})}return n(A,ve),A.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d;if(null!=(null!=(s=this.treeview)?s.flat:void 0))for(A=0,i=(a=this.treeview.flat).length;A<i;A++)if(null!=(null!=(l=(e=a[A]).item)?l._messages:void 0)&&e.item._messages.has_been_modified())for(n=0,o=(c=e.item._messages).length;n<o;n++)(r=c[n]).has_been_modified()&&function(t){return function(e){var A,n;return A=Ee({nodeName:"span",id:"msg_box",parentNode:t.msg_container}),n=Ee({nodeName:"span",parentNode:A,txt:e.provenance+" : "+e.title}),Ee({nodeName:"br",parentNode:A}),n.classList.add(e.type),setTimeout(function(){return t.msg_container.removeChild(A)},5e3)}}(this)(r);if(this.data.selected_tree_items.has_been_modified()&&null!=(d=this.data.selected_session())&&(null==this.layouts[d.model_id]&&(this.layouts[d.model_id]=this._new_LayoutManager(d)),this.cur_session_model_id!==d.model_id&&(null!=(h=this.layouts[this.cur_session_model_id])&&h.hide(),this.layouts[d.model_id].show(),this.cur_session_model_id=d.model_id)),(t=this.data.selected_display_settings())._layout.has_been_modified())return this.data.update_associated_layout_data(t)},A.prototype.selected_canvas_inst=function(){var t,e,A,n,i,o,r;for(r=this.data.selected_session(),e=this.layouts[r.model_id],o=[],t=0,A=(i=this.data.selected_canvas_pan).length;t<A;t++)n=i[t],null!=e._pan_vs_id[n]&&o.push(e._pan_vs_id[n]);return o},A.prototype.all_canvas_inst=function(){var t,e,A,n,i;i=this.data.selected_session(),e=[],n=this.layouts[i.model_id]._pan_vs_id;for(t in n)(A=n[t])instanceof wA&&e.push(A);return e},A.prototype.fit=function(t){var e,A,n,i,o;for(null==t&&(t=1),o=[],e=0,n=(i=this.selected_canvas_inst()).length;e<n;e++)A=i[e],o.push(A.cm.fit(t));return o},A.prototype._new_LayoutManager=function(t){var e,A,n;return e=t._children.detect(function(t){return t instanceof re}),(A=new Pe(this.el,e._layout)).new_panel_instance=(n=this,function(t){return n._new_panel_instance(e,t)}),A},A.prototype._new_panel_instance=function(t,e){var A,n,i,o,r,s,a,l,c,h,d,u,p,_,f,m;if("IcoBar"===e.panel_id)return(u=new ke(this.el,e)).div.className="PanelInstanceIcoBar",this.icobar=new vA(u.div,this,{allow_sub:!1}),u;if("ContextBar"===e.panel_id)return(u=new ke(this.el,e)).div.className="PanelInstanceContextBar",new fA(u.div,this),u;if("TreeView"===e.panel_id)return(u=new ke(this.el,e,"Scene")).div.className="PanelInstanceTreeView",this.treeview=new Ce(u.div,this.data.tree_items,this.data.selected_tree_items,this.data.visible_tree_items,this.data.closed_tree_items,this.data.last_canvas_pan),u.treeview=this.treeview,u.div.onmousedown=(f=this,function(){return f.data.focus.set(f.treeview.process_id),!0}),u;if("EditView"===e.panel_id)return(u=new ke(this.el,e,"Inspector")).div.className="PanelInstanceEditView",new bA(u.div,this.data,this.undo_manager),u;if("MapView"===e.panel_id)return u=new EA(this.el,this.data,_,this.undo_manager);for(_=void 0,n=0,s=(c=t._children).length;n<s;n++)if((A=c[n])._panel_id.get()===e.panel_id){_=A;break}if(null==_&&(_=new qt(this.data,e.panel_id,this._next_view_item_cam),this._next_view_item_child&&_.add_child(this._next_view_item_child),t._children.push(_),delete this._next_view_item_cam),Ct(this.data.selected_canvas_pan,(m=this,function(){return m.data.selected_canvas_pan.contains(e.panel_id)?_._name_class.set("SelectedViewItem"):_._name_class.set("UnselectedViewItem")})),null==this.data.visible_tree_items[e.panel_id]){for(this.data.visible_tree_items.add_attr(e.panel_id,new Lst([_])),o=0,a=(h=this.data.panel_id_list()).length;o<a;o++)if(i=h[o],this.data.visible_tree_items[i].length>=2){for(r=0,l=(d=this.data.visible_tree_items[i]).length;r<l;r++)(p=d[r])instanceof qt||this.data.visible_tree_items[e.panel_id].push(p);break}}else this.data.visible_tree_items[e.panel_id].push(_);return this.data.selected_canvas_pan.clear(),this.data.selected_canvas_pan.push(e.panel_id),this.data.last_canvas_pan.set(e.panel_id),this.undo_manager.snapshot(),new EA(this.el,this.data,_,this.undo_manager)},A.prototype._on_key_down=function(t){var e,A,n,i,o,r,s;if(this.active_key.get()){if(16<=(o=t.keyCode)&&o<=18)return;for(e="",t.ctrlKey&&(e+="Ctrl+"),t.shiftKey&&(e+="Shift+"),t.altKey&&(e+="Alt+"),e+={8:"BackSpace",9:"Tab",13:"Enter",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"LeftArrow",38:"UpArrow",39:"RightArrow",40:"DownArrow",45:"Insert",46:"Del",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock"}[t.keyCode]||String.fromCharCode(t.keyCode).toUpperCase(),s=[],A=0,n=(r=this.data.modules).length;A<n;A++)i=r[A],s.push(this._on_key_down_rec(i.actions,e,t));return s}},A.prototype._on_key_down_rec=function(t,e,A){var n,i,o,r,s,a,l;for(i=0,r=t.length;i<r;i++){if(null!=(n=t[i]).key&&(null==n.ina||!n.ina(this)))for(o=0,s=(a=n.key).length;o<s;o++)if(a[o]===e)return"function"==typeof n.fun&&n.fun(A,this),this._cancel_natural_hotkeys(A),!0;null!=(null!=(l=n.sub)?l.act:void 0)&&this._on_key_down_rec(n.sub.act,e,A)}return!1},A.prototype._cancel_natural_hotkeys=function(e){return e||(e=t.event),e.cancelBubble=!0,"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault(),!1},A}();var wA,xA=function(t,e){return function(){return t.apply(e,arguments)}};n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;wA=function(e){function A(t,e,n,i){var o,r,s,a,l,c,h;this.app_data=e,this.view_item=n,this._launch_context_menu=xA(this._launch_context_menu,this),this._add_transform_node=xA(this._add_transform_node,this),A.__super__.constructor.call(this,t),this.divCanvas=document.createElement("div"),this.divCanvas.style.position="absolute",this._manage_is_chown=!1,this.cm=new AA({el:this.divCanvas,cam:this.view_item.cam,items:this.app_data.visible_tree_items[this.view_item._panel_id],time:this.app_data.time,context_menu:(r=this,function(t,e){return r._launch_context_menu(t,e)}),add_transform:(o=this,function(t,e){return o._add_transform_node(t)}),theme:this.app_data.selected_display_settings().theme,undo_manager:i,allow_gl:!0}),this.cm.active_items=(s=this,function(){var t,e,A;return A=[],null!=(null!=(e=s.cm)?e.items:void 0)&&(A=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.cm.items).length;e<A;e++)t=n[e],i.push(t);return i}.call(s)),A}),this.cm.selected_items=(a=this,function(){var t,e,A,n,i;for(n=[],t=0,e=(A=a.app_data.selected_tree_items).length;t<e;t++)i=A[t],n.push(i[i.length-1]);return n}),this.app_data.selected_tree_items.bind(this.cm),this.app_data.focus.set(this.cm.process_id),this.cm.select_canvas_fun.push((l=this,function(t,e){if(l.app_data.focus.set(l.cm.process_id),e.ctrlKey?l.app_data.selected_canvas_pan.toggle(l.view_item._panel_id):l.app_data.selected_canvas_pan.set([l.view_item._panel_id]),l.app_data.selected_canvas_pan.contains(l.view_item._panel_id))return l.app_data.last_canvas_pan.set(l.view_item._panel_id)})),this.cm.click_fun.push(function(t,e){}),this.cm.dblclick_fun.push((c=this,function(t,e){return c._add_transform_node(e)})),Ct(this.app_data.selected_canvas_pan,(h=this,function(){return h._update_borders()}))}return n(A,ke),A.prototype.destructor=function(){var t;return A.__super__.destructor.call(this),"function"==typeof(t=this.cm).destructor&&t.destructor(),delete this.cm,delete this.divManager},A.prototype.render=function(t){var e,A;return this.el.appendChild(this.div),this.div.appendChild(this.divCanvas),this.p_min=t.p_min,this.p_max=t.p_max,this._update_borders(),A=t.p_max[0]-t.p_min[0],e=t.p_max[1]-t.p_min[1]-30,this.cm.resize(A,e),this.cm.draw()},A.prototype._update_borders=function(){var t,e;return e=1*this.app_data.selected_canvas_pan.contains(this.view_item._panel_id),this.div.style.left=this.p_min[0]-e,this.div.style.top=this.p_min[1]-e,this.div.style.width=this.p_max[0]-this.p_min[0],this.div.style.height=this.p_max[1]-this.p_min[1],e?(this.div.style.borderWidth=1,we(this.div,"SelectedCanvas")):(this.div.style.borderWidth=0,Ne(this.div,"SelectedCanvas")),this.divCanvas.style.left=0,this.divCanvas.style.top=30,this.divCanvas.style.width=this.p_max[0]-this.p_min[0],this.divCanvas.style.height=this.p_max[1]-this.p_min[1]-30,t=new Pt,this._show_actions_module_manage(t.actions,t)},A.prototype._add_transform_node=function(t){var e,A,n,i,o;for(o=[],e=0,A=(i=this.app_data.modules).length;e<A;e++)(n=i[e])instanceof Ft&&o.push(n.actions[1].fun(t,this.app_data._processes[0]));return o},A.prototype._launch_context_menu=function(t,e){return!0===e?this._show_context_menu(t):this._delete_context_menu(t)},A.prototype._delete_context_menu=function(t){var e;if(null!==document.getElementById("contextMenu"))return e=document.getElementById("contextMenu"),document.getElementById("main_window").removeChild(e)},A.prototype._find_entity=function(t){var e,A,n,i,o,r,s,a,l,c,h,d,u,p;for(s=[],A=0,o=(u=this.cm.active_items()).length;A<o;A++)if(e=u[A],h=[t.clientX-xe(this.cm.canvas),t.clientY-be(this.cm.canvas)],null!=e._closest_point_closer_than&&(d=function(){var t,A,n,i;for(i=[],t=0,A=(n=e.mesh.points).length;t<A;t++)a=n[t],i.push(this.cm.cam_info.re_2_sc.proj(a.pos.get()));return i}.call(this),(c=e._closest_point_closer_than(d,h,10))>=0))return c.type="Mesh",c;for(l=n=0;n<2;l=++n)for(i=0,r=(p=this.cm.active_items()).length;i<r;i++)if(null!=(e=p[i]).get_movable_entities&&(e.get_movable_entities(s,this.cm.cam_info,[this.cm.mouse_x,this.cm.mouse_y],l),s.length))return s;return[]},A.prototype._show_context_menu=function(e){var A,n,i;return null==e&&(e=t.event),this._delete_context_menu(),i=!1,(A=this._find_entity(e)).length>0&&(i="Transform"===A[0].type?"Transform":"Mesh"),this.modules=this.app_data.modules,n=document.getElementById("main_window"),this.menu=Ee({parentNode:n,id:"contextMenu",style:{position:"absolute",left:e.clientX-xe(this.div),top:e.clientY-be(this.div)}}),"Transform"===i?this._show_actions(Ft):"Mesh"===i?this._show_actions(Dt):this._show_actions(Tt),this._show_actions(Rt)},A.prototype._show_actions=function(t){var e,A,n,i,o;for(o=[],e=0,A=(i=this.modules).length;e<A;e++)(n=i[e])instanceof t&&o.push(this._show_actions_module_rec(n.actions,t));return o},A.prototype._show_actions_module_rec=function(t,e){var A,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)null!=(A=t[n]).ico&&o.push(function(t){return function(A){var n,i;if(n=Ee({parentNode:t.menu,className:"contextMenuElement",onclick:function(e){return A.fun(e,t.app_data._processes[0]),t._delete_context_menu(e)}}),Ee({parentNode:n,nodeName:"img",src:A.ico,alt:"",title:A.txt,height:24,style:{paddingRight:"2px"}}),Ee({parentNode:n,nodeName:"span",txt:A.txt,style:{position:"relative",top:"-5px"}}),null!=(null!=(i=A.sub)?i.act:void 0))return t._show_actions_module_rec(A.sub.act,e),!0}}(this)(A));return o},A.prototype._show_actions_module_manage=function(t,e){var A,n,i;if(!this._manage_is_chown)for(0,n=0,i=t.length;n<i;n++)null!=(A=t[n]).ico&&function(t){return function(A){var n,i;if(n=Ee({parentNode:t.div,style:{paddingRight:"4px",paddingTop:"2px",background:"#262626",width:30,height:30,cssFloat:"right"},onclick:function(e){var n,i,o;for(n=0,i=(o=t.cm.select_canvas_fun).length;n<i;n++)(0,o[n])(t.cm,e);return A.fun(e,t.app_data._processes[0])}}),1,Ee({parentNode:n,nodeName:"img",src:A.ico,alt:"",title:A.txt,height:22,style:{marginTop:"2px",paddingRight:"4px",float:"left"}}),null!=(null!=(i=A.sub)?i.act:void 0))return t._show_actions_module_manage(A.sub.act,e),!0}}(this)(A);return this._manage_is_chown=!0},A}();var bA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;bA=function(t){function e(t,A,n){this.div=t,this.app_data=A,this.undo_manager=n,e.__super__.constructor.call(this,this.app_data),this.model_editors={},this.div_icobar={},this.old_divs=[]}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s,a,l,c,h,d,u,p,_;if(this.app_data.selected_tree_items.has_been_modified){for(A=0,o=(c=this.old_divs).length;A<o;A++)t=c[A],this.div.removeChild(t);for(this.old_divs=[],u=[],n=0,r=(h=this.app_data.selected_tree_items).length;n<r;n++){if(p=(l=h[n])[l.length-1],null==(a=this.model_editors[p.model_id])){if(a=Ee(),null==this.div_icobar[p.model_id])for(this.div_icobar[p.model_id]=Ee({parentNode:a}),i=0,s=(d=this.app_data._processes).length;i<s;i++)if((_=d[i])instanceof mA){new vA(this.div_icobar[p.model_id],_,p instanceof ft?{bnd:!0,loc:!0}:{bnd:!1,loc:!0});break}e=Ee({parentNode:a}),Le({el:e,model:p,undo_manager:this.undo_manager,focus:this.app_data.focus}),this.model_editors[p.model_id]=a}this.div.appendChild(a),u.push(this.old_divs.push(a))}return u}},e}();var EA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;EA=function(t){function e(t,A,n,i){var o,r,s,a;this.app_data=A,this.view_item=n,e.__super__.constructor.call(this,t),this.divMap=document.createElement("div"),this.divMap.style.position="absolute",this._manage_is_chown=!1,this.mm=new MapManager({el:this.divMap,items:this.app_data.visible_tree_items[this.view_item._panel_id],time:this.app_data.time,undo_manager:i}),this.mm.active_items=(o=this,function(){var t,e,A;return A=[],null!=(null!=(e=o.mm)?e.items:void 0)&&(A=function(){var e,A,n,i;for(i=[],e=0,A=(n=this.mm.items).length;e<A;e++)t=n[e],i.push(t);return i}.call(o)),A}),this.mm.selected_items=(r=this,function(){var t,e,A,n,i;for(n=[],t=0,e=(A=r.app_data.selected_tree_items).length;t<e;t++)i=A[t],n.push(i[i.length-1]);return n}),this.app_data.selected_tree_items.bind(this.mm),this.app_data.focus.set(this.mm.process_id),this.mm.select_canvas_fun.push((s=this,function(t,e){if(s.app_data.focus.set(s.mm.process_id),e.ctrlKey?s.app_data.selected_canvas_pan.toggle(s.view_item._panel_id):s.app_data.selected_canvas_pan.set([s.view_item._panel_id]),s.app_data.selected_canvas_pan.contains(s.view_item._panel_id))return s.app_data.last_canvas_pan.set(s.view_item._panel_id)})),Ct(this.app_data.selected_canvas_pan,(a=this,function(){return a._update_borders()}))}return n(e,ke),e.prototype.destructor=function(){var t;return e.__super__.destructor.call(this),"function"==typeof(t=this.mm).destructor&&t.destructor(),delete this.mm,delete this.divManager},e.prototype.render=function(t){var e,A;return this.el.appendChild(this.div),this.div.appendChild(this.divMap),this.p_min=t.p_min,this.p_max=t.p_max,this._update_borders(),A=t.p_max[0]-t.p_min[0],e=t.p_max[1]-t.p_min[1]-30,this.mm.resize(A,e),this.mm.draw()},e.prototype._update_borders=function(){var t,e,A;return e=1*this.app_data.selected_canvas_pan.contains(this.view_item._panel_id),this.div.style.left=this.p_min[0]-e,this.div.style.top=this.p_min[1]-e,this.div.style.width=this.p_max[0]-this.p_min[0],this.div.style.height=this.p_max[1]-this.p_min[1],this.div.onclick=(A=this,function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=A.mm.select_canvas_fun).length;n<i;n++)e=o[n],r.push(e(A.mm,t));return r}),e?(this.div.style.borderWidth=1,we(this.div,"SelectedCanvas")):(this.div.style.borderWidth=0,Ne(this.div,"SelectedCanvas")),this.divMap.style.left=0,this.divMap.style.top=30,this.divMap.style.width=this.p_max[0]-this.p_min[0],this.divMap.style.height=this.p_max[1]-this.p_min[1]-30,t=new Ut,this._show_actions_module_manage(t.actions,t)},e.prototype._show_actions=function(t){var e,A,n,i,o;for(o=[],e=0,A=(i=this.modules).length;e<A;e++)(n=i[e])instanceof t&&o.push(this._show_actions_module_rec(n.actions,t));return o},e.prototype._show_actions_module_rec=function(t,e){var A,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)null!=(A=t[n]).ico&&o.push(function(t){return function(A){var n,i;if(n=Ee({parentNode:t.menu,className:"contextMenuElement",onclick:function(e){return A.fun(e,t.app_data._processes[0]),t._delete_context_menu(e)}}),Ee({parentNode:n,nodeName:"img",src:A.ico,alt:"",title:A.txt,height:24,style:{paddingRight:"2px"}}),Ee({parentNode:n,nodeName:"span",txt:A.txt,style:{position:"relative",top:"-5px"}}),null!=(null!=(i=A.sub)?i.act:void 0))return t._show_actions_module_rec(A.sub.act,e),!0}}(this)(A));return o},e.prototype._show_actions_module_manage=function(t,e){var A,n,i;if(!this._manage_is_chown)for(0,n=0,i=t.length;n<i;n++)null!=(A=t[n]).ico&&function(t){return function(A){var n,i;if(n=Ee({parentNode:t.div,style:{paddingRight:"4px",paddingTop:"2px",background:"#262626",width:30,height:30,cssFloat:"right"},onclick:function(e){var n,i,o;for(n=0,i=(o=t.mm.select_canvas_fun).length;n<i;n++)(0,o[n])(t.mm,e);return A.fun(e,t.app_data._processes[0])}}),1,Ee({parentNode:n,nodeName:"img",src:A.ico,alt:"",title:A.txt,height:22,style:{marginTop:"2px",paddingRight:"4px",float:"left"}}),null!=(null!=(i=A.sub)?i.act:void 0))return t._show_actions_module_manage(A.sub.act,e),!0}}(this)(A);return this._manage_is_chown=!0},e}();var BA;Ct=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;BA=function(t){function e(t,A,n){this.el=t,this.tree_app=A,null==n&&(n={}),this.get_fs_instance=Ct(this.get_fs_instance,this),this.app_data=this.tree_app.data,e.__super__.constructor.call(this,this.app_data),this.icon_container=Ee({nodeName:"div",parentNode:this.el,style:{padding:"0 0 0 0"}})}return n(e,ve),e.prototype.onchange=function(){var t,A,n,i,o,r,s;if(this.app_data.selected_list_desk_items.has_been_directly_modified){for(;null!=this.icon_container.firstChild;)this.icon_container.removeChild(this.icon_container.firstChild);if(i=Ee({parentNode:this.icon_container,nodeName:"span"}),"Projects"===(s=null!=this.app_data.selected_list_desk_items[0]._ref?this.app_data.selected_list_desk_items[0]._ref.get():this.app_data.selected_list_desk_items[0]._name.get()))return n=FileSystem._home_dir+"/__projects__",(r=this.get_fs_instance()).load_or_make_dir(n,function(t,e){return new pA({el:i,model:t})});if("Files"===s)return r=this.get_fs_instance(),t=FileSystem._home_dir+"/__files__",r.load_or_make_dir(t,function(t,e){return new He({el:i,model:t,use_icons:!0,use_upload:!0,use_breadcrumb:!0,use_use:!1,display:"all"})});if("OrganisationFiles"===s)return r=this.get_fs_instance(),A=this.app_data.config.selected_organisation[0].directory,new He({el:i,model:A,use_icons:!0,use_upload:!0,use_breadcrumb:!0,use_use:!1,display:"all"});if("Organisations"===s)return A=FileSystem._home_dir+"/__organisations__",o=this.app_data.config,(r=this.get_fs_instance()).load_or_make_dir(A,function(t,e){return new uA({el:i,model:t,config:o})});if("Applications"===s)return new iA({el:i,model:this.app_data.config.selected_organisation[0].list_applications,use_icons:!0,config:this.app_data.config});if("Admin"===this.selected_list_desk_items)return e.new_admin_button(i,this),new aA({el:i,model:this.app_data.config.selected_organisation[0].admin_users});if("Users"===s)return e.new_users_button(i,this),new aA({el:i,model:this.app_data.config.selected_organisation[0].list_users})}},e.prototype.get_fs_instance=function(){var t;return"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?t=FileSystem.get_inst():(t=new FileSystem,FileSystem._disp=!1,t)},e.new_users_button=function(t,e){var A;return A=Ee({parentNode:t,className:"desk_panel_title"}),Ee({parentNode:A,nodeName:"div",txt:"Users",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}})},e.new_admin_button=function(t,e){var A;return A=Ee({parentNode:t,className:"desk_panel_title"}),Ee({parentNode:A,nodeName:"div",txt:"Admin users",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}})},e}();var NA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;NA=function(t){function e(t,A,n){this.el=t,this.tree_app=A,null==n&&(n={}),this.app_data=this.tree_app.data,e.__super__.constructor.call(this,this.app_data),this.icon_container=Ee({nodeName:"div",parentNode:this.el})}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n,i,o,r,s;if(this.app_data.selected_list_desk_items.has_been_directly_modified){for(this.el.appendChild(this.icon_container);null!=this.icon_container.firstChild;)this.icon_container.removeChild(this.icon_container.firstChild);for(t=Ee({parentNode:this.icon_container,nodeName:"span"}),r=[],n=e=0,i=(o=this.app_data.list_desk_items).length;e<i;n=++e)A=o[n],s=!1,this.app_data.selected_list_desk_items.contains(A)&&(s=!0),r.push(this.draw_item(A,t,1,s));return r}},e.prototype.draw_item=function(t,e,A,n){return(i=this,function(t){var A;return A=Ee({parentNode:e,nodeName:"div",onmousedown:function(e){return i.app_data.selected_list_desk_items.clear(),i.app_data.selected_list_desk_items.push(t)},style:{height:30,width:"100%",fontWeight:"bold",cursor:"pointer",background:n?"#b8dbe9":void 0}}),Ee({parentNode:A,nodeName:"div",txt:t._name,style:{height:25,fontWeight:"bold",fontSize:"18px",padding:"5px 0 0 50px",cursor:"pointer"}})})(t);var i},e}();var CA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;CA=function(t){function e(t,A,n){this.el=t,this.tree_app=A,null==n&&(n={}),this.app_data=this.tree_app.data,e.__super__.constructor.call(this,this.app_data),this.icon_container=Ee({nodeName:"div"})}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n;if(this.app_data.list_desk_items.has_been_directly_modified){for(this.el.appendChild(this.icon_container);null!=this.icon_container.firstChild;)this.icon_container.removeChild(this.icon_container.firstChild);return A=Ee({parentNode:this.icon_container,className:"desk_panel_title"}),Ee({parentNode:A,nodeName:"div",txt:"Messages",style:{margin:"5px 20px 0px 0px",height:"30px",cssFloat:"left"}}),Ee({parentNode:A,nodeName:"button",className:"desk_panel_button",txt:"New message",style:{margin:"3px 0px 0px 0px",padding:"0px 10px 0px 10px",height:"20px",cssFloat:"left"},onclick:function(e){var A,i;return""!==(i=prompt("Message name",""))?(A=new at(i),n.load_or_make_dir(t,function(t,e){return t.add_file(i,A,{model_type:"Message"})})):alert("you must type a name !")}}),e=Ee({parentNode:this.icon_container,nodeName:"span"}),"undefined"!=typeof FileSystem&&null!==FileSystem&&null!=FileSystem.get_inst()?n=FileSystem.get_inst():(n=new FileSystem,FileSystem._disp=!1),t=FileSystem._home_dir+"/__messages__",n.load_or_make_dir(t,function(t,A){return new cA({el:e,model:t})})}},e.display_messages=function(t,e){var A,n,i,o,r;for(r=[],A=0,n=t.length;A<n;A++)i=t[A],o=Ee({parentNode:e,nodeName:"div",style:{width:"100%"},onclick:function(t){return i.load(function(e,A){return new hA(e,t)})}}),r.push(Ee({parentNode:o,nodeName:"div",txt:i.name,style:{margin:"0px 0px 0px 10px"}}));return r},e}();var PA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;PA=function(t){function e(t,e){var A;this.bel=t,this.data=null!=e?e:new gt,this.user_email=Cookies.set("email"),this.layout=this.data.layout,this.el=Ee({parentNode:this.bel,id:"organisation_container",style:{position:"absolute",left:0,right:0,top:"32px",bottom:0}}),this.lm=new Pe(this.el,this.layout),this.lm.new_panel_instance=(A=this,function(t){return A._new_panel_instance(t)}),this.lm.show()}return n(e,ve),e.prototype._new_panel_instance=function(t){var e;return"DeskListView"===t.panel_id?((e=new ke(this.el,t,"Desk")).div.className="PanelInstanceTreeView",new NA(e.div,this),e):"DeskNavigatorView"===t.panel_id?((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",new BA(e.div,this),e):"MessageListView"===t.panel_id?((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",new CA(e.div,this),e):((e=new ke(this.el,t)).div.className="PanelInstanceContextBar",e)},e}();var kA;n=function(t,e){for(var A in e)i.call(e,A)&&(t[A]=e[A]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;kA=function(t){function e(t,A,n){var i,o;this.el=t,this.tree_app=A,null==n&&(n={}),this.modules=this.tree_app.data.modules,e.__super__.constructor.call(this,this.modules),this.tree_app.data.focus.bind(this);for(i in n)o=n[i],this[i]=o;this.div=Ee({id:"timeline"})}return n(e,ve),e.prototype.onchange=function(){var t,e,A,n,i;for(this.el.appendChild(this.div);null!=this.div.firstChild;)this.div.removeChild(this.div.firstChild);for(i=[],t=0,e=(n=this.modules).length;t<e;t++)null!=(A=n[t]).timeline&&!0===A.timeline&&(null!=A.visible&&!1===A.visible||i.push(function(t){return function(e){var A,n,i,o,r,s,a,l;for(l=Ee({parentNode:t.div,nodeName:"span",className:"timeline_speed"}),Le({el:l,model:e.img_per_sec,item_type:Ue,item_width:""}),Ee({parentNode:l,nodeName:"span",className:"timeline_speed_txt",txt:"img/s"}),Ee({parentNode:t.div,nodeName:"span",className:"timeline_current_picture_name",txt:"Picture "+t.tree_app.data.time.get()}),r=Ee({parentNode:t.div,id:"timeline_player_button"}),a=[],n=o=0,i=(s=e.actions).length;o<i;n=++o)!1!==(A=s[n]).vis&&a.push(function(e){var A,n,i;return null!=e.mod?(n=Ee({parentNode:t.div,className:"timeline_scroll_pane"}),Le({el:n,model:e.mod(t.tree_app)})):(A=t.key_as_string(e),i=Ee({parentNode:r,nodeName:"span"}),Ee({parentNode:i,nodeName:"img",src:e.ico,alt:e.txt,title:e.txt+A,onmousedown:function(A){return e.fun(A,t.tree_app)}}))}(A));return a}}(this)(A)));return i},e.prototype.key_as_string=function(t){var e,A,n,i,o,r;if(n="",null!=t.key){for(n=" (",e=i=0,o=(r=t.key).length;i<o;e=++i)A=r[e],e>=1&&(n+=" or "),n+=A;n+=")"}return n},e}(),t.exports=A,t.BrowserState=e,t.extend=n,t.hasProp=i,t.LayoutManagerData=o,t.extend=n,t.hasProp=i,t.MoveButtons=r,t.extend=n,t.hasProp=i,t.Gradient=s,t.extend=n,t.hasProp=i,t.Color=a,t.extend=n,t.hasProp=i,t.StrLanguage=l,t.extend=n,t.hasProp=i,t.root=c,t.extend=n,t.hasProp=i,t.Vec_3=h,t.extend=n,t.hasProp=i,t.Mat_3=d,t.extend=n,t.hasProp=i,t.UndoManager=u,t.SurfaceTheme=p,t.extend=n,t.hasProp=i,t.Theme=_,t.extend=n,t.hasProp=i,t.LineTheme=f,t.extend=n,t.hasProp=i,t.PointTheme=m,t.extend=n,t.hasProp=i,t.Drawable=g,t.extend=n,t.hasProp=i,t.Element=v,t.extend=n,t.hasProp=i,t.ParametrizedDrawable=y,t.extend=n,t.hasProp=i,t.Element_WithIndices=w,t.extend=n,t.hasProp=i,t.Lst_Point=x,t.extend=n,t.hasProp=i,t.ServerAssistedVisualization=b,t.extend=n,t.hasProp=i,t.Choice_RestrictedByDim=E,t.extend=n,t.hasProp=i,t.Cam=B,t.extend=n,t.hasProp=i,t.MoveScheme_2D=N,t.extend=n,t.hasProp=i,t.MoveScheme_3D=C,t.extend=n,t.hasProp=i,t.NamedParametrizedDrawable=P,t.extend=n,t.hasProp=i,t.Sketch=k,t.extend=n,t.hasProp=i,t.Img=S,t.extend=n,t.hasProp=i,t.Graph_old=R,t.extend=n,t.hasProp=i,t.indexOf=I,t.Transform=F,t.extend=n,t.hasProp=i,t.Graph=M,t.extend=n,t.hasProp=i,t.indexOf=I,t.CanvasPoint=z,t.extend=n,t.hasProp=i,t.ZoomArea=L,t.extend=n,t.hasProp=i,t.Mesh=D,t.extend=n,t.hasProp=i,t.Axes=U,t.extend=n,t.hasProp=i,t.Point=Q,t.extend=n,t.hasProp=i,t.Background=T,t.extend=n,t.hasProp=i,t.CamRepresentation=O,t.extend=n,t.hasProp=i,t.Legend=G,t.extend=n,t.hasProp=i,t.CuttingPlan=V,t.extend=n,t.hasProp=i,t.indexOf=I,t.PointMesher=Y,t.extend=n,t.hasProp=i,t.NodalField=X,t.extend=n,t.hasProp=i,t.InterpolatedField=H,t.extend=n,t.hasProp=i,t.ImageField=W,t.extend=n,t.hasProp=i,t.VectorialField=K,t.extend=n,t.hasProp=i,t.FieldSet=j,t.extend=n,t.hasProp=i,t.ElementaryField=J,t.extend=n,t.hasProp=i,t.Element_Line=q,t.extend=n,t.hasProp=i,t.Element_Arc=Z,t.extend=n,t.hasProp=i,t.Element_TriangleList=tt,t.extend=n,t.hasProp=i,t.Element_BoundedSurf=et,t.extend=n,t.hasProp=i,t.indexOf=I,t.Element_Q4List=At,t.extend=n,t.hasProp=i,t.Element_HexahedraList=nt,t.extend=n,t.hasProp=i,t.Element_BoundedVolume=it,t.extend=n,t.hasProp=i,t.indexOf=I,t.Element_TetrahedraList=ot,t.extend=n,t.hasProp=i,t.TreeAppApplication=rt,t.extend=n,t.hasProp=i,t.UserModel=st,t.extend=n,t.hasProp=i,t.MessageCollection=at,t.extend=n,t.hasProp=i,t.Message=lt,t.extend=n,t.hasProp=i,t.Organisation=ct,t.extend=n,t.hasProp=i,t.OrganisationData=ht,t.extend=n,t.hasProp=i,t.Animation=dt,t.TreeItem=ut,t.extend=n,t.hasProp=i,t.TreeAppModule=pt,t.extend=n,t.hasProp=i,t.CollectionTreeItem=_t,t.extend=n,t.hasProp=i,t.TreeItem_Computable=ft,t.extend=n,t.hasProp=i,t.TreeItem_Automatic=mt,t.extend=n,t.hasProp=i,t.TreeAppData=gt,t.extend=n,t.hasProp=i,t.indexOf=I,t.TreeAppApplication_Test=vt,t.extend=n,t.hasProp=i,t.TreeAppApplication_TreeItemParametric=yt,t.extend=n,t.hasProp=i,t.TreeAppApplication_Sketcher=wt,t.extend=n,t.hasProp=i,t.TreeAppApplication_Grid=xt,t.extend=n,t.hasProp=i,t.TreeAppApplication_DeepCopy=bt,t.extend=n,t.hasProp=i,t.TreeAppApplication_Annotation=Et,t.extend=n,t.hasProp=i,t.TreeAppAction_Save=Bt,t.extend=n,t.hasProp=i,t.TreeAppAction_AddModel=Nt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_PanelManagerTop=Pt,t.extend=n,t.hasProp=i,t.TreeAppModule_Download=kt,t.extend=n,t.hasProp=i,t.TreeAppModule_ImageSet=St,t.extend=n,t.hasProp=i,t.TreeAppModule_UndoManager=Rt,t.extend=n,t.hasProp=i,t.TreeAppModule_Collection=It,t.extend=n,t.hasProp=i,t.TreeAppModule_Transform=Ft,t.extend=n,t.hasProp=i,t.TreeAppModule_File=Mt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_Compute=zt,t.extend=n,t.hasProp=i,t.TreeAppModule_Logo_SC=Lt,t.extend=n,t.hasProp=i,t.TreeAppModule_Sketch=Dt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_MapManagerTop=Ut,t.extend=n,t.hasProp=i,t.TreeAppModule_Animation=Qt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_PanelManager=Tt,t.extend=n,t.hasProp=i,t.TreeAppModule_Projects=Ot,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_Apps=Gt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_TreeView=Vt,t.extend=n,t.hasProp=i,t.TreeAppModule_ScillsAssembly=Yt,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeAppModule_Mesher=Xt,t.extend=n,t.hasProp=i,t.FieldSetSetItem=Ht,t.extend=n,t.hasProp=i,t.AnnotationItem=Wt,t.extend=n,t.hasProp=i,t.MeshItem=Kt,t.extend=n,t.hasProp=i,t.FieldSetsVisuItem=jt,t.extend=n,t.hasProp=i,t.RawVolume=Jt,t.extend=n,t.hasProp=i,t.ViewItem=qt,t.extend=n,t.hasProp=i,t.FileItem=Zt,t.extend=n,t.hasProp=i,t.TreeItem_Parametric=$t,t.extend=n,t.hasProp=i,t.ShootingItem=te,t.extend=n,t.hasProp=i,t.FieldSetItem=ee,t.extend=n,t.hasProp=i,t.FieldSetFileItem=Ae,t.extend=n,t.hasProp=i,t.ImgDirectorySetItem=ne,t.extend=n,t.hasProp=i,t.DirectoryFieldSetCorreliItem=ie,t.extend=n,t.hasProp=i,t.FieldSetsDataItem=oe,t.extend=n,t.hasProp=i,t.DisplaySettingsItem=re,t.extend=n,t.hasProp=i,t.indexOf=I,t.SketchItem=se,t.extend=n,t.hasProp=i,t.MesherItem=ae,t.extend=n,t.hasProp=i,t.ImgSetItem=le,t.bind=Ct,t.extend=n,t.hasProp=i,t.SessionItem=ce,t.extend=n,t.hasProp=i,t.ImgItem=he,t.extend=n,t.hasProp=i,t.TransformItem=de,t.extend=n,t.hasProp=i,t.GridItem=ue,t.extend=n,t.hasProp=i,t.AdminDeskConfig=pe,t.extend=n,t.hasProp=i,t.DeskConfig=_e,t.extend=n,t.hasProp=i,t.AdminDeskData=fe,t.extend=n,t.hasProp=i,t.DeskData=me,t.extend=n,t.hasProp=i,t.DeskItem=ge,t.extend=n,t.hasProp=i,t.View=ve,t.extend=n,t.hasProp=i,t._index_current_popup=ye,t.add_class=we,t.get_left=xe,t.get_top=be,t.new_dom_element=Ee,t.new_popup=Be,t.rem_class=Ne,t.indexOf=I,t.TreeView=Ce,t.extend=n,t.hasProp=i,t.indexOf=I,t.LayoutManager=Pe,t.extend=n,t.hasProp=i,t.LayoutManagerPanelInstance=ke,t.ModelEditorItem=Se,t.extend=n,t.hasProp=i,t.indexOf=I,t.ModelEditorItem_Aggregate=Re,t.extend=n,t.hasProp=i,t.ModelEditorItem_NewAttr=Ie,t.extend=n,t.hasProp=i,t.ModelEditorItem_NewTreeItem=Fe,t.extend=n,t.hasProp=i,t.ModelEditorItem_ConstOrNotModel=Me,t.extend=n,t.hasProp=i,t.ModelEditorItem_Lst=ze,t.extend=n,t.hasProp=i,t.new_model_editor=Le,t.ModelEditorItem_Bool_Img=De,t.extend=n,t.hasProp=i,t.ModelEditorItem_Input=Ue,t.extend=n,t.hasProp=i,t.ModelEditorItem_NewClass=Qe,t.extend=n,t.hasProp=i,t.ModelEditorItem_TypedArray=Te,t.extend=n,t.hasProp=i,t.ModelEditorItem_ChoiceWithEditableItems=Oe,t.extend=n,t.hasProp=i,t.ModelEditorItem_ConstrainedVal=Ge,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_Button=Ve,t.extend=n,t.hasProp=i,t.ModelEditorItem_TextArea=Ye,t.extend=n,t.hasProp=i,t.ModelEditorItem_CheckBox=Xe,t.extend=n,t.hasProp=i,t.ModelEditorItem_Directory=He,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_Choice=We,t.extend=n,t.hasProp=i,t.ModelEditorItem_Choice_Roll=Ke,t.extend=n,t.hasProp=i,t.ModelEditorItem_MoveButtons=je,t.extend=n,t.hasProp=i,t.ColorPickerImg=Je,t.extend=n,t.hasProp=i,t.ModelEditorItem_ColorPicker=qe,t.extend=n,t.hasProp=i,t.ModelEditorItem_Gradient=Ze,t.extend=n,t.hasProp=i,t.ModelEditorItem_GradientPicker=$e,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_Color=tA,t.extend=n,t.hasProp=i,t.ModelEditorItem_TextAreaLanguage=eA,t.extend=n,t.hasProp=i,t.CanvasManager=AA,t.extend=n,t.hasProp=i,t.ModelEditorItem_Log_List=nA,t.extend=n,t.hasProp=i,t.ModelEditorItem_Application=iA,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_ApplicationLite=oA,t.bind=Ct,t.extend=n,t.hasProp=i,t.LoginBar=rA,t.extend=n,t.hasProp=i,t.UserEditView=sA,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_User=aA,t.extend=n,t.hasProp=i,t.LoginView=lA,t.extend=n,t.hasProp=i,t.ModelEditorItem_Message=cA,t.bind=Ct,t.extend=n,t.hasProp=i,t.MessageView=hA,t.bind=Ct,t.extend=n,t.hasProp=i,t.OrganisationView=dA,t.extend=n,t.hasProp=i,t.ModelEditorItem_Organisation=uA,t.bind=Ct,t.extend=n,t.hasProp=i,t.ModelEditorItem_Project=pA,t.bind=Ct,t.extend=n,t.hasProp=i,t.GraphView=_A,t.extend=n,t.hasProp=i,t.ContextBar=fA,t.bind=Ct,t.extend=n,t.hasProp=i,t.TreeApp=mA,t.extend=n,t.hasProp=i,t.TreeView_ModuleView=gA,t.extend=n,t.hasProp=i,t.IcoBar=vA,t.bind=Ct,t.extend=n,t.hasProp=i,t.MapTreeApp=yA,t.extend=n,t.hasProp=i,t.CanvasManagerPanelInstance=wA,t.bind1=xA,t.extend=n,t.hasProp=i,t.EditView=bA,t.extend=n,t.hasProp=i,t.MapManagerPanelInstance=EA,t.extend=n,t.hasProp=i,t.DeskNavigatorView=BA,t.bind=Ct,t.extend=n,t.hasProp=i,t.DeskListView=NA,t.extend=n,t.hasProp=i,t.MessageListView=CA,t.extend=n,t.hasProp=i,t.DeskApp=PA,t.extend=n,t.hasProp=i,t.Timeline=kA,t.extend=n,t.hasProp=i}).call(window,window);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1]);
